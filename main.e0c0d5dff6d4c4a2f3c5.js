(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{"1OFI":function(e,t,n){var a=n("mp5j");e.exports=(a.default||a).template({compiler:[8,">= 4.3.0"],main:function(e,t,n,a,A){var r,i=null!=t?t:e.nullContext||{},s=e.hooks.helperMissing,o="function",l=e.escapeExpression,c=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<li class="gallery__item modal-trigger" data-target="modal-card" data-id="'+l(typeof(r=null!=(r=c(n,"id")||(null!=t?c(t,"id"):t))?r:s)===o?r.call(i,{name:"id",hash:{},data:A,loc:{start:{line:1,column:74},end:{line:1,column:80}}}):r)+'">\r\n    <div class="gallery__img-container" data-id="'+l(typeof(r=null!=(r=c(n,"id")||(null!=t?c(t,"id"):t))?r:s)===o?r.call(i,{name:"id",hash:{},data:A,loc:{start:{line:2,column:49},end:{line:2,column:55}}}):r)+'">\r\n        <img class="gallery__img" src="https://image.tmdb.org/t/p/w500'+l(typeof(r=null!=(r=c(n,"poster_path")||(null!=t?c(t,"poster_path"):t))?r:s)===o?r.call(i,{name:"poster_path",hash:{},data:A,loc:{start:{line:3,column:70},end:{line:3,column:86}}}):r)+'" alt="'+l(typeof(r=null!=(r=c(n,"title")||(null!=t?c(t,"title"):t))?r:s)===o?r.call(i,{name:"title",hash:{},data:A,loc:{start:{line:3,column:93},end:{line:3,column:102}}}):r)+' movie poster">\r\n    </div>\r\n    <h3 class="gallery__movie-title">'+l(typeof(r=null!=(r=c(n,"title")||(null!=t?c(t,"title"):t))?r:s)===o?r.call(i,{name:"title",hash:{},data:A,loc:{start:{line:5,column:37},end:{line:5,column:46}}}):r)+'</h3>\r\n    <p class="gallery__movie-genre">'+l(typeof(r=null!=(r=c(n,"genres")||(null!=t?c(t,"genres"):t))?r:s)===o?r.call(i,{name:"genres",hash:{},data:A,loc:{start:{line:6,column:36},end:{line:6,column:46}}}):r)+" | "+l(typeof(r=null!=(r=c(n,"year")||(null!=t?c(t,"year"):t))?r:s)===o?r.call(i,{name:"year",hash:{},data:A,loc:{start:{line:6,column:49},end:{line:6,column:57}}}):r)+'\r\n    </p>\r\n    <span class="gallery__movie-rating">'+l(typeof(r=null!=(r=c(n,"vote_average")||(null!=t?c(t,"vote_average"):t))?r:s)===o?r.call(i,{name:"vote_average",hash:{},data:A,loc:{start:{line:8,column:40},end:{line:8,column:56}}}):r)+"</span>\r\n</li>"},useData:!0})},"1V9C":function(e,t,n){var a=n("mp5j");e.exports=(a.default||a).template({1:function(e,t,n,a,A){var r,i,s=null!=t?t:e.nullContext||{},o=e.hooks.helperMissing,l="function",c=e.escapeExpression,u=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<li class="gallery__item modal-trigger" data-target="modal-card" data-id="'+c(typeof(i=null!=(i=u(n,"id")||(null!=t?u(t,"id"):t))?i:o)===l?i.call(s,{name:"id",hash:{},data:A,loc:{start:{line:1,column:88},end:{line:1,column:94}}}):i)+'">\r\n    <div class="gallery__img-container" data-id="'+c(typeof(i=null!=(i=u(n,"id")||(null!=t?u(t,"id"):t))?i:o)===l?i.call(s,{name:"id",hash:{},data:A,loc:{start:{line:2,column:49},end:{line:2,column:55}}}):i)+'">\r\n        <img class="gallery__img" src="https://image.tmdb.org/t/p/w500'+c(typeof(i=null!=(i=u(n,"poster_path")||(null!=t?u(t,"poster_path"):t))?i:o)===l?i.call(s,{name:"poster_path",hash:{},data:A,loc:{start:{line:3,column:70},end:{line:3,column:86}}}):i)+'" alt="'+c(typeof(i=null!=(i=u(n,"title")||(null!=t?u(t,"title"):t))?i:o)===l?i.call(s,{name:"title",hash:{},data:A,loc:{start:{line:3,column:93},end:{line:3,column:102}}}):i)+' movie poster">\r\n    </div>\r\n    <h3 class="gallery__movie-title">'+c(typeof(i=null!=(i=u(n,"title")||(null!=t?u(t,"title"):t))?i:o)===l?i.call(s,{name:"title",hash:{},data:A,loc:{start:{line:5,column:37},end:{line:5,column:46}}}):i)+'</h3>\r\n    <p class="gallery__movie-genre"><span class="card-genres">'+(null!=(r=u(n,"each").call(s,null!=t?u(t,"genres"):t,{name:"each",hash:{},fn:e.program(2,A,0),inverse:e.noop,data:A,loc:{start:{line:6,column:62},end:{line:6,column:96}}}))?r:"")+'</span> |\r\n        <span class="year-of-release">'+c(typeof(i=null!=(i=u(n,"release_date")||(null!=t?u(t,"release_date"):t))?i:o)===l?i.call(s,{name:"release_date",hash:{},data:A,loc:{start:{line:7,column:38},end:{line:7,column:54}}}):i)+'</span> <span\r\n            class="gallery__movie-rating">'+c(typeof(i=null!=(i=u(n,"vote_average")||(null!=t?u(t,"vote_average"):t))?i:o)===l?i.call(s,{name:"vote_average",hash:{},data:A,loc:{start:{line:8,column:42},end:{line:8,column:58}}}):i)+"</span>\r\n    </p>\r\n</li>\r\n"},2:function(e,t,n,a,A){var r,i=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return e.escapeExpression("function"==typeof(r=null!=(r=i(n,"name")||(null!=t?i(t,"name"):t))?r:e.hooks.helperMissing)?r.call(null!=t?t:e.nullContext||{},{name:"name",hash:{},data:A,loc:{start:{line:6,column:78},end:{line:6,column:86}}}):r)+" "},compiler:[8,">= 4.3.0"],main:function(e,t,n,a,A){var r;return null!=(r=(e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]})(n,"each").call(null!=t?t:e.nullContext||{},t,{name:"each",hash:{},fn:e.program(1,A,0),inverse:e.noop,data:A,loc:{start:{line:1,column:0},end:{line:11,column:9}}}))?r:""},useData:!0})},"1yqS":function(e,t,n){var a=n("mp5j");e.exports=(a.default||a).template({1:function(e,t,n,a,A){var r,i=null!=t?t:e.nullContext||{},s=e.hooks.helperMissing,o=e.escapeExpression,l=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<div class="modal__gallery__img-container"><img class="modal__gallery__img"\r\n    src="https://image.tmdb.org/t/p/w500'+o("function"==typeof(r=null!=(r=l(n,"poster_path")||(null!=t?l(t,"poster_path"):t))?r:s)?r.call(i,{name:"poster_path",hash:{},data:A,loc:{start:{line:3,column:40},end:{line:3,column:55}}}):r)+'" alt="'+o("function"==typeof(r=null!=(r=l(n,"title")||(null!=t?l(t,"title"):t))?r:s)?r.call(i,{name:"title",hash:{},data:A,loc:{start:{line:3,column:62},end:{line:3,column:71}}}):r)+' movie poster"></div>\r\n'},compiler:[8,">= 4.3.0"],main:function(e,t,n,a,A){var r;return null!=(r=(e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]})(n,"each").call(null!=t?t:e.nullContext||{},t,{name:"each",hash:{},fn:e.program(1,A,0),inverse:e.noop,data:A,loc:{start:{line:1,column:0},end:{line:4,column:9}}}))?r:""},useData:!0})},"4AnZ":function(e,t,n){var a=n("vy/h"),A=n("4din"),r='<header data-js="page-header" class="page-header"> <div class="container"> <nav class="site-nav"> <a class="logo" href="./index.html"> <svg class="logo-svg" width="24px" height="24px" alt="logo"> <use href="'+a(A,{hash:"#logo"})+'"></use> </svg> <span class="logo-text">Filmoteka</span> </a> <div class="container-nav"> <ul class="site-nav-link list"> <li data-js="home-btn" class="item current"> <a href="./?home"><span>HOME</span> </a></li> <li data-js="lib-btn" class="item"> <a href="./?my-library"><span>MY LIBRARY</span> </a></li> </ul> <div id="auth" class="user-registration"> <p class="logged-out is-hidden"> <a href="#" class="" id="logout"> <i class="material-icons"> logout </i> </a> </p> <p class="logged-in is-hidden"> <a href="#" class="modal-trigger" data-target="modal-login"> <i class="material-icons"> perm_identity </i> </a> </p> </div> </div> </nav> <form data-js="search-form" class="search-form" id="search-form"> <label class="search-form-label"> <input class="search-form-input" type="text" name="query" autocomplete="off" placeholder="Поиск фильмов"/> <button type="submit" class="input-search-btn"> <svg class="input-search-svg" width="12px" height="12px" alt="input-search"> <use class="input-search-svg-icon" href="'+a(A,{hash:"#input-search"})+'"></use> </svg> </button> <p class="search-form__error"></p> </label> </form> <div class="header-button"> <button data-js="button-watch" class="button watch is-hidden is-active" type="button"> <span>WATCHED</span> </button> <button data-js="button-queue" class="button queue is-hidden" type="button"> <span>QUEUE</span> </button> </div> </div> </header> ';e.exports=r},"4din":function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMCIgaGVpZ2h0PSIwIiBjbGFzcz0iaGlkZGVuIj4NCiAgPHN5bWJvbCB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2aWV3Qm94PSIwIDAgNjcgNjciIGlkPSJhcnJvdy1yaWdodCI+DQogICAgPGltYWdlIHg9IjExIiB5PSIxMSIgd2lkdGg9IjQ1IiBoZWlnaHQ9IjQ1IiB4bGluazpocmVmPSJkYXRhOmltZy9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFDMEFBQUF0Q0FRQUFBQ1FFeW9SQUFBQUJHZEJUVUVBQUxHUEMveGhCUUFBQUNCalNGSk5BQUI2SmdBQWdJUUFBUG9BQUFDQTZBQUFkVEFBQU9wZ0FBQTZtQUFBRjNDY3VsRThBQUFBQW1KTFIwUUFBS3FOSXpJQUFBQUpjRWhaY3dBQUxpTUFBQzRqQVhpbFAzWUFBQUFIZEVsTlJRZmxBZ3dTQXljcnpsMy9BQUFBcjBsRVFWUkl4KzNYdlEzQ01CQ0c0WmVrb2J5UzBpTXdndWxnUWtyUFFSVTJnQTNJQnNrR3BrRW9ndWFTM0FrSjNibHk0Y2ZXSi8vSW9DMmgwRkZJNmhIcWVsQ3BWQWIydG5CK3dUUHdac0UwUW1lNzh0dGszY2F4U09DQkJ4NzRuK0FiQVBKcXZDQ1Qvc2lCKy9lY05tMUFXczRjN2JKNTE1WmQ0L0ZDQTVBYWVpZTZoK1NWdGVzT1dWOXVoeWJnZ0FNTytLZXc0MThtejRlWGZPN01MdnJQUU5SUnRHcjZnakJ5NWFSOXFKOFJQRzN4ajRuNnVnQUFBQUJKUlU1RXJrSmdnZz09Ij48L2ltYWdlPg0KICA8L3N5bWJvbD4NCiAgPHN5bWJvbCB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxMiAxMiIgaWQ9ImlucHV0LXNlYXJjaCI+DQogICAgPHBhdGggZD0iTTUuNSA5LjVhNCA0IDAgMTAwLTggNCA0IDAgMDAwIDh6bTUgMUw4LjMyNSA4LjMyNSIgIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCI+PC9wYXRoPg0KICA8L3N5bWJvbD4NCiAgPHN5bWJvbCBmaWxsPSJub25lIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyNCAyNCIgaWQ9ImxvZ28iPg0KICAgIDxwYXRoIGQ9Ik0xOS44MiAySDQuMThBMi4xOCAyLjE4IDAgMDAyIDQuMTh2MTUuNjRBMi4xOCAyLjE4IDAgMDA0LjE4IDIyaDE1LjY0QTIuMTggMi4xOCAwIDAwMjIgMTkuODJWNC4xOEEyLjE4IDIuMTggMCAwMDE5LjgyIDJ6TTcgMnYyME0xNyAydjIwTTIgMTJoMjBNMiA3aDVNMiAxN2g1bTEwIDBoNU0xNyA3aDUiIHN0cm9rZT0iIzgxODE4MSIgc3Ryb2tlLXdpZHRoPSIyIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiPjwvcGF0aD4NCiAgPC9zeW1ib2w+DQogIDxzeW1ib2wgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB2aWV3Qm94PSIwIDAgMTQgMTMiIGlkPSJsb3ZlIj4NCiAgICA8cGF0aCBkPSJNNyAxMi44OGwtLjk4LS45OEMyLjM4IDguNjggMCA2LjUxIDAgMy44NSAwIDEuNjggMS42OCAwIDMuODUgMCA1LjA0IDAgNi4yMy41NiA3IDEuNDcgNy43Ny41NiA4Ljk2IDAgMTAuMTUgMCAxMi4zMiAwIDE0IDEuNjggMTQgMy44NWMwIDIuNjYtMi4zOCA0LjgzLTYuMDIgOC4wNWwtLjk4Ljk4eiIgZmlsbD0iI0ZGNkIwOCI+PC9wYXRoPg0KICA8L3N5bWJvbD4NCiAgPHN5bWJvbCBmaWxsPSJub25lIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxNiAxNiIgaWQ9ImFycm93LWxlZnQiPg0KICAgIDxwYXRoIGQ9Ik0xMi42NjcgOEgzLjMzM004IDEyLjY2N0wzLjMzMyA4IDggMy4zMzMiIHN0cm9rZT0iIzAwMCIgc3Ryb2tlLXdpZHRoPSIxLjMzMyIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIj48L3BhdGg+DQogIDwvc3ltYm9sPg0KPC9zdmc+"},Cc5c:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIACAYAAAD0eNT6AAAACXBIWXMAAAsTAAALEwEAmpwYAAAKT2lDQ1BQaG90b3Nob3AgSUNDIHByb2ZpbGUAAHjanVNnVFPpFj333vRCS4iAlEtvUhUIIFJCi4AUkSYqIQkQSoghodkVUcERRUUEG8igiAOOjoCMFVEsDIoK2AfkIaKOg6OIisr74Xuja9a89+bN/rXXPues852zzwfACAyWSDNRNYAMqUIeEeCDx8TG4eQuQIEKJHAAEAizZCFz/SMBAPh+PDwrIsAHvgABeNMLCADATZvAMByH/w/qQplcAYCEAcB0kThLCIAUAEB6jkKmAEBGAYCdmCZTAKAEAGDLY2LjAFAtAGAnf+bTAICd+Jl7AQBblCEVAaCRACATZYhEAGg7AKzPVopFAFgwABRmS8Q5ANgtADBJV2ZIALC3AMDOEAuyAAgMADBRiIUpAAR7AGDIIyN4AISZABRG8lc88SuuEOcqAAB4mbI8uSQ5RYFbCC1xB1dXLh4ozkkXKxQ2YQJhmkAuwnmZGTKBNA/g88wAAKCRFRHgg/P9eM4Ors7ONo62Dl8t6r8G/yJiYuP+5c+rcEAAAOF0ftH+LC+zGoA7BoBt/qIl7gRoXgugdfeLZrIPQLUAoOnaV/Nw+H48PEWhkLnZ2eXk5NhKxEJbYcpXff5nwl/AV/1s+X48/Pf14L7iJIEyXYFHBPjgwsz0TKUcz5IJhGLc5o9H/LcL//wd0yLESWK5WCoU41EScY5EmozzMqUiiUKSKcUl0v9k4t8s+wM+3zUAsGo+AXuRLahdYwP2SycQWHTA4vcAAPK7b8HUKAgDgGiD4c93/+8//UegJQCAZkmScQAAXkQkLlTKsz/HCAAARKCBKrBBG/TBGCzABhzBBdzBC/xgNoRCJMTCQhBCCmSAHHJgKayCQiiGzbAdKmAv1EAdNMBRaIaTcA4uwlW4Dj1wD/phCJ7BKLyBCQRByAgTYSHaiAFiilgjjggXmYX4IcFIBBKLJCDJiBRRIkuRNUgxUopUIFVIHfI9cgI5h1xGupE7yAAygvyGvEcxlIGyUT3UDLVDuag3GoRGogvQZHQxmo8WoJvQcrQaPYw2oefQq2gP2o8+Q8cwwOgYBzPEbDAuxsNCsTgsCZNjy7EirAyrxhqwVqwDu4n1Y8+xdwQSgUXACTYEd0IgYR5BSFhMWE7YSKggHCQ0EdoJNwkDhFHCJyKTqEu0JroR+cQYYjIxh1hILCPWEo8TLxB7iEPENyQSiUMyJ7mQAkmxpFTSEtJG0m5SI+ksqZs0SBojk8naZGuyBzmULCAryIXkneTD5DPkG+Qh8lsKnWJAcaT4U+IoUspqShnlEOU05QZlmDJBVaOaUt2ooVQRNY9aQq2htlKvUYeoEzR1mjnNgxZJS6WtopXTGmgXaPdpr+h0uhHdlR5Ol9BX0svpR+iX6AP0dwwNhhWDx4hnKBmbGAcYZxl3GK+YTKYZ04sZx1QwNzHrmOeZD5lvVVgqtip8FZHKCpVKlSaVGyovVKmqpqreqgtV81XLVI+pXlN9rkZVM1PjqQnUlqtVqp1Q61MbU2epO6iHqmeob1Q/pH5Z/YkGWcNMw09DpFGgsV/jvMYgC2MZs3gsIWsNq4Z1gTXEJrHN2Xx2KruY/R27iz2qqaE5QzNKM1ezUvOUZj8H45hx+Jx0TgnnKKeX836K3hTvKeIpG6Y0TLkxZVxrqpaXllirSKtRq0frvTau7aedpr1Fu1n7gQ5Bx0onXCdHZ4/OBZ3nU9lT3acKpxZNPTr1ri6qa6UbobtEd79up+6Ynr5egJ5Mb6feeb3n+hx9L/1U/W36p/VHDFgGswwkBtsMzhg8xTVxbzwdL8fb8VFDXcNAQ6VhlWGX4YSRudE8o9VGjUYPjGnGXOMk423GbcajJgYmISZLTepN7ppSTbmmKaY7TDtMx83MzaLN1pk1mz0x1zLnm+eb15vft2BaeFostqi2uGVJsuRaplnutrxuhVo5WaVYVVpds0atna0l1rutu6cRp7lOk06rntZnw7Dxtsm2qbcZsOXYBtuutm22fWFnYhdnt8Wuw+6TvZN9un2N/T0HDYfZDqsdWh1+c7RyFDpWOt6azpzuP33F9JbpL2dYzxDP2DPjthPLKcRpnVOb00dnF2e5c4PziIuJS4LLLpc+Lpsbxt3IveRKdPVxXeF60vWdm7Obwu2o26/uNu5p7ofcn8w0nymeWTNz0MPIQ+BR5dE/C5+VMGvfrH5PQ0+BZ7XnIy9jL5FXrdewt6V3qvdh7xc+9j5yn+M+4zw33jLeWV/MN8C3yLfLT8Nvnl+F30N/I/9k/3r/0QCngCUBZwOJgUGBWwL7+Hp8Ib+OPzrbZfay2e1BjKC5QRVBj4KtguXBrSFoyOyQrSH355jOkc5pDoVQfujW0Adh5mGLw34MJ4WHhVeGP45wiFga0TGXNXfR3ENz30T6RJZE3ptnMU85ry1KNSo+qi5qPNo3ujS6P8YuZlnM1VidWElsSxw5LiquNm5svt/87fOH4p3iC+N7F5gvyF1weaHOwvSFpxapLhIsOpZATIhOOJTwQRAqqBaMJfITdyWOCnnCHcJnIi/RNtGI2ENcKh5O8kgqTXqS7JG8NXkkxTOlLOW5hCepkLxMDUzdmzqeFpp2IG0yPTq9MYOSkZBxQqohTZO2Z+pn5mZ2y6xlhbL+xW6Lty8elQfJa7OQrAVZLQq2QqboVFoo1yoHsmdlV2a/zYnKOZarnivN7cyzytuQN5zvn//tEsIS4ZK2pYZLVy0dWOa9rGo5sjxxedsK4xUFK4ZWBqw8uIq2Km3VT6vtV5eufr0mek1rgV7ByoLBtQFr6wtVCuWFfevc1+1dT1gvWd+1YfqGnRs+FYmKrhTbF5cVf9go3HjlG4dvyr+Z3JS0qavEuWTPZtJm6ebeLZ5bDpaql+aXDm4N2dq0Dd9WtO319kXbL5fNKNu7g7ZDuaO/PLi8ZafJzs07P1SkVPRU+lQ27tLdtWHX+G7R7ht7vPY07NXbW7z3/T7JvttVAVVN1WbVZftJ+7P3P66Jqun4lvttXa1ObXHtxwPSA/0HIw6217nU1R3SPVRSj9Yr60cOxx++/p3vdy0NNg1VjZzG4iNwRHnk6fcJ3/ceDTradox7rOEH0x92HWcdL2pCmvKaRptTmvtbYlu6T8w+0dbq3nr8R9sfD5w0PFl5SvNUyWna6YLTk2fyz4ydlZ19fi753GDborZ752PO32oPb++6EHTh0kX/i+c7vDvOXPK4dPKy2+UTV7hXmq86X23qdOo8/pPTT8e7nLuarrlca7nuer21e2b36RueN87d9L158Rb/1tWeOT3dvfN6b/fF9/XfFt1+cif9zsu72Xcn7q28T7xf9EDtQdlD3YfVP1v+3Njv3H9qwHeg89HcR/cGhYPP/pH1jw9DBY+Zj8uGDYbrnjg+OTniP3L96fynQ89kzyaeF/6i/suuFxYvfvjV69fO0ZjRoZfyl5O/bXyl/erA6xmv28bCxh6+yXgzMV70VvvtwXfcdx3vo98PT+R8IH8o/2j5sfVT0Kf7kxmTk/8EA5jz/GMzLdsAAAAgY0hSTQAAeiUAAICDAAD5/wAAgOkAAHUwAADqYAAAOpgAABdvkl/FRgAADXxJREFUeNrs3cFy28iyRVEUQv//y+WRIhwhWgZBAFWVZ63hm7xuKJ25CfG2W+99AwCyfHkEAHCP1tqPT9m99yYAAKD4wfcGAAAcfAEAAI7+wH8PXwIEgGcP/gzfA/AGAAAKfsIXAADg4AsAABx8T8F3AABw8IcY/T0AbwAAcPQDCQAAHPzEZ+ZXAAA4+GOM/DWANwAAOPiBBAAADr4AAABHP+J5+w4AAA7+OKO+B+ANAAAOfiABAICDLwAAwMGP+Hn5DgAADv5YI74H4A0AAI5+IAEAgIMvAABw8In4WfsOAICDz3hPfw/AGwAAB59Au0cAAAIAgMJ6723kX0HLPHwHACD5CPiVwHSB5g0AAKUODnMRAAAiwK8FBAAAQoAEvgMAwOsD4fsBw0LMGwAAyh8ixhAAAPwaAUKgJr8CAOD40fBrgcfCyxsAAKIOE88QAAC8HQFCQAAAIARYkO8AAHDNQfH9gMsDyxsAAOIPFgIAgIkjQAgIAACEAAIAgMQQ8BTOufs7FQIAAG8DvAEA8CkJIRDxZ8f/DBCocvAdF+FWMZoEAOBQDF6YCIFKESAAgJIHQQgIAQEgAIDg5S8EzIIAEABA8JIXAuZDAAgAIHShiwBzIwIEABC8uIWAeRIAAgAIXtBCwIwJAIDQhSwCzFrqrH55pEDyEv7+9xICZi2NAAAsYSFg1gQAYAl7DiLAvAkAwAIOfjZCwLyV/pn4EiBYwPxOCJi3irMnAMASRgiYtcAZEwBgCSMCzFrgTAkAsIQRAuYtcHYEAFjACAHzFjgjAgAsYESAeQucBwEAFjChIWDesgNQAIAlTMhBMGuOvgAAS5iAI2HWHHwBAJYwIYfDvDn4AgAcfAIOinlz8AUAOPoEHBqz5uBfxV8GBPBwLL5zfBx8B98bAPAmgICjZIYcfQEAQgBw8AUAiADAwRcAIATAwUcAgBAABx8BACIAHHwEAAgBcPQRACAEwMG3fwQAiABw8AUAIATAwRcAgBAAB18AAEIAR9/RFwCACMDBRwAAQgAHHwEACAEcfAQAIAJw8BEAgBDAwUcAAEIARx8BwAwHxQIRAjj4CABCD4elIgJw8BEABB8Jy0YI4OAjAAg+CJaQEMDBRwAQvPgtJ7OAP1cIAEKXvGVlRvBnCAFA8DK3xMwO/qwgAAhe2pabmcKfCQQAocvZwjNnDj4IAIKXsUVo1hx8EAAEL2EL0qyZaRAAHnbwErY0zZvZBQFgAVukmDdzCgLAArZgMW/mEQSABWzxYt7MHQgAS9gyNmuYMRAAlrAlbdYwTyAALGGL27zh4IMAsIAtdPNmPgABYAFb8ubNLADBAWAJW/5mzc8cCAgAS9hRMGt+vkBAAFjCjoRZ87MEAgLAEubJ42HeHHwQAA4+AUfFvDn4IAAcfQIOjVlz8EEAiAACDpC5cvABvwIg4DCZH0cfWDQALHFw8IHQABAC4OADwQEgBMDBB4IDQASAgw+EBoAQAEcfCA4AIQAOPhAcAEIABx8gOABEAA4+QGgACAEcfIDgABACOPgAwQEgAnD0AUIDQAjg4AMEB4AQwMEHBEDPvoEiAAcfEABCABx8QAAIAXDwAQEgBHD0AQSACMDBBxAAQgAHH0AACAEcfAABIAJw8AEEgBDA0QcQAEIABx9AAAgBHHwAASACcPABBIAQcPABEABCwMEHQACIAEcfAAEgBBx8AASAEHDwARAAQsDBBxAAiAAHH0AAIAQcfQABQHYIOPgAAoCACHDwAQQAASHg4AMIAAJCwMEHEACeQkAEOPgACICQEHD0AVgiAI4cOEft38/JswFg6gC44/fajh8ATBgAT36rXQwAwMAAmOF/0y4GAOChAJjxv2gnBADgpgCY/b9pLwIA4MIAWO0vsxECAAiADwNg5b/SVggAkGpPPf4V/vkB4PEAqHI8RQAAid7+FUDVg+nXAQAIgOBPy0IAgASHfwXgVTkABAZACqEDgAAIPYoiAID4AEg9hiIAgNgASD+CIgCAuABw/DwHAELfAAAAQQHgU6/nAYA3AABA9QDwaddbAAC8AQAAqgeAT7neAgDgDQAAUD0AfLr1FgAAbwAAAAEAAJQLAK+1AcAbAP5DMAEgAACA9QLAp1kA8AaAg4QTAAIAABAAAIAAAAAEAAAgAAAAAQAACAAAQAAAAAIAABAAAIAAAAAEAAAgAABAAAAAAgAAEAD81HtvngIAywaAQwYA3gAAAAKAV7w1AaBEADhoAOANAAAgAACAsgHg1wDHeE4AeAMAAKwfAD7d+vQPgDcAAEBRrff+8//YWvdo1v307+dndkosJ3Nshs2wNwBYmphjMMMPBIDaW/N5WJpmx+LEDJthbwAcf8yOxYkZNsPvB4AfvIHD4jTHZpi6M7wbgLX//S1Nc2NxYobN8OUBkDwIjj8Wpzk2w1Se4d1AOP5YnOYYM5w3w74E6PhjcZpjzHDgDO+Gw/HH4jTHZthTyJvhl/8lwMQ/vI4/Fqc5NsMkzfBuYBx/LE5zbIbJm+E9fXAcfyxOc2yGSZzhPXmAHH8sTnNshkmd4VPfAVj94fjP+2JxmmMzTPoMXxYAKzwof6UvFqc5NsOY4ZsCYMYHttrQW5oWp8WJGTbDSwbATA/P8cfiNMdm2Ayb4YcDYNTDXHXYLU2L0+LEDJvhcgFw58OtMOCWpsVpcWKGzXD5ADj78KsOs6VpcZpjzLAZjg8AA4fFaY4xw2b4fv42QAOHxWmOzbAZDiQADBwWpzk2w2ZYAGDgLE7MsRk2wwIAA2dxYo7NsBkWABg4ixNzbIbNsADAwFmc5hgzbIYFAAbO4jTHmGEzLAAwcBanOcYMm2EBYOCwOM0xZtgMCwADh8VpjjHDZlgAGDgsTnOMGTbDAsDAYXGaY8ywGRYABg6L0xybYcywADBwWJzm2AxjhgWAgcPiNMdmGDMsAAycxWlxmmMzbIYRAAbO4sQcm2EzjAAwcBYn5tgMm2EEgIGzOM0xZtgMCwAMnMVpjjHDZlgAYOAsTnOMGTbDAsDAGTiL0xxjhs2wADBwWJzmGDNshgWAgcPiNMeYYTMsAAwcFqc5xgybYQFg4LA4zTFm2AwLAAOHxWmOzTBmWAAYOCxOc2yGMcMCwMBhcZpjM2yGEQAGzuLEHJthM4wAMHAWJ+bYDJthBICBszgxx2bYDCMADJzFaY4xw2YYAWDgLE5zjBk2wwgAA2dxmmPMsBkmNAAMnMVpjjHDZpiwADBwFqc5xgybYULfAGBxWpyYYTPMtrXe/SwAwBsAAEAAAAACAAAQAACAAAAABAAAIAAAAAEAAAgAAEAAAAACAAAQAACAAAAABAAAIAAAAAEAAAgAABAAAECCtm1b9xgAwBsAAEAAAAACAAAQAACAAAAABAAAIAAAAAEAAAgAAEAAAAACAAAQAACAAAAABAAAIAAAAAEAAAIAABAAAIAAAAAEAAAgAAAAAQAACAAAQAAAAAIAABAAAIAAAAAEAAAgAAAAAQAACAAAQAAAAAIAABAAACAAAAABAAAIAABAAAAAAgAAEAAAgAAAAAQAACAAAAABAAAIAABAAAAAAgAAEAAAgAAAAAQAACAAAEAAAAACAAAQAACAAAAABAAAIAAAAAEAAAgAAEAAAAACAAAQAACAAAAABAAAIAAAAAEAAAgAAEAAAIAAAAAEAAAgAAAAAQAACAAAQAAAAAIAABAAAIAAAAAEAAAgAAAAAQAACAAAQAAAAAIAABAAAIAAAAABAAAIAABAAAAAAgAAEAAAgAAAAAQAACAAAAABAAAIAABAAAAAAgAAEAAAgAAAAAQAACAAAAABAAACAAAQAACAAAAABAAAIAAAAAEAAAgAAEAAAAACAAAQAACAAAAABAAAIAAAAAEAAAgAAEAAAAACAAAQAAAgAAAAAQAACAAAQAAAAAIAABAAAIAAAAAEAAAgAAAAAQAACAAAQAAAAAIAABAAAIAAAAAEAAAgAABAAAAAAgAAEAAAgAAAAAQAACAAAAABAAAIAABAAAAAAgAAEAAAgAAAAAQAACAAAAABAAAIAABAAACAAAAABAAAIAAAAAEAAAgAAEAAAAACAAAQAACAAAAABAAAIAAAAAEAAAgAAEAAAACHA6D33jwGAMjRe2/eAABA4hsAjwAABAAAkBIAvgcAABm+b743AACQ+gYAABAAAEBKAPgeAADU9vet9wYAAJLfAHgLAAAZn/69AQAAbwAAgNgA8GsAAKjl1W33BgAAvAHwFgAAqn/69wYAALwB8BYAABI+/XsDAADeAHgLAAAJn/69AQAAbwC8BQCAhE//h98AiAAAqHP8DwcAAFDL4QDwFgAAanz6f/sNgAgAgPWP/9sBIAIAYP3jfyoARAAArH38TwcAALC20wHgLQAArPnp/+M3ACIAANY7/h8HgAgAgPWO/yUBIAIAYK3jf1kAiAAAWOf4b9u2td775f+ArbXuxwQA837I3lf5BwUAx3/yABABADD3Ld1X/QcHAMf/vFu+A/Dy/5HvBQDANB+e92r/QgDg+E/0BsDbAACY50PykAAQAgAw9u340AAQAgA4/MEBIAQAcPiDA0AMAODohweAEADA4Q8OAEEAgIMvAAQBAA7+Bf4MAB3RXHlqKIrWAAAAAElFTkSuQmCC"},EGS0:function(e,t,n){var a=n("mp5j");e.exports=(a.default||a).template({1:function(e,t,n,a,A){var r,i,s=null!=t?t:e.nullContext||{},o=e.hooks.helperMissing,l="function",c=e.escapeExpression,u=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<div class="modal__film__card-information">\r\n  <div class="modal__film__card-text">\r\n    <h3 class="modal__gallery__movie-title">'+c(typeof(i=null!=(i=u(n,"title")||(null!=t?u(t,"title"):t))?i:o)===l?i.call(s,{name:"title",hash:{},data:A,loc:{start:{line:4,column:44},end:{line:4,column:53}}}):i)+'</h3>\r\n    <div class="modal__film__information-categories">\r\n      <ul class="modal__film__information-categories-keys">\r\n        <li class="modal__film__information-categories-key">Vote / Votes</li>\r\n        <li class="modal__film__information-categories-key">Popularity</li>\r\n        <li class="modal__film__information-categories-key">Original Title\r\n        </li>\r\n        <li class="modal__film__information-categories-key">Genre</li>\r\n      </ul>\r\n      <ul>\r\n        <li class="modal__film__inform-ctgr"><span class="modal__accent-oganre">'+c(typeof(i=null!=(i=u(n,"vote_average")||(null!=t?u(t,"vote_average"):t))?i:o)===l?i.call(s,{name:"vote_average",hash:{},data:A,loc:{start:{line:14,column:80},end:{line:14,column:96}}}):i)+'</span> / <span\r\n            class="modal__accent-grey">'+c(typeof(i=null!=(i=u(n,"vote_count")||(null!=t?u(t,"vote_count"):t))?i:o)===l?i.call(s,{name:"vote_count",hash:{},data:A,loc:{start:{line:15,column:39},end:{line:15,column:53}}}):i)+'</span> </li>\r\n        <li class="modal__film__inform-ctgr">'+c(typeof(i=null!=(i=u(n,"popularity")||(null!=t?u(t,"popularity"):t))?i:o)===l?i.call(s,{name:"popularity",hash:{},data:A,loc:{start:{line:16,column:45},end:{line:16,column:59}}}):i)+'</li>\r\n        <li class="modal__film__inform-ctgr modal__film__inform-ctgr-upk">'+c(typeof(i=null!=(i=u(n,"original_title")||(null!=t?u(t,"original_title"):t))?i:o)===l?i.call(s,{name:"original_title",hash:{},data:A,loc:{start:{line:17,column:74},end:{line:17,column:92}}}):i)+'</li>\r\n        <li class="modal__film__inform-ctgr genres-modal">'+(null!=(r=u(n,"each").call(s,null!=t?u(t,"genres"):t,{name:"each",hash:{},fn:e.program(2,A,0),inverse:e.noop,data:A,loc:{start:{line:18,column:58},end:{line:18,column:92}}}))?r:"")+'</li>\r\n      </ul>\r\n    </div>\r\n\r\n    <h4 class="modal__gallery__movie-about">ABOUT</h4>\r\n    <p class="modal__gallery__movie-text">'+c(typeof(i=null!=(i=u(n,"overview")||(null!=t?u(t,"overview"):t))?i:o)===l?i.call(s,{name:"overview",hash:{},data:A,loc:{start:{line:23,column:42},end:{line:23,column:54}}}):i)+"</p>\r\n  </div>\r\n"},2:function(e,t,n,a,A){var r,i=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return e.escapeExpression("function"==typeof(r=null!=(r=i(n,"name")||(null!=t?i(t,"name"):t))?r:e.hooks.helperMissing)?r.call(null!=t?t:e.nullContext||{},{name:"name",hash:{},data:A,loc:{start:{line:18,column:74},end:{line:18,column:82}}}):r)+" "},compiler:[8,">= 4.3.0"],main:function(e,t,n,a,A){var r;return null!=(r=(e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]})(n,"each").call(null!=t?t:e.nullContext||{},t,{name:"each",hash:{},fn:e.program(1,A,0),inverse:e.noop,data:A,loc:{start:{line:1,column:0},end:{line:25,column:11}}}))?r:""},useData:!0})},QfWi:function(e,t,n){"use strict";n.r(t);n("yjly");var a=n("4AnZ"),A=n.n(a),r=n("fc4V"),i=n.n(r),s=n("X39H"),o=n.n(s),l=(n("IlJM"),n("IvQZ"),n("uQK7"),n("8cZI"),n("lmye"),n("x3Br"),n("WB5j"),n("lAJ5"),n("D/wG"),n("JBxO"),n("FdtR"),n("Muwe"),n("4NM0"),n("X5mX"),n("aZFp"),n("SgDD"),n("wcNg"),function(){function e(){this.refs=this.getRefs()}var t=e.prototype;return t.getRefs=function(){return{linkHome:document.querySelector('[data-js="home-btn"]'),linkLib:document.querySelector('[data-js="lib-btn"]'),searcForm:document.querySelector('[data-js="search-form"]'),buttonWatch:document.querySelector('[data-js="button-watch"]'),buttonQueue:document.querySelector('[data-js="button-queue"]'),headerBackground:document.querySelector('[data-js="page-header"]')}},t.init=function(){this.refs.linkHome.addEventListener("click",this.onHomeLinkClick.bind(this)),this.refs.linkLib.addEventListener("click",this.onMyLibraryLinkClick.bind(this))},t.onMyLibraryLinkClick=function(e){this.refs.linkHome.classList.remove("current"),this.refs.linkLib.classList.add("current"),this.refs.searcForm.classList.add("is-hidden"),this.refs.buttonQueue.classList.remove("is-hidden"),this.refs.buttonWatch.classList.remove("is-hidden"),this.refs.headerBackground.classList.add("lib"),this.initLibraryButtons(),this.onWatchedClick()},t.onHomeLinkClick=function(e){this.refs.linkHome.classList.add("current"),this.refs.linkLib.classList.remove("current"),this.refs.searcForm.classList.remove("is-hidden"),this.refs.buttonQueue.classList.add("is-hidden"),this.refs.buttonWatch.classList.add("is-hidden"),this.refs.headerBackground.classList.remove("lib"),this.disabelLibraryButtons()},t.initLibraryButtons=function(){this.refs.buttonWatch.addEventListener("click",this.onWatchedClick.bind(this)),this.refs.buttonQueue.addEventListener("click",this.onQueueClick.bind(this))},t.onWatchedClick=function(){this.refs.buttonWatch.classList.add("is-active"),this.refs.buttonQueue.classList.remove("is-active")},t.onQueueClick=function(){this.refs.buttonQueue.classList.add("is-active"),this.refs.buttonWatch.classList.remove("is-active")},t.disabelLibraryButtons=function(){this.refs.buttonQueue.removeEventListener("click",this.onWatchedClick.bind(this)),this.refs.buttonWatch.removeEventListener("click",this.onQueueClick.bind(this))},e}()),c=n("1OFI"),u=n.n(c),d=function(){function e(){this.galleryRef=document.querySelector('[data-js="movie-gallery"]')}return e.prototype.render=function(e){var t=e.reduce((function(e,t){return e+u()(t)}),"");this.galleryRef.insertAdjacentHTML("afterbegin",t)},e}();n("awo+");var g=n("EGS0"),h=n.n(g),m=n("1yqS"),p=n.n(m),f=function(){function e(){this.modalInsert=document.querySelector(".card-data-insert"),this.modalInsertImg=document.querySelector(".description-insert"),this.closeBtn=document.querySelector(".data__modal__film-close-btn"),this.modal=document.querySelector("#modal-card"),this.teamLink=document.querySelector('[data-js="team-link"]'),this.teamCloseBtn=document.querySelector(".team-close-btn"),this.modalTeam=document.querySelector("#modal-team")}var t=e.prototype;return t.render=function(e){this.clear();var t=[];t.push(e);var n=p()(t);this.modalInsert.insertAdjacentHTML("afterbegin",n)},t.renderPhoto=function(e){this.modalInsertImg.innerHTML="";var t=[];t.push(e);var n=h()(t);this.modalInsertImg.insertAdjacentHTML("afterbegin",n)},t.clear=function(){this.modalInsert.innerHTML=""},t.closeByCross=function(){M.Modal.getInstance(this.modal).close()},t.init=function(){this.closeBtn.addEventListener("click",this.closeByCross.bind(this))},t.modalTeamCross=function(){var e=this;this.teamCloseBtn.addEventListener("click",(function(){M.Modal.getInstance(e.modalTeam).close()}))},e}(),v=(n("RtS0"),n("Xlt+"),n("3dw1"),n("1V9C")),y=n.n(v),w=n("SzhR");n("VwVG"),n("ELjB");function b(e,t,n,a,A,r,i){try{var s=e[r](i),o=s.value}catch(e){return void n(e)}s.done?t(o):Promise.resolve(o).then(a,A)}function B(e){return function(){var t=this,n=arguments;return new Promise((function(a,A){var r=e.apply(t,n);function i(e){b(r,a,A,i,s,"next",e)}function s(e){b(r,a,A,i,s,"throw",e)}i(void 0)}))}}w.a.initializeApp({apiKey:"AIzaSyDckuyQARNfaPXRs7Jiz4Xgr28aczvsv5w",authDomain:"crazy-filmoteka.firebaseapp.com",projectId:"crazy-filmoteka",storageBucket:"crazy-filmoteka.appspot.com",messagingSenderId:"827169246677",appId:"1:827169246677:web:2524211488e4048eb1c15c"});var I=function(){function e(){this.auth=w.a.auth(),this.db=w.a.firestore(),this.watchBtn=document.querySelector(".data__modal__film-add-to-watched"),this.queueBtn=document.querySelector(".data__modal__film-add-to-queue"),this.watchBtnHeader=document.querySelector(".watch"),this.queueBtnHeader=document.querySelector(".queue"),this.galleryListRef=document.querySelector('[data-js="movie-gallery"]'),this.libraryBtn=document.querySelector('[data-js="lib-btn"]')}var t=e.prototype;return t.getActualQueueLists=function(){var e=B(regeneratorRuntime.mark((function e(t){var n,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.db.collection("users").doc(t.uid).get();case 2:n=e.sent,a=n.data().queue,this.queueBtnHeader.addEventListener("click",this.renderGalleryOnBtnClick.bind(this,a));case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),t.getActualWatchedLists=function(){var e=B(regeneratorRuntime.mark((function e(t){var n,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.db.collection("users").doc(t.uid).get();case 2:n=e.sent,a=n.data().watched,console.dir(a),this.renderGalleryOnBtnClick(a),this.watchBtnHeader.addEventListener("click",this.renderGalleryOnBtnClick.bind(this,a));case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),t.renderGalleryOnBtnClick=function(e){this.galleryListRef.innerHTML="",this.galleryListRef.insertAdjacentHTML("afterbegin",y()(e)),document.querySelectorAll(".card-genres").forEach((function(e){e.textContent=e.textContent.trim().split(" ").join(", ")})),document.querySelectorAll(".year-of-release").forEach((function(e){e.textContent=e.textContent.trim().split("").splice(0,4).join("")}))},t.addItemsToWattchedList=function(){var e=B(regeneratorRuntime.mark((function e(t){var n,a,A;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.db.collection("users").doc(t.uid).get();case 3:if(n=e.sent,a=n.data().watched,A=JSON.parse(this.watchBtn.dataset.ob),!a.some((function(e){return e.id===A.id}))){e.next=10;break}return e.abrupt("return",a);case 10:return a.push(A),this.watchBtn.disabled=!0,this.watchBtn.classList.add("disabled"),this.watchBtn.textContent="ADDED TO WATCHED",e.abrupt("return",a);case 15:e.next=20;break;case 17:e.prev=17,e.t0=e.catch(0),console.log(e.t0);case 20:case"end":return e.stop()}}),e,this,[[0,17]])})));return function(t){return e.apply(this,arguments)}}(),t.addItemsToQueueList=function(){var e=B(regeneratorRuntime.mark((function e(t){var n,a,A;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.db.collection("users").doc(t.uid).get();case 2:if(n=e.sent,a=n.data().queue,A=JSON.parse(this.queueBtn.dataset.ob),!a.some((function(e){return e.id===A.id}))){e.next=9;break}return e.abrupt("return",a);case 9:return a.push(A),this.queueBtn.disabled=!0,this.queueBtn.classList.add("disabled"),this.queueBtn.textContent="ADDED TO QUEUE",e.abrupt("return",a);case 14:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),t.renewWatchedList=function(e){this.watchBtn.addEventListener("click",this.handleWatchBtnClick.bind(this,e))},t.handleWatchBtnClick=function(e){var t=this;this.addItemsToWattchedList(e).then((function(n){t.db.collection("users").doc(e.uid).set({watched:n},{merge:!0})}))},t.renewQueueList=function(e){this.queueBtn.addEventListener("click",this.handleQueueBtnClick.bind(this,e))},t.handleQueueBtnClick=function(e){var t=this;this.addItemsToQueueList(e).then((function(n){t.db.collection("users").doc(e.uid).set({queue:n},{merge:!0})}))},t.loginMessage=function(e){var t=document.querySelector(".login-message");t.textContent=e?"":"Please Login to see your library"},t.dataForQueuePagination=function(){var e=B(regeneratorRuntime.mark((function e(t,n){var a,A,r,i,s,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.db.collection("users").doc(t.uid).get();case 2:if(a=e.sent,A=a.data().queue,r=A.length,(i={}).num=r,0!==Math.floor((r-1)/20)){e.next=12;break}return i.films=A,e.abrupt("return",i);case 12:return s=20*(n-1),o=A.splice(s,20),i.films=o,e.abrupt("return",i);case 16:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}(),t.dataForWatchedPagination=function(){var e=B(regeneratorRuntime.mark((function e(t,n){var a,A,r,i,s,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.db.collection("users").doc(t.uid).get();case 2:if(a=e.sent,A=a.data().watched,r=A.length,(i={}).num=r,0!==Math.floor((r-1)/20)){e.next=12;break}return i.films=A,e.abrupt("return",i);case 12:return s=20*(n-1),o=A.splice(s,20),i.films=o,e.abrupt("return",i);case 16:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}(),e}(),C=n("Np6Y"),D=function(){function e(){}return e.prototype.create=function(e,t,n){void 0===e&&(e=1);var a=new C.TemplatePaginator({prelink:"./?"+n,current:e,rowsPerPage:20,totalResult:t,slashSeparator:!1,template:document.getElementById("pagination-template").innerHTML}).render();document.getElementById("movie-pagination").innerHTML=a},e}(),Q={key:"62af7111fb0063930df9c7b53547034d",baseUrl:"https://api.themoviedb.org/3",names:{tranding:"/trending/movie/week",search:"/search/movie",movie:"/movie/",genres:"/genre/movie/list"}},E=function(){function e(){this.settings=Q,this.page=1,this.query=""}var t=e.prototype;return t.fetchPopularFilms=function(e){void 0===e&&(e=this.page);var t=""+this.settings.baseUrl+this.settings.names.tranding+"?api_key="+this.settings.key+"&page="+e;return fetch(t).then((function(e){return e.json()})).then((function(e){return e}))},t.fetchFilmsOnSearch=function(e,t){void 0===t&&(t=this.page);var n=""+this.settings.baseUrl+this.settings.names.search+"?api_key="+this.settings.key+"&language=en-US&query="+e+"&include_adult=false&page="+t;return fetch(n).then((function(e){return e.json()})).then((function(e){return e}))},t.fetchFilmById=function(e){var t=""+this.settings.baseUrl+this.settings.names.movie+e+"?api_key="+this.settings.key+"&language=en-US";return fetch(t).then((function(e){return e.json()})).then((function(e){return e}))},t.fetchGenresList=function(e){void 0===e&&(e=this.page);var t=""+this.settings.baseUrl+this.settings.names.genres+"?api_key="+this.settings.key+"&page="+e;return fetch(t).then((function(e){return e.json()})).then((function(e){return e}))},e}();function L(e,t,n,a,A,r,i){try{var s=e[r](i),o=s.value}catch(e){return void n(e)}s.done?t(o):Promise.resolve(o).then(a,A)}function x(e){return function(){var t=this,n=arguments;return new Promise((function(a,A){var r=e.apply(t,n);function i(e){L(r,a,A,i,s,"next",e)}function s(e){L(r,a,A,i,s,"throw",e)}i(void 0)}))}}var k=new I,H=new E,S=function(){function e(){this.refs=this.getGefs()}var t=e.prototype;return t.getGefs=function(){return{pageHeader:document.querySelector('[data-js="page-header"]'),movieGallery:document.querySelector('[data-js="movie-gallery"]'),pageFooter:document.querySelector('[data-js="page-footer"]'),watchBtn:document.querySelector(".data__modal__film-add-to-watched"),queueBtn:document.querySelector(".data__modal__film-add-to-queue"),homeBtn:document.querySelector('[data-js="home-btn"]')}},t.getCurrentPage=function(){var e=location.href;if(!e.includes("page="))return 1;var t=e.indexOf("page=")+String("page=").length;return e.slice(t)},t.isMyLibraryPageOpen=function(){return!!location.href.includes("my-library")},t.isSearchSubmited=function(){return!!location.href.includes("query")},t.onSearchSubmit=function(e){""===e.currentTarget.query.value.trim()&&(e.preventDefault(),e.currentTarget.querySelector(".search-form__error").textContent="Search query was empty. Enter the movie name and try again")},t.init=function(){var e=x(regeneratorRuntime.mark((function e(){var t,n,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.btnDisabledChange(),t=new l,document.addEventListener("DOMContentLoaded",(function(){var e=document.querySelectorAll(".modal");M.Modal.init(e)})),document.querySelector('[data-target="modal-signup"]').addEventListener("click",(function(){var e=document.querySelector("#modal-login");M.Modal.getInstance(e).close()})),t.init(),this.refs.homeBtn.addEventListener("click",this.showPopularFilms.bind(this,1)),this.refs.movieGallery.addEventListener("click",this.onMovieItemClick.bind(this)),this.refs.pageHeader.querySelector(".search-form").addEventListener("submit",this.onSearchSubmit),!this.isMyLibraryPageOpen()){e.next=10;break}return t.onMyLibraryLinkClick(),e.abrupt("return");case 10:if(!this.isSearchSubmited()){e.next=15;break}return n=location.search.slice(7).split("&")[0],a=this.getCurrentPage(),this.showSearchFilms(n,a),e.abrupt("return");case 15:this.showPopularFilms(this.getCurrentPage());case 16:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),t.onMovieItemClick=function(){var e=x(regeneratorRuntime.mark((function e(t){var n,a,A,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("UL"!==t.target.nodeName){e.next=2;break}return e.abrupt("return");case 2:return n=t.target.parentNode.dataset.id,this.refs.watchBtn.dataset.id=n,this.refs.queueBtn.dataset.id=n,e.prev=5,e.next=8,H.fetchFilmById(n);case 8:a=e.sent,this.refs.watchBtn.dataset.ob=JSON.stringify(a),this.refs.queueBtn.dataset.ob=JSON.stringify(a),(A=new f).renderPhoto(a),A.render(a),(r=document.querySelector(".genres-modal")).textContent=r.textContent.trim().split(" ").join(", "),A.init(),e.next=22;break;case 19:e.prev=19,e.t0=e.catch(5),console.log(e.t0);case 22:case"end":return e.stop()}}),e,this,[[5,19]])})));return function(t){return e.apply(this,arguments)}}(),t.showPopularFilms=function(){var e=x(regeneratorRuntime.mark((function e(t){var n,a,A;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===t&&(t=1),e.prev=1,e.next=4,H.fetchPopularFilms(t);case 4:return n=e.sent,e.next=7,H.fetchGenresList();case 7:a=e.sent,A=this.prepareDataForMarkup(n.results,a.genres),(new d).render(A),(new D).create(this.getCurrentPage(),n.total_results,"home"),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(1),console.log("error");case 18:case"end":return e.stop()}}),e,this,[[1,15]])})));return function(t){return e.apply(this,arguments)}}(),t.showSearchFilms=function(){var e=x(regeneratorRuntime.mark((function e(t,n){var a,A,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===n&&(n=1),e.prev=1,e.next=4,H.fetchFilmsOnSearch(t,n);case 4:return a=e.sent,e.next=7,H.fetchGenresList();case 7:if(A=e.sent,!(!a.total_results>0)){e.next=10;break}throw error;case 10:r=this.prepareDataForMarkup(a.results,A.genres),(new d).render(r),a.total_results/20>1&&(new D).create(this.getCurrentPage(),a.total_results,"query="+t),this.refs.pageHeader.querySelector(".search-form-input").value=t,e.next=20;break;case 17:e.prev=17,e.t0=e.catch(1),this.refs.pageHeader.querySelector(".search-form__error").textContent="Search result not successful. Enter the correct movie name and try again";case 20:case"end":return e.stop()}}),e,this,[[1,17]])})));return function(t,n){return e.apply(this,arguments)}}(),t.prepareDataForMarkup=function(e,t){var n=null;return e.map((function(e){var a=e.genre_ids.reduce((function(e,a){return n=t.find((function(e){return e.id==a})),e.push(n.name),e}),[]);return e.genres=a.join(", "),e.year=e.release_date?e.release_date.slice(0,4):"",e}))},t.btnDisabledChange=function(){var e=this;k.auth.onAuthStateChanged((function(t){t?e.refs.movieGallery.addEventListener("click",function(){var n=x(regeneratorRuntime.mark((function n(a){var A,r;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if("UL"!==a.target.nodeName){n.next=2;break}return n.abrupt("return");case 2:return A=a.target.parentNode.dataset.id,n.next=5,k.db.collection("users").doc(t.uid).get();case 5:r=n.sent,r.data().watched.map((function(e){return e.id})).some((function(e){return e===+A}))?(e.refs.watchBtn.disabled=!0,e.refs.watchBtn.classList.add("disabled"),e.refs.watchBtn.textContent="ADDED TO WATCHED"):(e.refs.watchBtn.disabled=!1,e.refs.watchBtn.classList.remove("disabled"),e.refs.watchBtn.textContent="ADD TO WATCHED"),r.data().queue.map((function(e){return e.id})).some((function(e){return e===+A}))?(e.refs.queueBtn.disabled=!0,e.refs.queueBtn.classList.add("disabled"),e.refs.queueBtn.textContent="ADDED TO QUEUE"):(e.refs.queueBtn.disabled=!1,e.refs.queueBtn.classList.remove("disabled"),e.refs.queueBtn.textContent="ADD TO QUEUE");case 12:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()):(e.refs.queueBtn.disabled=!0,e.refs.queueBtn.classList.add("disabled"),e.refs.queueBtn.textContent="Login to add to queue",e.refs.watchBtn.disabled=!0,e.refs.watchBtn.classList.add("disabled"),e.refs.watchBtn.textContent="Login to add to watched")}))},e}(),j=function(){function e(){this.refs=this.getRefs(),this.auth=w.a.auth(),this.db=w.a.firestore()}var t=e.prototype;return t.getRefs=function(){return{signupForm:document.querySelector("#signup-form"),logout:document.querySelector("#logout"),loginForm:document.querySelector("#login-form"),loggedOutLink:document.querySelector(".logged-out"),loggedInLink:document.querySelector(".logged-in"),modalSignUp:document.querySelector("#modal-signup"),modalLogin:document.querySelector("#modal-login")}},t.signUp=function(e){var t=this;e.preventDefault();var n=this.refs.signupForm["signup-email"].value,a=this.refs.signupForm["signup-password"].value;this.auth.createUserWithEmailAndPassword(n,a).then((function(e){return t.db.collection("users").doc(e.user.uid).set({watched:[],queue:[]})})).then((function(){M.Modal.getInstance(t.refs.modalSignUp).close(),t.refs.signupForm.reset(),t.refs.signupForm.querySelector(".error").innerHTML=""})).catch((function(e){t.refs.signupForm.querySelector(".error").innerHTML=e.message}))},t.logout=function(e){e.preventDefault(),this.auth.signOut().then((function(){}))},t.login=function(e){var t=this;e.preventDefault();var n=this.refs.loginForm["login-email"].value,a=this.refs.loginForm["login-password"].value;this.auth.signInWithEmailAndPassword(n,a).then((function(){M.Modal.getInstance(t.refs.modalLogin).close(),t.refs.loginForm.reset(),t.refs.loginForm.querySelector(".error").innerHTML=""})).catch((function(e){t.refs.loginForm.querySelector(".error").innerHTML=e.message}))},t.setupUI=function(e){e?(this.refs.loggedInLink.classList.add("is-hidden"),this.refs.loggedOutLink.classList.remove("is-hidden")):(this.refs.loggedInLink.classList.remove("is-hidden"),this.refs.loggedOutLink.classList.add("is-hidden"))},t.init=function(){this.refs.signupForm.addEventListener("submit",this.signUp.bind(this)),this.refs.logout.addEventListener("click",this.logout.bind(this)),this.refs.loginForm.addEventListener("submit",this.login.bind(this))},e}(),P=document.querySelector("BODY"),_=document.querySelector("MAIN");P.insertAdjacentHTML("afterbegin",o.a),P.insertAdjacentHTML("afterbegin",A.a),_.insertAdjacentHTML("afterend",i.a);var O=new S,T=new I,N=new j;O.init(),N.init(),T.auth.onAuthStateChanged((function(e){e?(N.setupUI(e),T.renewQueueList(e),T.renewWatchedList(e),T.getActualQueueLists(e),T.loginMessage(e),O.isMyLibraryPageOpen()&&(T.getActualWatchedLists(e),T.dataForQueuePagination(e,2),T.dataForWatchedPagination(e,2))):(N.setupUI(),O.isMyLibraryPageOpen()&&T.loginMessage())}))},X39H:function(e,t,n){var a=n("vy/h"),A=n("4din"),r=n("Cc5c"),i=' <div id="modal-signup" class="modal"> <div class="modal-content"> <h4 class="modal-content-title">Sign up</h4> <br/> <form id="signup-form"> <div class="input-field"> <input class="input-field-data" type="email" id="signup-email" required/> <label class="input-field-label" for="signup-email">Email address</label> </div> <div class="input-field"> <input class="input-field-data" type="password" id="signup-password" required/> <label class="input-field-label" for="signup-password">Choose password</label> </div> <button class="registration-btn">Sign up</button> <p class="error pink-text center-align"></p> </form> </div> </div> <div id="modal-login" class="modal"> <div class="modal-content"> <h4 class="modal-content-title">Login</h4> <br/> <form id="login-form"> <div class="input-field"> <input class="input-field-data" type="email" id="login-email" required/> <label class="input-field-label" for="login-email">Email address</label> </div> <div class="input-field"> <input class="input-field-data" type="password" id="login-password" required/> <label class="input-field-label" for="login-password">Your password</label> </div> <button class="registration-btn">Login</button> <p class="modal-signup-question"> New user? <a href="#" class="modal-trigger" data-target="modal-signup"> Sign up </a> </p> <p class="error pink-text center-align"></p> </form> </div> </div> <div id="modal-card" class="data__modal__film modal"> <div class="modal__film__card"> <div class="modal__film-close-btn-container"> <button type="button" class="data__modal__film-close-btn"> &#10005; </button> </div> <div class="modal__film__card-content"> <div class="card-data-insert"></div> <div class="modal__btns__down"> <div class="description-insert"></div> <button type="button" class="data__modal__film-add-to-watched"> ADD TO WATCHED </button> <button type="button" class="data__modal__film-add-to-queue"> ADD TO QUEUE </button> </div> </div> </div> </div> <div id="modal-team" class="modal"> <button type="button" class="team-close-btn"> X <svg class="icon-cross" width="14" height="14"> <use href="'+a(A,{hash:"#"})+'" aria-label="Кнопка закрытия модального окна"></use> </svg> </button> <img src="'+a(r)+'" alt="logo"/> </div> ';e.exports=i},fc4V:function(e,t,n){var a='<footer class="footer" data-js="page-footer"> <div class="container"> <p class="footer-description"> © 2021 | All Rights Reserved | <span>Developed with</span> <svg class="footer-description__icon" width="14px" height="14px" alt=""> <use href="'+n("vy/h")(n("4din"),{hash:"#love"})+'"></use> </svg> <span>by</span> <a class="footer-description__link modal-trigger" data-target="modal-team" data-js="team-link"> <span>GoIT Students</span> </a> </p> </div> </footer> ';e.exports=a},yjly:function(e,t,n){}},[["QfWi",1,2]]]);
//# sourceMappingURL=main.e0c0d5dff6d4c4a2f3c5.js.map