{"version":3,"sources":["webpack:///./templates/gallery-card-tmp.hbs","webpack:///./partials/header.html","webpack:///./images/sprite.svg","webpack:///./partials/authModal.html","webpack:///./js/header.js","webpack:///./js/footer.js","webpack:///./js/movie-gallery.js","webpack:///./js/apiSettings.js","webpack:///./js/uiService.js","webpack:///./js/apiService.js","webpack:///./js/auth.js","webpack:///./index.js","webpack:///./js/initModal.js","webpack:///./partials/footer.html"],"names":["Handlebars","module","exports","template","container","depth0","helpers","partials","data","helper","alias1","nullContext","alias2","hooks","helperMissing","alias3","alias4","escapeExpression","lookupProperty","parent","propertyName","Object","prototype","hasOwnProperty","call","___HTML_LOADER_GET_SOURCE_FROM_IMPORT___","___HTML_LOADER_IMPORT_0___","code","hash","Header","this","refs","getRefs","linkHome","document","querySelector","linkLib","searcForm","buttonWatch","buttonQueue","headerBackground","init","addEventListener","onHomeLinkClick","bind","onMyLibraryLinkClick","event","classList","remove","add","initLibraryButtons","onWatchedClick","disabelLibraryButtons","onQueueClick","removeEventListener","Footer","teamLink","onTeamLinkClick","console","log","MovieGallery","galleryRef","render","moviesList","clear","markup","reduce","acc","item","movieCardTemplate","insertAdjacentHTML","innerHTML","apiSettings","key","baseUrl","names","tranding","search","movie","genres","api","settings","page","query","fetchPopularFilms","url","fetch","then","response","json","fetchFilmsOnSearch","fetchFilmById","id","fetchGenresList","UiService","getGefs","pageHeader","movieGallery","pageFooter","header","footer","showPopularFilms","onSearchBtnClick","target","nodeName","currentTarget","elements","value","errorRef","textContent","genresData","movieList","prepareDataForMarkup","results","length","error","onHomeBtnClick","onMyLibraryBtnClick","onWatchedBtnClick","onQueueBtnClick","genre","map","genresNames","genre_ids","find","push","name","join","year","release_date","slice","firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","bodyRef","auth","db","firestore","signupForm","e","preventDefault","email","password","createUserWithEmailAndPassword","cred","collection","doc","user","uid","set","watched","queue","modal","M","Modal","getInstance","close","reset","catch","err","message","signOut","loginForm","signInWithEmailAndPassword","getActualQueueLists","get","list","actualListQueue","getActualWatchedLists","actualListWatched","addItemsToWattchedList","watchedList","newList","film","addItemsToQueueList","queueList","loggedOutLink","loggedInLink","setupUI","onAuthStateChanged","merge","renewQueueList","renewWatchedList","initFirebase","elems","querySelectorAll"],"mappings":"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","file":"main.da03a12d773aeae32680.js","sourcesContent":["var Handlebars = require(\"../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3=\"function\", alias4=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<li class=\\\"gallery__item\\\" data-id=\\\"\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"id\") || (depth0 != null ? lookupProperty(depth0,\"id\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"id\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":1,\"column\":35},\"end\":{\"line\":1,\"column\":41}}}) : helper)))\n    + \"\\\">\\r\\n    <img class=\\\"gallery__img\\\" src=\\\"https://image.tmdb.org/t/p/w500\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"poster_path\") || (depth0 != null ? lookupProperty(depth0,\"poster_path\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"poster_path\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":2,\"column\":66},\"end\":{\"line\":2,\"column\":81}}}) : helper)))\n    + \"\\\" alt=\\\"\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"title\") || (depth0 != null ? lookupProperty(depth0,\"title\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"title\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":2,\"column\":88},\"end\":{\"line\":2,\"column\":97}}}) : helper)))\n    + \" movie poster\\\">\\r\\n    <h3 class=\\\"gallery__movie-title\\\">\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"title\") || (depth0 != null ? lookupProperty(depth0,\"title\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"title\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":3,\"column\":37},\"end\":{\"line\":3,\"column\":46}}}) : helper)))\n    + \"</h3>\\r\\n    <p class=\\\"gallery__movie-genre\\\">\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"genres\") || (depth0 != null ? lookupProperty(depth0,\"genres\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"genres\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":4,\"column\":36},\"end\":{\"line\":4,\"column\":46}}}) : helper)))\n    + \" | \"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"year\") || (depth0 != null ? lookupProperty(depth0,\"year\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"year\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":4,\"column\":49},\"end\":{\"line\":4,\"column\":57}}}) : helper)))\n    + \"</p>\\r\\n</li>\";\n},\"useData\":true});","// Imports\nvar ___HTML_LOADER_GET_SOURCE_FROM_IMPORT___ = require(\"../../node_modules/html-loader/dist/runtime/getUrl.js\");\nvar ___HTML_LOADER_IMPORT_0___ = require(\"../images/sprite.svg\");\n// Module\nvar ___HTML_LOADER_REPLACEMENT_0___ = ___HTML_LOADER_GET_SOURCE_FROM_IMPORT___(___HTML_LOADER_IMPORT_0___, { hash: \"#logo\" });\nvar ___HTML_LOADER_REPLACEMENT_1___ = ___HTML_LOADER_GET_SOURCE_FROM_IMPORT___(___HTML_LOADER_IMPORT_0___, { hash: \"#input-search\" });\nvar code = \"<header data-js=\\\"page-header\\\" class=\\\"page-header\\\"> <div class=\\\"container\\\"> <nav class=\\\"site-nav\\\"> <a class=\\\"logo\\\" href=\\\"./index.html\\\"> <svg class=\\\"logo-svg\\\" width=\\\"24px\\\" height=\\\"24px\\\" alt=\\\"logo\\\"> <use href=\\\"\" + ___HTML_LOADER_REPLACEMENT_0___ + \"\\\"></use> </svg> <span class=\\\"logo-text\\\">Filmoteka</span> </a> <ul class=\\\"site-nav-link list\\\"> <li data-js=\\\"home-btn\\\" class=\\\"item current\\\"> <a><span>HOME</span> </a></li> <li data-js=\\\"lib-btn\\\" class=\\\"item\\\"> <a><span>MY LIBRARY</span> </a></li> </ul> </nav> <div id=\\\"auth\\\" class=\\\"\\\"> <p class=\\\"logged-out is-hidden\\\"> <a href=\\\"#\\\" class=\\\"\\\" id=\\\"logout\\\"> <i class=\\\"material-icons\\\"> logout </i> </a> </p> <p class=\\\"logged-in is-hidden\\\"> <a href=\\\"#\\\" class=\\\"modal-trigger\\\" data-target=\\\"modal-login\\\"> <i class=\\\"material-icons\\\"> perm_identity </i> </a> </p> </div> <form data-js=\\\"search-form\\\" class=\\\"search-form\\\" id=\\\"search-form\\\"> <input class=\\\"search-form-input\\\" type=\\\"text\\\" name=\\\"query\\\" autocomplete=\\\"off\\\" placeholder=\\\"Поиск фильмов\\\"/> <button type=\\\"button\\\"> <svg class=\\\"input-search-svg\\\" width=\\\"10px\\\" height=\\\"10px\\\" alt=\\\"input-search\\\"> <use href=\\\"\" + ___HTML_LOADER_REPLACEMENT_1___ + \"\\\"></use> </svg> </button> <p class=\\\"search-form__error\\\"></p> </form> <div class=\\\"header-button\\\"> <button data-js=\\\"button-watch\\\" class=\\\"button watch is-hidden is-active\\\" type=\\\"button\\\"> <span>WATCHED</span> </button> <button data-js=\\\"button-queue\\\" class=\\\"button queue is-hidden\\\" type=\\\"button\\\"> <span>QUEUE</span> </button> </div> </div> </header> \";\n// Exports\nmodule.exports = code;","module.exports = \"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMCIgaGVpZ2h0PSIwIiBjbGFzcz0iaGlkZGVuIj4NCiAgPHN5bWJvbCB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2aWV3Qm94PSIwIDAgNjcgNjciIGlkPSJhcnJvdy1yaWdodCI+DQogICAgPGltYWdlIHg9IjExIiB5PSIxMSIgd2lkdGg9IjQ1IiBoZWlnaHQ9IjQ1IiB4bGluazpocmVmPSJkYXRhOmltZy9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFDMEFBQUF0Q0FRQUFBQ1FFeW9SQUFBQUJHZEJUVUVBQUxHUEMveGhCUUFBQUNCalNGSk5BQUI2SmdBQWdJUUFBUG9BQUFDQTZBQUFkVEFBQU9wZ0FBQTZtQUFBRjNDY3VsRThBQUFBQW1KTFIwUUFBS3FOSXpJQUFBQUpjRWhaY3dBQUxpTUFBQzRqQVhpbFAzWUFBQUFIZEVsTlJRZmxBZ3dTQXljcnpsMy9BQUFBcjBsRVFWUkl4KzNYdlEzQ01CQ0c0WmVrb2J5UzBpTXdndWxnUWtyUFFSVTJnQTNJQnNrR3BrRW9ndWFTM0FrSjNibHk0Y2ZXSi8vSW9DMmgwRkZJNmhIcWVsQ3BWQWIydG5CK3dUUHdac0UwUW1lNzh0dGszY2F4U09DQkJ4NzRuK0FiQVBKcXZDQ1Qvc2lCKy9lY05tMUFXczRjN2JKNTE1WmQ0L0ZDQTVBYWVpZTZoK1NWdGVzT1dWOXVoeWJnZ0FNTytLZXc0MThtejRlWGZPN01MdnJQUU5SUnRHcjZnakJ5NWFSOXFKOFJQRzN4ajRuNnVnQUFBQUJKUlU1RXJrSmdnZz09Ij48L2ltYWdlPg0KICA8L3N5bWJvbD4NCiAgPHN5bWJvbCBmaWxsPSJub25lIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxMiAxMiIgaWQ9ImlucHV0LXNlYXJjaCI+DQogICAgPHBhdGggZD0iTTUuNSA5LjVhNCA0IDAgMTAwLTggNCA0IDAgMDAwIDh6bTUgMUw4LjMyNSA4LjMyNSIgc3Ryb2tlPSIjZmZmIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiPjwvcGF0aD4NCiAgPC9zeW1ib2w+DQogIDxzeW1ib2wgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB2aWV3Qm94PSIwIDAgMjQgMjQiIGlkPSJsb2dvIj4NCiAgICA8cGF0aCBkPSJNMTkuODIgMkg0LjE4QTIuMTggMi4xOCAwIDAwMiA0LjE4djE1LjY0QTIuMTggMi4xOCAwIDAwNC4xOCAyMmgxNS42NEEyLjE4IDIuMTggMCAwMDIyIDE5LjgyVjQuMThBMi4xOCAyLjE4IDAgMDAxOS44MiAyek03IDJ2MjBNMTcgMnYyME0yIDEyaDIwTTIgN2g1TTIgMTdoNW0xMCAwaDVNMTcgN2g1IiBzdHJva2U9IiM4MTgxODEiIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIj48L3BhdGg+DQogIDwvc3ltYm9sPg0KICA8c3ltYm9sIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgdmlld0JveD0iMCAwIDE0IDEzIiBpZD0ibG92ZSI+DQogICAgPHBhdGggZD0iTTcgMTIuODhsLS45OC0uOThDMi4zOCA4LjY4IDAgNi41MSAwIDMuODUgMCAxLjY4IDEuNjggMCAzLjg1IDAgNS4wNCAwIDYuMjMuNTYgNyAxLjQ3IDcuNzcuNTYgOC45NiAwIDEwLjE1IDAgMTIuMzIgMCAxNCAxLjY4IDE0IDMuODVjMCAyLjY2LTIuMzggNC44My02LjAyIDguMDVsLS45OC45OHoiIGZpbGw9IiNGRjZCMDgiPjwvcGF0aD4NCiAgPC9zeW1ib2w+DQogIDxzeW1ib2wgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB2aWV3Qm94PSIwIDAgMTYgMTYiIGlkPSJhcnJvdy1sZWZ0Ij4NCiAgICA8cGF0aCBkPSJNMTIuNjY3IDhIMy4zMzNNOCAxMi42NjdMMy4zMzMgOCA4IDMuMzMzIiBzdHJva2U9IiMwMDAiIHN0cm9rZS13aWR0aD0iMS4zMzMiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCI+PC9wYXRoPg0KICA8L3N5bWJvbD4NCjwvc3ZnPg==\"","// Module\nvar code = \" <div id=\\\"modal-signup\\\" class=\\\"modal\\\"> <div class=\\\"modal-content\\\"> <h4>Sign up</h4> <br/> <form id=\\\"signup-form\\\"> <div class=\\\"input-field\\\"> <input type=\\\"email\\\" id=\\\"signup-email\\\" required/> <label for=\\\"signup-email\\\">Email address</label> </div> <div class=\\\"input-field\\\"> <input type=\\\"password\\\" id=\\\"signup-password\\\" required/> <label for=\\\"signup-password\\\">Choose password</label> </div> <button class=\\\"btn darken-2 z-depth-0\\\">Sign up</button> <p class=\\\"error pink-text center-align\\\"></p> </form> </div> </div> <div id=\\\"modal-login\\\" class=\\\"modal\\\"> <div class=\\\"modal-content\\\"> <h4>Login</h4> <br/> <form id=\\\"login-form\\\"> <div class=\\\"input-field\\\"> <input type=\\\"email\\\" id=\\\"login-email\\\" required/> <label for=\\\"login-email\\\">Email address</label> </div> <div class=\\\"input-field\\\"> <input type=\\\"password\\\" id=\\\"login-password\\\" required/> <label for=\\\"login-password\\\">Your password</label> </div> <button class=\\\"btn darken-2 z-depth-0\\\">Login</button> <p> New user? <a href=\\\"#\\\" class=\\\"grey-text modal-trigger\\\" data-target=\\\"modal-signup\\\"> Sign up </a> </p> <p class=\\\"error pink-text center-align\\\"></p> </form> </div> </div> \";\n// Exports\nmodule.exports = code;","export default class Header {\r\n  constructor() {\r\n    this.refs = this.getRefs();\r\n  }\r\n\r\n  getRefs() {\r\n    const refs = {\r\n      linkHome: document.querySelector('[data-js=\"home-btn\"]'),\r\n      linkLib: document.querySelector('[data-js=\"lib-btn\"]'),\r\n      searcForm: document.querySelector('[data-js=\"search-form\"]'),\r\n      buttonWatch: document.querySelector('[data-js=\"button-watch\"]'),\r\n      buttonQueue: document.querySelector('[data-js=\"button-queue\"]'),\r\n      headerBackground: document.querySelector('[data-js=\"page-header\"]'),\r\n    };\r\n\r\n    return refs;\r\n  }\r\n\r\n  init() {\r\n    this.refs.linkHome.addEventListener(\r\n      'click',\r\n      this.onHomeLinkClick.bind(this),\r\n    );\r\n    this.refs.linkLib.addEventListener(\r\n      'click',\r\n      this.onMyLibraryLinkClick.bind(this),\r\n    );\r\n  }\r\n\r\n  onMyLibraryLinkClick(event) {\r\n    this.refs.linkHome.classList.remove('current');\r\n    this.refs.linkLib.classList.add('current');\r\n    this.refs.searcForm.classList.add('is-hidden');\r\n    this.refs.buttonQueue.classList.remove('is-hidden');\r\n    this.refs.buttonWatch.classList.remove('is-hidden');\r\n    this.refs.headerBackground.classList.add('lib');\r\n    this.initLibraryButtons();\r\n    this.onWatchedClick();\r\n  }\r\n\r\n  onHomeLinkClick(event) {\r\n    this.refs.linkHome.classList.add('current');\r\n    this.refs.linkLib.classList.remove('current');\r\n    this.refs.searcForm.classList.remove('is-hidden');\r\n    this.refs.buttonQueue.classList.add('is-hidden');\r\n    this.refs.buttonWatch.classList.add('is-hidden');\r\n    this.refs.headerBackground.classList.remove('lib');\r\n    this.disabelLibraryButtons();\r\n  }\r\n\r\n  initLibraryButtons() {\r\n    this.refs.buttonWatch.addEventListener(\r\n      'click',\r\n      this.onWatchedClick.bind(this),\r\n    );\r\n    this.refs.buttonQueue.addEventListener(\r\n      'click',\r\n      this.onQueueClick.bind(this),\r\n    );\r\n  }\r\n\r\n  onWatchedClick() {\r\n    this.refs.buttonWatch.classList.add('is-active');\r\n    this.refs.buttonQueue.classList.remove('is-active');\r\n  }\r\n\r\n  onQueueClick() {\r\n    this.refs.buttonQueue.classList.add('is-active');\r\n    this.refs.buttonWatch.classList.remove('is-active');\r\n  }\r\n\r\n  disabelLibraryButtons() {\r\n    this.refs.buttonQueue.removeEventListener(\r\n      'click',\r\n      this.onWatchedClick.bind(this),\r\n    );\r\n    this.refs.buttonWatch.removeEventListener(\r\n      'click',\r\n      this.onQueueClick.bind(this),\r\n    );\r\n  }\r\n}\r\n","export default class Footer {\r\n  constructor() {\r\n    this.refs = this.getRefs();\r\n  }\r\n\r\n  getRefs() {\r\n    const refs = {\r\n      teamLink: document.querySelector('[data-js=\"team-link\"]'),\r\n    };\r\n\r\n    return refs;\r\n  }\r\n\r\n  init() {\r\n    this.refs.teamLink.addEventListener(\r\n      'click',\r\n      this.onTeamLinkClick.bind(this),\r\n    );\r\n  }\r\n\r\n  onTeamLinkClick(event) {\r\n    //open team modal\r\n    console.log('Now team modal must be open');\r\n  }\r\n}\r\n","import movieCardTemplate from '../templates/gallery-card-tmp.hbs';\r\n\r\nexport default class MovieGallery {\r\n  constructor() {\r\n    this.galleryRef = document.querySelector('[data-js=\"movie-gallery\"]');\r\n  }\r\n\r\n  render(moviesList) {\r\n    this.clear();\r\n    const markup = moviesList.reduce(\r\n      (acc, item) => acc + movieCardTemplate(item),\r\n      '',\r\n    );\r\n    this.galleryRef.insertAdjacentHTML('afterbegin', markup);\r\n  }\r\n\r\n  clear() {\r\n    this.galleryRef.innerHTML = '';\r\n  }\r\n}\r\n","const apiSettings = {\r\n  key: '62af7111fb0063930df9c7b53547034d',\r\n  baseUrl: 'https://api.themoviedb.org/3',\r\n  names: {\r\n    tranding: '/trending/movie/week',\r\n    search: '/search/movie',\r\n    movie: '/movie/',\r\n    genres: '/genre/movie/list',\r\n  },\r\n};\r\n\r\nexport default apiSettings;\r\n","//Класс с полями-свойствами\r\n// refs - объект в оплях которого ссылки на все основные елементы страницы:\r\n// хедер, лого, строка поиска, кнопки хоум и библиотека, все кнопки хедера, галерея, футер\r\n// Методы:\r\n//\r\n\r\nimport Header from './header';\r\nimport Footer from './footer';\r\nimport MovieGallery from './movie-gallery';\r\nimport ApiService from './apiService';\r\nconst api = new ApiService();\r\n\r\nexport default class UiService {\r\n  constructor() {\r\n    this.refs = this.getGefs();\r\n  }\r\n\r\n  getGefs() {\r\n    const refs = {\r\n      pageHeader: document.querySelector('[data-js=\"page-header\"]'),\r\n      movieGallery: document.querySelector('[data-js=\"movie-gallery\"]'),\r\n      pageFooter: document.querySelector('[data-js=\"page-footer\"]'),\r\n    };\r\n    return refs;\r\n  }\r\n\r\n  init() {\r\n    const header = new Header();\r\n    const footer = new Footer();\r\n    header.init();\r\n    footer.init();\r\n    this.showPopularFilms();\r\n    header.refs.searcForm.addEventListener(\r\n      'click',\r\n      this.onSearchBtnClick.bind(this),\r\n    );\r\n\r\n    // вешаем слушатели на кнопки навигации\r\n    // при нажатии на кнопку MyLibrary - вешаем слушатели на кнопки Watch и Queue\r\n    // при нажатии на кнопку Home снимаем слушатели с кнопки Watch и Queue\r\n  }\r\n\r\n  async onSearchBtnClick(event) {\r\n    if (event.target.nodeName !== 'BUTTON' && event.target.nodeName !== 'svg')\r\n      return;\r\n    const query = event.currentTarget.elements.query.value;\r\n    const errorRef = event.currentTarget.querySelector('.search-form__error');\r\n    errorRef.textContent = '';\r\n    try {\r\n      const data = await api.fetchFilmsOnSearch(query);\r\n      const genresData = await api.fetchGenresList();\r\n      const movieList = this.prepareDataForMarkup(\r\n        data.results,\r\n        genresData.genres,\r\n      );\r\n      if (data.results.length === 0) {\r\n        throw error;\r\n      }\r\n      const movieGallery = new MovieGallery();\r\n      movieGallery.render(movieList);\r\n    } catch (e) {\r\n      errorRef.textContent =\r\n        'Search result not successful. Enter the correct movie name and try again';\r\n    }\r\n\r\n    // запрашиваем фильмы с сревера по запросу\r\n    //api.fetchFilmsOnSearch(query)\r\n    //обрабатываем данные и собираем их в масив объектов - movieList\r\n    //рисуем галерею фильмов метод класса MovieGallery.render(movieList)\r\n  }\r\n\r\n  onHomeBtnClick(event) {}\r\n\r\n  onMyLibraryBtnClick(event) {}\r\n\r\n  onWatchedBtnClick(event) {}\r\n\r\n  onQueueBtnClick(event) {}\r\n\r\n  async showPopularFilms(page = 1) {\r\n    try {\r\n      const data = await api.fetchPopularFilms(page);\r\n      const genresData = await api.fetchGenresList();\r\n      const movieList = this.prepareDataForMarkup(\r\n        data.results,\r\n        genresData.genres,\r\n      );\r\n      const movieGallery = new MovieGallery();\r\n      movieGallery.render(movieList);\r\n    } catch (e) {\r\n      console.log('error');\r\n    }\r\n  }\r\n\r\n  prepareDataForMarkup(movieList, genres) {\r\n    let genre = null;\r\n    const preparedMovieList = movieList.map(movie => {\r\n      const genresNames = movie.genre_ids.reduce((acc, id) => {\r\n        genre = genres.find(item => item.id == id);\r\n        acc.push(genre.name);\r\n        return acc;\r\n      }, []);\r\n\r\n      movie.genres = genresNames.join(', ');\r\n      movie.year = movie.release_date.slice(0, 4);\r\n\r\n      return movie;\r\n    });\r\n\r\n    return preparedMovieList;\r\n  }\r\n}\r\n","//Class for fetch data from server API\r\n\r\nimport settings from './apiSettings';\r\n\r\nexport default class ApiServer {\r\n  constructor() {\r\n    this.settings = settings;\r\n    this.page = 1;\r\n    this.query = '';\r\n  }\r\n\r\n  fetchPopularFilms(page = this.page) {\r\n    const url = `${this.settings.baseUrl}${this.settings.names.tranding}?api_key=${this.settings.key}&page=${page}`;\r\n    return fetch(url)\r\n      .then(response => response.json())\r\n      .then(data => {\r\n        return data;\r\n      });\r\n  }\r\n\r\n  fetchFilmsOnSearch(query, page = this.page) {\r\n    const url = `${this.settings.baseUrl}${this.settings.names.search}?api_key=${this.settings.key}&language=en-US&query=${query}&include_adult=false&page=${page}`;\r\n    return fetch(url)\r\n      .then(response => response.json())\r\n      .then(data => {\r\n        return data;\r\n      });\r\n  }\r\n\r\n  fetchFilmById(id) {\r\n    const url = `${this.settings.baseUrl}${this.settings.names.movie}${id}?api_key=${this.settings.key}&language=en-US`;\r\n    return fetch(url)\r\n      .then(response => response.json())\r\n      .then(data => {\r\n        return data;\r\n      });\r\n  }\r\n\r\n  fetchGenresList(page = this.page) {\r\n    const url = `${this.settings.baseUrl}${this.settings.names.genres}?api_key=${this.settings.key}&page=${page}`;\r\n    return fetch(url)\r\n      .then(response => response.json())\r\n      .then(data => {\r\n        return data;\r\n      });\r\n  }\r\n}\r\n","import firebase from 'firebase/app';\r\nimport 'firebase/auth';\r\nimport 'firebase/firestore';\r\n\r\nfirebase.initializeApp({\r\n  apiKey: 'AIzaSyDckuyQARNfaPXRs7Jiz4Xgr28aczvsv5w',\r\n  authDomain: 'crazy-filmoteka.firebaseapp.com',\r\n  projectId: 'crazy-filmoteka',\r\n  storageBucket: 'crazy-filmoteka.appspot.com',\r\n  messagingSenderId: '827169246677',\r\n  appId: '1:827169246677:web:2524211488e4048eb1c15c',\r\n});\r\n\r\n// listen for auth status changes\r\nexport default function initFirebase() {\r\n  const auth = firebase.auth();\r\n  const db = firebase.firestore();\r\n  // Sign up\r\n  const signupForm = document.querySelector('#signup-form');\r\n\r\n  signupForm.addEventListener('submit', e => {\r\n    e.preventDefault();\r\n\r\n    const email = signupForm['signup-email'].value;\r\n    const password = signupForm['signup-password'].value;\r\n    auth\r\n      .createUserWithEmailAndPassword(email, password)\r\n      .then(cred => {\r\n        //creating user collection\r\n        return db.collection('users').doc(cred.user.uid).set({\r\n          watched: [],\r\n          queue: [],\r\n        });\r\n      })\r\n      .then(() => {\r\n        const modal = document.querySelector('#modal-signup');\r\n        M.Modal.getInstance(modal).close();\r\n        signupForm.reset();\r\n        signupForm.querySelector('.error').innerHTML = '';\r\n      })\r\n      .catch(err => {\r\n        signupForm.querySelector('.error').innerHTML = err.message;\r\n      });\r\n  });\r\n\r\n  // logout\r\n  const logout = document.querySelector('#logout');\r\n  logout.addEventListener('click', e => {\r\n    e.preventDefault();\r\n    auth.signOut().then(() => {});\r\n  });\r\n\r\n  // login\r\n  const loginForm = document.querySelector('#login-form');\r\n  loginForm.addEventListener('submit', e => {\r\n    e.preventDefault();\r\n\r\n    // get user info\r\n    const email = loginForm['login-email'].value;\r\n    const password = loginForm['login-password'].value;\r\n\r\n    // log the user in\r\n    auth\r\n      .signInWithEmailAndPassword(email, password)\r\n      .then(() => {\r\n        // close the signup modal & reset form\r\n        const modal = document.querySelector('#modal-login');\r\n        M.Modal.getInstance(modal).close();\r\n        loginForm.reset();\r\n        loginForm.querySelector('.error').innerHTML = '';\r\n      })\r\n      .catch(err => {\r\n        loginForm.querySelector('.error').innerHTML = err.message;\r\n      });\r\n  });\r\n\r\n  const getActualQueueLists = async user => {\r\n    //get info from user's collection\r\n    const list = await db.collection('users').doc(user.uid).get();\r\n    const actualListQueue = list.data().queue;\r\n    console.log(actualListQueue);\r\n  };\r\n  const getActualWatchedLists = async user => {\r\n    //get info from user's collection\r\n    const list = await db.collection('users').doc(user.uid).get();\r\n    const actualListWatched = list.data().watched;\r\n    console.log(actualListWatched);\r\n    // const btnWatchedRef = document.querySelector('[data-js=\"button-watch\"]');\r\n    // btnWatchedRef.addEventListener('click', () => {\r\n    //   const galleryListRef = document.querySelector('[data-js=\"movie-gallery\"]');\r\n    //   galleryListRef.insertAdjacentHTML(\r\n    //     'afterbegin',\r\n    //     watchedTemplate(actualListWatched),\r\n    //   );\r\n    // });\r\n  };\r\n\r\n  const addItemsToWattchedList = async user => {\r\n    const watchedList = await db.collection('users').doc(user.uid).get();\r\n    const newList = watchedList.data().watched;\r\n\r\n    newList.push({ film: 'scream' });\r\n    return newList;\r\n  };\r\n\r\n  const addItemsToQueueList = async user => {\r\n    const queueList = await db.collection('users').doc(user.uid).get();\r\n    const newList = queueList.data().queue;\r\n\r\n    newList.push({ film: 'horse' });\r\n    return newList;\r\n  };\r\n  const renewWatchedList = user => {\r\n    const watchedBtn = document.querySelector('.watched');\r\n    watchedBtn.addEventListener('click', e => {\r\n      e.preventDefault();\r\n\r\n      addItemsToWattchedList(user).then(data => {\r\n        db.collection('users').doc(user.uid).set(\r\n          {\r\n            watched: data,\r\n          },\r\n          { merge: true },\r\n        );\r\n      });\r\n    });\r\n  };\r\n\r\n  const renewQueueList = user => {\r\n    const queueBtn = document.querySelector('.queueBtn');\r\n    queueBtn.addEventListener('click', e => {\r\n      e.preventDefault();\r\n\r\n      addItemsToQueueList(user).then(data => {\r\n        db.collection('users').doc(user.uid).set(\r\n          {\r\n            queue: data,\r\n          },\r\n          { merge: true },\r\n        );\r\n      });\r\n    });\r\n  };\r\n  const loggedOutLink = document.querySelector('.logged-out');\r\n  const loggedInLink = document.querySelector('.logged-in');\r\n\r\n  const setupUI = async user => {\r\n    if (user) {\r\n      // toggle user UI elements\r\n      loggedInLink.classList.add('is-hidden');\r\n      loggedOutLink.classList.remove('is-hidden');\r\n    } else {\r\n      loggedInLink.classList.remove('is-hidden');\r\n      loggedOutLink.classList.add('is-hidden');\r\n    }\r\n  };\r\n  auth.onAuthStateChanged(user => {\r\n    if (user) {\r\n      setupUI(user);\r\n      renewQueueList(user);\r\n      renewWatchedList(user);\r\n      getActualQueueLists(user);\r\n      getActualWatchedLists(user);\r\n    } else {\r\n      setupUI();\r\n    }\r\n  });\r\n}\r\n","import './sass/styles.scss';\r\nimport UiService from './js/uiService';\r\nimport './js/auth.js';\r\nimport header from './partials/header.html';\r\nimport footer from './partials/footer.html';\r\nimport auth from './partials/authModal.html';\r\nimport initFirebase from './js/auth.js';\r\nimport initModal from './js/initModal.js';\r\n\r\nconst bodyRef = document.querySelector('BODY');\r\n\r\nbodyRef.insertAdjacentHTML('afterbegin', header);\r\nbodyRef.insertAdjacentHTML('beforeend', footer);\r\nbodyRef.insertAdjacentHTML('afterbegin', auth);\r\n\r\nconst ui = new UiService();\r\n\r\nui.init();\r\n\r\ninitFirebase();\r\ninitModal();\r\n","import 'materialize-css/dist/js/materialize.min.js';\r\n\r\nexport default function initModal() {\r\n  document.addEventListener('DOMContentLoaded', function () {\r\n    const elems = document.querySelectorAll('.modal');\r\n    M.Modal.init(elems);\r\n  });\r\n\r\n  // close modal-login while opening modal-signup\r\n\r\n  const signUpBtn = document.querySelector('[data-target=\"modal-signup\"]');\r\n  signUpBtn.addEventListener('click', () => {\r\n    const modal = document.querySelector('#modal-login');\r\n    M.Modal.getInstance(modal).close();\r\n  });\r\n}\r\n","// Imports\nvar ___HTML_LOADER_GET_SOURCE_FROM_IMPORT___ = require(\"../../node_modules/html-loader/dist/runtime/getUrl.js\");\nvar ___HTML_LOADER_IMPORT_0___ = require(\"../images/sprite.svg\");\n// Module\nvar ___HTML_LOADER_REPLACEMENT_0___ = ___HTML_LOADER_GET_SOURCE_FROM_IMPORT___(___HTML_LOADER_IMPORT_0___, { hash: \"#love\" });\nvar code = \"<footer class=\\\"footer\\\" data-js=\\\"page-footer\\\"> <div class=\\\"container\\\"> <p class=\\\"footer-description\\\"> © 2021 | All Rights Reserved | <span>Developed with</span> <svg class=\\\"footer-description__icon\\\" width=\\\"14px\\\" height=\\\"14px\\\" alt=\\\"\\\"> <use href=\\\"\" + ___HTML_LOADER_REPLACEMENT_0___ + \"\\\"></use> </svg> <span>by</span> <a class=\\\"footer-description__link\\\" data-js=\\\"team-link\\\"> <span>GoIT Students</span> </a> </p> </div> </footer> \";\n// Exports\nmodule.exports = code;"],"sourceRoot":""}