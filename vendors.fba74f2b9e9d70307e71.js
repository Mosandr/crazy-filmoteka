(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{"+5TE":function(t,e,n){"use strict";n("Muwe");var i=n("0K2p"),r=n("+iL7"),o=n("GHf2"),s=n("hVpg"),a=n("nHIk"),u=o("species"),c=!r((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})),l="$0"==="a".replace(/./,"$0"),h=o("replace"),f=!!/./[h]&&""===/./[h]("a","$0"),d=!r((function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var n="ab".split(t);return 2!==n.length||"a"!==n[0]||"b"!==n[1]}));t.exports=function(t,e,n,h){var p=o(t),v=!r((function(){var e={};return e[p]=function(){return 7},7!=""[t](e)})),g=v&&!r((function(){var e=!1,n=/a/;return"split"===t&&((n={}).constructor={},n.constructor[u]=function(){return n},n.flags="",n[p]=/./[p]),n.exec=function(){return e=!0,null},n[p](""),!e}));if(!v||!g||"replace"===t&&(!c||!l||f)||"split"===t&&!d){var m=/./[p],y=n(p,""[t],(function(t,e,n,i,r){return e.exec===s?v&&!r?{done:!0,value:m.call(e,n,i)}:{done:!0,value:t.call(n,e,i)}:{done:!1}}),{REPLACE_KEEPS_$0:l,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:f}),b=y[0],w=y[1];i(String.prototype,t,b),i(RegExp.prototype,p,2==e?function(t,e){return w.call(t,this,e)}:function(t){return w.call(t,this)})}h&&a(RegExp.prototype[p],"sham",!0)}},"+iL7":function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},"/YDJ":function(t,e,n){"use strict";e.__esModule=!0,e.registerDefaultDecorators=function(t){o.default(t)};var i,r=n("hGk8"),o=(i=r)&&i.__esModule?i:{default:i}},"/dUa":function(t,e,n){var i=n("MoOl"),r=Function.toString;"function"!=typeof i.inspectSource&&(i.inspectSource=function(t){return r.call(t)}),t.exports=i.inspectSource},"0K2p":function(t,e,n){var i=n("nEaP"),r=n("nHIk"),o=n("tF07"),s=n("Ya6V"),a=n("/dUa"),u=n("SkE4"),c=u.get,l=u.enforce,h=String(String).split("String");(t.exports=function(t,e,n,a){var u=!!a&&!!a.unsafe,c=!!a&&!!a.enumerable,f=!!a&&!!a.noTargetGet;"function"==typeof n&&("string"!=typeof e||o(n,"name")||r(n,"name",e),l(n).source=h.join("string"==typeof e?e:"")),t!==i?(u?!f&&t[e]&&(c=!0):delete t[e],c?t[e]=n:r(t,e,n)):c?t[e]=n:s(e,n)})(Function.prototype,"toString",(function(){return"function"==typeof this&&c(this).source||a(this)}))},"11ZY":function(t,e,n){var i=n("Hvpk"),r=n("nRc6"),o=n("gDYM"),s=n("ujzH");t.exports=i?Object.defineProperties:function(t,e){o(t);for(var n,i=s(e),a=i.length,u=0;a>u;)r.f(t,n=i[u++],e[n]);return t}},"1iQ0":function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return a})),n.d(e,"b",(function(){return y})),n.d(e,"c",(function(){return _})),n.d(e,"d",(function(){return E})),n.d(e,"e",(function(){return o})),n.d(e,"f",(function(){return s})),n.d(e,"g",(function(){return u})),n.d(e,"h",(function(){return h})),n.d(e,"i",(function(){return f})),n.d(e,"j",(function(){return p})),n.d(e,"k",(function(){return v})),n.d(e,"l",(function(){return c})),n.d(e,"m",(function(){return l})),n.d(e,"n",(function(){return d})),n.d(e,"o",(function(){return g}));var i=n("bLPS"),r=function(t){for(var e=[],n=0,i=0;i<t.length;i++){var r=t.charCodeAt(i);r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=63&r|128):55296==(64512&r)&&i+1<t.length&&56320==(64512&t.charCodeAt(i+1))?(r=65536+((1023&r)<<10)+(1023&t.charCodeAt(++i)),e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=63&r|128):(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=63&r|128)}return e};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function o(t){return s(void 0,t)}function s(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&"__proto__"!==n&&(t[n]=s(t[n],e[n]));return t}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var a=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return t.prototype.wrapCallback=function(t){var e=this;return function(n,i){n?e.reject(n):e.resolve(i),"function"==typeof t&&(e.promise.catch((function(){})),1===t.length?t(n):t(n,i))}},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function c(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(u())}function l(){try{return"[object process]"===Object.prototype.toString.call(t.process)}catch(t){return!1}}function h(){return"object"==typeof self&&self.self===self}function f(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function d(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function p(){return u().indexOf("Electron/")>=0}function v(){var t=u();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function g(){return u().indexOf("MSAppHost/")>=0}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var m=function(t){function e(n,i,r){var o=t.call(this,i)||this;return o.code=n,o.customData=r,o.name="FirebaseError",Object.setPrototypeOf(o,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,y.prototype.create),o}return Object(i.a)(e,t),e}(Error),y=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var i=e[0]||{},r=this.service+"/"+t,o=this.errors[t],s=o?b(o,i):"Error",a=this.serviceName+": "+s+" ("+r+").",u=new m(r,a,i);return u},t}();function b(t,e){return t.replace(w,(function(t,n){var i=e[n];return null!=i?String(i):"<"+n+"?>"}))}var w=/\{\$([^}]+)}/g;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function _(t,e){return Object.prototype.hasOwnProperty.call(t,e)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
!function(){function t(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}t.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},t.prototype.compress_=function(t,e){e||(e=0);var n=this.W_;if("string"==typeof t)for(var i=0;i<16;i++)n[i]=t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|t.charCodeAt(e+3),e+=4;else for(i=0;i<16;i++)n[i]=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3],e+=4;for(i=16;i<80;i++){var r=n[i-3]^n[i-8]^n[i-14]^n[i-16];n[i]=4294967295&(r<<1|r>>>31)}var o,s,a=this.chain_[0],u=this.chain_[1],c=this.chain_[2],l=this.chain_[3],h=this.chain_[4];for(i=0;i<80;i++){i<40?i<20?(o=l^u&(c^l),s=1518500249):(o=u^c^l,s=1859775393):i<60?(o=u&c|l&(u|c),s=2400959708):(o=u^c^l,s=3395469782);r=(a<<5|a>>>27)+o+h+s+n[i]&4294967295;h=l,l=c,c=4294967295&(u<<30|u>>>2),u=a,a=r}this.chain_[0]=this.chain_[0]+a&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+h&4294967295},t.prototype.update=function(t,e){if(null!=t){void 0===e&&(e=t.length);for(var n=e-this.blockSize,i=0,r=this.buf_,o=this.inbuf_;i<e;){if(0===o)for(;i<=n;)this.compress_(t,i),i+=this.blockSize;if("string"==typeof t){for(;i<e;)if(r[o]=t.charCodeAt(i),++i,++o===this.blockSize){this.compress_(r),o=0;break}}else for(;i<e;)if(r[o]=t[i],++i,++o===this.blockSize){this.compress_(r),o=0;break}}this.inbuf_=o,this.total_+=e}},t.prototype.digest=function(){var t=[],e=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&e,e/=256;this.compress_(this.buf_);var i=0;for(n=0;n<5;n++)for(var r=24;r>=0;r-=8)t[i]=this.chain_[n]>>r&255,++i;return t}}();function E(t,e){var n=new k(t,e);return n.subscribe.bind(n)}var k=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then((function(){t(n)})).catch((function(t){n.error(t)}))}return t.prototype.next=function(t){this.forEachObserver((function(e){e.next(t)}))},t.prototype.error=function(t){this.forEachObserver((function(e){e.error(t)})),this.close(t)},t.prototype.complete=function(){this.forEachObserver((function(t){t.complete()})),this.close()},t.prototype.subscribe=function(t,e,n){var i,r=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(i=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,i=e;n<i.length;n++){var r=i[n];if(r in t&&"function"==typeof t[r])return!0}return!1}(t,["next","error","complete"])?t:{next:t,error:e,complete:n}).next&&(i.next=I),void 0===i.error&&(i.error=I),void 0===i.complete&&(i.complete=I);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{r.finalError?i.error(r.finalError):i.complete()}catch(t){}})),this.observers.push(i),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(t){"undefined"!=typeof console&&console.error&&console.error(t)}}))},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then((function(){e.observers=void 0,e.onNoObservers=void 0})))},t}();function I(){}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}).call(this,n("pCvA"))},"1tiZ":function(t,e,n){var i=n("nRc6").f,r=n("tF07"),o=n("GHf2")("toStringTag");t.exports=function(t,e,n){t&&!r(t=n?t:t.prototype,o)&&i(t,o,{configurable:!0,value:e})}},"20JI":function(t,e,n){"use strict";(function(i){e.__esModule=!0;var r,o=n("82EY"),s=n("AIJh"),a=(r=s)&&r.__esModule?r:{default:r};e.default=function(t){t.registerHelper("each",(function(t,e){if(!e)throw new a.default("Must pass iterator to #each");var n,r=e.fn,s=e.inverse,u=0,c="",l=void 0,h=void 0;function f(e,n,i){l&&(l.key=e,l.index=n,l.first=0===n,l.last=!!i,h&&(l.contextPath=h+e)),c+=r(t[e],{data:l,blockParams:o.blockParams([t[e],e],[h+e,null])})}if(e.data&&e.ids&&(h=o.appendContextPath(e.data.contextPath,e.ids[0])+"."),o.isFunction(t)&&(t=t.call(this)),e.data&&(l=o.createFrame(e.data)),t&&"object"==typeof t)if(o.isArray(t))for(var d=t.length;u<d;u++)u in t&&f(u,u,u===t.length-1);else if(i.Symbol&&t[i.Symbol.iterator]){for(var p=[],v=t[i.Symbol.iterator](),g=v.next();!g.done;g=v.next())p.push(g.value);for(d=(t=p).length;u<d;u++)f(u,u,u===t.length-1)}else n=void 0,Object.keys(t).forEach((function(t){void 0!==n&&f(n,u-1),n=t,u++})),void 0!==n&&f(n,u-1,!0);return 0===u&&(c=s(this)),c}))},t.exports=e.default}).call(this,n("pCvA"))},"3PYW":function(t,e,n){"use strict";var i=n("5q7I").forEach,r=n("fK/z"),o=n("p2JK"),s=r("forEach"),a=o("forEach");t.exports=s&&a?[].forEach:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}},"3dw1":function(t,e,n){var i=n("nEaP"),r=n("tPpl"),o=n("3PYW"),s=n("nHIk");for(var a in r){var u=i[a],c=u&&u.prototype;if(c&&c.forEach!==o)try{s(c,"forEach",o)}catch(t){c.forEach=o}}},"3pC9":function(t,e,n){var i=n("gIo2"),r=n("nrda"),o=i("keys");t.exports=function(t){return o[t]||(o[t]=r(t))}},"3sWB":function(t,e,n){"use strict";n.d(e,"a",(function(){return l})),n.d(e,"b",(function(){return f}));var i=function(){return(i=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};function r(t,e,n,i){return new(n||(n=Promise))((function(r,o){function s(t){try{u(i.next(t))}catch(t){o(t)}}function a(t){try{u(i.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}u((i=i.apply(t,e||[])).next())}))}function o(t,e){var n,i,r,o,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,i=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(r=s.trys,(r=r.length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){s.label=o[1];break}if(6===o[0]&&s.label<r[1]){s.label=r[1],r=o;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(o);break}r[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}Object.create;function s(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function a(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(i=o.next()).done;)s.push(i.value)}catch(t){r={error:t}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return s}function u(t,e){for(var n=0,i=e.length,r=t.length;n<i;n++,r++)t[r]=e[n];return t}Object.create;var c=n("1iQ0"),l=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t}(),h=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return t.prototype.get=function(t){void 0===t&&(t="[DEFAULT]");var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new c.a;this.instancesDeferred.set(e,n);try{var i=this.getOrInitializeService({instanceIdentifier:e});i&&n.resolve(i)}catch(t){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e=i({identifier:"[DEFAULT]",optional:!1},t),n=e.identifier,r=e.optional,o=this.normalizeInstanceIdentifier(n);try{var s=this.getOrInitializeService({instanceIdentifier:o});if(!s){if(r)return null;throw Error("Service "+this.name+" is not available")}return s}catch(t){if(r)return null;throw t}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,function(t){return"EAGER"===t.instantiationMode}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(t))try{this.getOrInitializeService({instanceIdentifier:"[DEFAULT]"})}catch(t){}try{for(var i=s(this.instancesDeferred.entries()),r=i.next();!r.done;r=i.next()){var o=a(r.value,2),u=o[0],c=o[1],l=this.normalizeInstanceIdentifier(u);try{var h=this.getOrInitializeService({instanceIdentifier:l});c.resolve(h)}catch(t){}}}catch(t){e={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}},t.prototype.clearInstance=function(t){void 0===t&&(t="[DEFAULT]"),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return r(this,void 0,void 0,(function(){var t;return o(this,(function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(u(u([],a(t.filter((function(t){return"INTERNAL"in t})).map((function(t){return t.INTERNAL.delete()})))),a(t.filter((function(t){return"_delete"in t})).map((function(t){return t._delete()})))))];case 1:return e.sent(),[2]}}))}))},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.isInitialized=function(t){return void 0===t&&(t="[DEFAULT]"),this.instances.has(t)},t.prototype.initialize=function(t){void 0===t&&(t={});var e=t.instanceIdentifier,n=void 0===e?"[DEFAULT]":e,i=t.options,r=void 0===i?{}:i,o=this.normalizeInstanceIdentifier(n);if(this.isInitialized(o))throw Error(this.name+"("+o+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");return this.getOrInitializeService({instanceIdentifier:o,options:r})},t.prototype.getOrInitializeService=function(t){var e,n=t.instanceIdentifier,i=t.options,r=void 0===i?{}:i,o=this.instances.get(n);return!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:(e=n,"[DEFAULT]"===e?void 0:e),options:r}),this.instances.set(n,o)),o||null},t.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:"[DEFAULT]":t},t}();var f=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new h(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}()},"41Zj":function(t,e,n){"use strict";var i={}.propertyIsEnumerable,r=Object.getOwnPropertyDescriptor,o=r&&!i.call({1:2},1);e.f=o?function(t){var e=r(this,t);return!!e&&e.enumerable}:i},"42RW":function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return ac})),n.d(e,"b",(function(){return cc})),n.d(e,"c",(function(){return Va})),n.d(e,"d",(function(){return V})),n.d(e,"e",(function(){return ec})),n.d(e,"f",(function(){return ic})),n.d(e,"g",(function(){return Fa})),n.d(e,"h",(function(){return nc})),n.d(e,"i",(function(){return oc})),n.d(e,"j",(function(){return dc})),n.d(e,"k",(function(){return _c})),n.d(e,"l",(function(){return vc})),n.d(e,"m",(function(){return yc})),n.d(e,"n",(function(){return sc})),n.d(e,"o",(function(){return wc})),n.d(e,"p",(function(){return mc})),n.d(e,"q",(function(){return pc})),n.d(e,"r",(function(){return Ga}));var i=n("MxOq"),r=n("1iQ0"),o=n("VClI"),s=n("vj29"),a=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.sequenceNumberHandler=function(t){return n.t(t)},this.i=function(t){return e.writeSequenceNumber(t)})}return t.prototype.t=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.i&&this.i(t),t},t}();a.o=-1;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var u=new i.b("@firebase/firestore");function c(){return u.logLevel}function l(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(u.logLevel<=i.a.DEBUG){var r=e.map(d);u.debug.apply(u,Object(s.d)(["Firestore (8.3.1): "+t],r))}}function h(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(u.logLevel<=i.a.ERROR){var r=e.map(d);u.error.apply(u,Object(s.d)(["Firestore (8.3.1): "+t],r))}}function f(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(u.logLevel<=i.a.WARN){var r=e.map(d);u.warn.apply(u,Object(s.d)(["Firestore (8.3.1): "+t],r))}}function d(t){if("string"==typeof t)return t;try{return e=t,JSON.stringify(e)}catch(e){return t}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var e}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (8.3.1) INTERNAL ASSERTION FAILED: "+t;throw h(e),new Error(e)}function v(t,e){t||p()}function g(t,e){return t}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var y=function(){function t(){}return t.u=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var i=m(40),r=0;r<i.length;++r)n.length<20&&i[r]<e&&(n+=t.charAt(i[r]%t.length));return n},t}();function b(t,e){return t<e?-1:t>e?1:0}function w(t,e,n){return t.length===e.length&&t.every((function(t,i){return n(t,e[i])}))}function _(t){return t+"\0"}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function k(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function I(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T(t){return null==t}function O(t){return 0===t&&1/t==-1/0}function S(t){return"number"==typeof t&&Number.isInteger(t)&&!O(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var C={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},A=function(t){function e(e,n){var i=this;return(i=t.call(this,n)||this).code=e,i.message=n,i.name="FirebaseError",i.toString=function(){return i.name+": [code="+i.code+"]: "+i.message},i}return Object(s.b)(e,t),e}(Error),x=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&p(),void 0===n?n=t.length-e:n>t.length-e&&p(),this.segments=t,this.offset=e,this.len=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.comparator(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach((function(t){n.push(t)})):n.push(e),this.construct(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.popFirst=function(t){return t=void 0===t?1:t,this.construct(this.segments,this.offset+t,this.length-t)},t.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},t.prototype.firstSegment=function(){return this.segments[this.offset]},t.prototype.lastSegment=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.isEmpty=function(){return 0===this.length},t.prototype.isPrefixOf=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.isImmediateParentOf=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},t.comparator=function(t,e){for(var n=Math.min(t.length,e.length),i=0;i<n;i++){var r=t.get(i),o=e.get(i);if(r<o)return-1;if(r>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),D=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(s.b)(e,t),e.prototype.construct=function(t,n,i){return new e(t,n,i)},e.prototype.canonicalString=function(){return this.toArray().join("/")},e.prototype.toString=function(){return this.canonicalString()},e.fromString=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var i=[],r=0,o=t;r<o.length;r++){var s=o[r];if(s.indexOf("//")>=0)throw new A(C.INVALID_ARGUMENT,"Invalid segment ("+s+"). Paths must not contain // in them.");i.push.apply(i,s.split("/").filter((function(t){return t.length>0})))}return new e(i)},e.emptyPath=function(){return new e([])},e}(x),M=/^[_a-zA-Z][_a-zA-Z0-9]*$/,L=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(s.b)(e,t),e.prototype.construct=function(t,n,i){return new e(t,n,i)},e.isValidIdentifier=function(t){return M.test(t)},e.prototype.canonicalString=function(){return this.toArray().map((function(t){return t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.isValidIdentifier(t)||(t="`"+t+"`"),t})).join(".")},e.prototype.toString=function(){return this.canonicalString()},e.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},e.keyField=function(){return new e(["__name__"])},e.fromServerFormat=function(t){for(var n=[],i="",r=0,o=function(){if(0===i.length)throw new A(C.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(i),i=""},s=!1;r<t.length;){var a=t[r];if("\\"===a){if(r+1===t.length)throw new A(C.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var u=t[r+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new A(C.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=u,r+=2}else"`"===a?(s=!s,r++):"."!==a||s?(i+=a,r++):(o(),r++)}if(o(),s)throw new A(C.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.emptyPath=function(){return new e([])},e}(x),N=function(){function t(t){this.path=t}return t.fromPath=function(e){return new t(D.fromString(e))},t.fromName=function(e){return new t(D.fromString(e).popFirst(5))},t.prototype.hasCollectionId=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===D.comparator(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.comparator=function(t,e){return D.comparator(t.path,e.path)},t.isDocumentKey=function(t){return t.length%2==0},t.fromSegments=function(e){return new t(new D(e.slice()))},t}(),P=function(){function t(t){this.binaryString=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return t=this.binaryString,btoa(t);var t},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.binaryString)},t.prototype.approximateByteSize=function(){return 2*this.binaryString.length},t.prototype.compareTo=function(t){return b(this.binaryString,t.binaryString)},t.prototype.isEqual=function(t){return this.binaryString===t.binaryString},t}();P.EMPTY_BYTE_STRING=new P("");var R=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function j(t){if(v(!!t),"string"==typeof t){var e=0,n=R.exec(t);if(v(!!n),n[1]){var i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}var r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:B(t.seconds),nanos:B(t.nanos)}}function B(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function F(t){return"string"==typeof t?P.fromBase64String(t):P.fromUint8Array(t)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var V=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new A(C.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new A(C.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new A(C.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new A(C.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,1e6*(e-1e3*n))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype._compareTo=function(t){return this.seconds===t.seconds?b(this.nanoseconds,t.nanoseconds):b(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){var t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function U(t){var e=j(t.mapValue.fields.__local_write_time__.timestampValue);return new V(e.seconds,e.nanos)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?q(t)?4:10:p()}function $(t,e){var n=H(t);if(n!==H(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return U(t).isEqual(U(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=j(t.timestampValue),i=j(e.timestampValue);return n.seconds===i.seconds&&n.nanos===i.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return F(t.bytesValue).isEqual(F(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return B(t.geoPointValue.latitude)===B(e.geoPointValue.latitude)&&B(t.geoPointValue.longitude)===B(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return B(t.integerValue)===B(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=B(t.doubleValue),i=B(e.doubleValue);return n===i?O(n)===O(i):isNaN(n)&&isNaN(i)}return!1}(t,e);case 9:return w(t.arrayValue.values||[],e.arrayValue.values||[],$);case 10:return function(t,e){var n=t.mapValue.fields||{},i=e.mapValue.fields||{};if(E(n)!==E(i))return!1;for(var r in n)if(n.hasOwnProperty(r)&&(void 0===i[r]||!$(n[r],i[r])))return!1;return!0}(t,e);default:return p()}}function W(t,e){return void 0!==(t.values||[]).find((function(t){return $(t,e)}))}function K(t,e){var n=H(t),i=H(e);if(n!==i)return b(n,i);switch(n){case 0:return 0;case 1:return b(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=B(t.integerValue||t.doubleValue),i=B(e.integerValue||e.doubleValue);return n<i?-1:n>i?1:n===i?0:isNaN(n)?isNaN(i)?0:-1:1}(t,e);case 3:return z(t.timestampValue,e.timestampValue);case 4:return z(U(t),U(e));case 5:return b(t.stringValue,e.stringValue);case 6:return function(t,e){var n=F(t),i=F(e);return n.compareTo(i)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),i=e.split("/"),r=0;r<n.length&&r<i.length;r++){var o=b(n[r],i[r]);if(0!==o)return o}return b(n.length,i.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=b(B(t.latitude),B(e.latitude));return 0!==n?n:b(B(t.longitude),B(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],i=e.values||[],r=0;r<n.length&&r<i.length;++r){var o=K(n[r],i[r]);if(o)return o}return b(n.length,i.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},i=Object.keys(n),r=e.fields||{},o=Object.keys(r);i.sort(),o.sort();for(var s=0;s<i.length&&s<o.length;++s){var a=b(i[s],o[s]);if(0!==a)return a;var u=K(n[i[s]],r[o[s]]);if(0!==u)return u}return b(i.length,o.length)}(t.mapValue,e.mapValue);default:throw p()}}function z(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return b(t,e);var n=j(t),i=j(e),r=b(n.seconds,i.seconds);return 0!==r?r:b(n.nanos,i.nanos)}function G(t){return function t(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(t){var e=j(t);return"time("+e.seconds+","+e.nanos+")"}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?F(e.bytesValue).toBase64():"referenceValue"in e?(i=e.referenceValue,N.fromName(i).toString()):"geoPointValue"in e?"geo("+(n=e.geoPointValue).latitude+","+n.longitude+")":"arrayValue"in e?function(e){for(var n="[",i=!0,r=0,o=e.values||[];r<o.length;r++)i?i=!1:n+=",",n+=t(o[r]);return n+"]"}(e.arrayValue):"mapValue"in e?function(e){for(var n="{",i=!0,r=0,o=Object.keys(e.fields||{}).sort();r<o.length;r++){var s=o[r];i?i=!1:n+=",",n+=s+":"+t(e.fields[s])}return n+"}"}(e.mapValue):p();var n,i}(t)}function Q(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.canonicalString()}}function Y(t){return!!t&&"integerValue"in t}function X(t){return!!t&&"arrayValue"in t}function J(t){return!!t&&"nullValue"in t}function Z(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function tt(t){return!!t&&"mapValue"in t}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var et=function(t,e){this.key=t,this.version=e},nt=function(t){function e(e,n,i,r){var o=this;return(o=t.call(this,e,n)||this).objectValue=i,o.hasLocalMutations=!!r.hasLocalMutations,o.hasCommittedMutations=!!r.hasCommittedMutations,o}return Object(s.b)(e,t),e.prototype.field=function(t){return this.objectValue.field(t)},e.prototype.data=function(){return this.objectValue},e.prototype.toProto=function(){return this.objectValue.proto},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.hasLocalMutations===t.hasLocalMutations&&this.hasCommittedMutations===t.hasCommittedMutations&&this.objectValue.isEqual(t.objectValue)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.objectValue.toString()+", {hasLocalMutations: "+this.hasLocalMutations+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e}(et),it=function(t){function e(e,n,i){var r=this;return(r=t.call(this,e,n)||this).hasCommittedMutations=!(!i||!i.hasCommittedMutations),r}return Object(s.b)(e,t),e.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.hasCommittedMutations===this.hasCommittedMutations&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(et),rt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(s.b)(e,t),e.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(et),ot=function(t,e,n,i,r,o,s){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===i&&(i=[]),void 0===r&&(r=null),void 0===o&&(o=null),void 0===s&&(s=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=i,this.limit=r,this.startAt=o,this.endAt=s,this.h=null};function st(t,e,n,i,r,o,s){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===i&&(i=[]),void 0===r&&(r=null),void 0===o&&(o=null),void 0===s&&(s=null),new ot(t,e,n,i,r,o,s)}function at(t){var e=g(t);if(null===e.h){var n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((function(t){return function(t){return t.field.canonicalString()+t.op.toString()+G(t.value)}(t)})).join(","),n+="|ob:",n+=e.orderBy.map((function(t){return function(t){return t.field.canonicalString()+t.dir}(t)})).join(","),T(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=wt(e.startAt)),e.endAt&&(n+="|ub:",n+=wt(e.endAt)),e.h=n}return e.h}function ut(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!Et(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var i=0;i<t.filters.length;i++)if(r=t.filters[i],o=e.filters[i],r.op!==o.op||!r.field.isEqual(o.field)||!$(r.value,o.value))return!1;var r,o;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!It(t.startAt,e.startAt)&&It(t.endAt,e.endAt)}function ct(t){return N.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}var lt=function(t){function e(e,n,i){var r=this;return(r=t.call(this)||this).field=e,r.op=n,r.value=i,r}return Object(s.b)(e,t),e.create=function(t,n,i){return t.isKeyField()?"in"===n||"not-in"===n?this.l(t,n,i):new ht(t,n,i):"array-contains"===n?new vt(t,i):"in"===n?new gt(t,i):"not-in"===n?new mt(t,i):"array-contains-any"===n?new yt(t,i):new e(t,n,i)},e.l=function(t,e,n){return"in"===e?new ft(t,n):new dt(t,n)},e.prototype.matches=function(t){var e=t.field(this.field);return"!="===this.op?null!==e&&this.m(K(e,this.value)):null!==e&&H(this.value)===H(e)&&this.m(K(e,this.value))},e.prototype.m=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return p()}},e.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}((function(){})),ht=function(t){function e(e,n,i){var r=this;return(r=t.call(this,e,n,i)||this).key=N.fromName(i.referenceValue),r}return Object(s.b)(e,t),e.prototype.matches=function(t){var e=N.comparator(t.key,this.key);return this.m(e)},e}(lt),ft=function(t){function e(e,n){var i=this;return(i=t.call(this,e,"in",n)||this).keys=pt("in",n),i}return Object(s.b)(e,t),e.prototype.matches=function(t){return this.keys.some((function(e){return e.isEqual(t.key)}))},e}(lt),dt=function(t){function e(e,n){var i=this;return(i=t.call(this,e,"not-in",n)||this).keys=pt("not-in",n),i}return Object(s.b)(e,t),e.prototype.matches=function(t){return!this.keys.some((function(e){return e.isEqual(t.key)}))},e}(lt);function pt(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(t){return N.fromName(t.referenceValue)}))}var vt=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return Object(s.b)(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return X(e)&&W(e.arrayValue,this.value)},e}(lt),gt=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return Object(s.b)(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return null!==e&&W(this.value.arrayValue,e)},e}(lt),mt=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return Object(s.b)(e,t),e.prototype.matches=function(t){if(W(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.field(this.field);return null!==e&&!W(this.value.arrayValue,e)},e}(lt),yt=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return Object(s.b)(e,t),e.prototype.matches=function(t){var e=this,n=t.field(this.field);return!(!X(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(t){return W(e.value.arrayValue,t)}))},e}(lt),bt=function(t,e){this.position=t,this.before=e};function wt(t){return(t.before?"b":"a")+":"+t.position.map((function(t){return G(t)})).join(",")}var _t=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function Et(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function kt(t,e,n){for(var i=0,r=0;r<t.position.length;r++){var o=e[r],s=t.position[r];if(i=o.field.isKeyField()?N.comparator(N.fromName(s.referenceValue),n.key):K(s,n.field(o.field)),"desc"===o.dir&&(i*=-1),0!==i)break}return t.before?i<=0:i<0}function It(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!$(t.position[n],e.position[n]))return!1;return!0}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Tt=function(t,e,n,i,r,o,s,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===i&&(i=[]),void 0===r&&(r=null),void 0===o&&(o="F"),void 0===s&&(s=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.explicitOrderBy=n,this.filters=i,this.limit=r,this.limitType=o,this.startAt=s,this.endAt=a,this.p=null,this.T=null,this.startAt,this.endAt};function Ot(t,e,n,i,r,o,s,a){return new Tt(t,e,n,i,r,o,s,a)}function St(t){return new Tt(t)}function Ct(t){return!T(t.limit)&&"F"===t.limitType}function At(t){return!T(t.limit)&&"L"===t.limitType}function xt(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function Dt(t){for(var e=0,n=t.filters;e<n.length;e++){var i=n[e];if(i.g())return i.field}return null}function Mt(t){return null!==t.collectionGroup}function Lt(t){var e=g(t);if(null===e.p){e.p=[];var n=Dt(e),i=xt(e);if(null!==n&&null===i)n.isKeyField()||e.p.push(new _t(n)),e.p.push(new _t(L.keyField(),"asc"));else{for(var r=!1,o=0,s=e.explicitOrderBy;o<s.length;o++){var a=s[o];e.p.push(a),a.field.isKeyField()&&(r=!0)}if(!r){var u=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.p.push(new _t(L.keyField(),u))}}}return e.p}function Nt(t){var e=g(t);if(!e.T)if("F"===e.limitType)e.T=st(e.path,e.collectionGroup,Lt(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],i=0,r=Lt(e);i<r.length;i++){var o=r[i],s="desc"===o.dir?"asc":"desc";n.push(new _t(o.field,s))}var a=e.endAt?new bt(e.endAt.position,!e.endAt.before):null,u=e.startAt?new bt(e.startAt.position,!e.startAt.before):null;e.T=st(e.path,e.collectionGroup,n,e.filters,e.limit,a,u)}return e.T}function Pt(t,e,n){return new Tt(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Rt(t,e){return ut(Nt(t),Nt(e))&&t.limitType===e.limitType}function jt(t){return at(Nt(t))+"|lt:"+t.limitType}function Bt(t){return"Query(target="+function(t){var e=t.path.canonicalString();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map((function(t){return(e=t).field.canonicalString()+" "+e.op+" "+G(e.value);var e})).join(", ")+"]"),T(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map((function(t){return function(t){return t.field.canonicalString()+" ("+t.dir+")"}(t)})).join(", ")+"]"),t.startAt&&(e+=", startAt: "+wt(t.startAt)),t.endAt&&(e+=", endAt: "+wt(t.endAt)),"Target("+e+")"}(Nt(t))+"; limitType="+t.limitType+")"}function Ft(t,e){return function(t,e){var n=e.key.path;return null!==t.collectionGroup?e.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(n):N.isDocumentKey(t.path)?t.path.isEqual(n):t.path.isImmediateParentOf(n)}(t,e)&&function(t,e){for(var n=0,i=t.explicitOrderBy;n<i.length;n++){var r=i[n];if(!r.field.isKeyField()&&null===e.field(r.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,i=t.filters;n<i.length;n++)if(!i[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!kt(t.startAt,Lt(t),e)||t.endAt&&kt(t.endAt,Lt(t),e))}(t,e)}function Vt(t){return function(e,n){for(var i=!1,r=0,o=Lt(t);r<o.length;r++){var s=o[r],a=qt(s,e,n);if(0!==a)return a;i=i||s.field.isKeyField()}return 0}}function qt(t,e,n){var i=t.field.isKeyField()?N.comparator(e.key,n.key):function(t,e,n){var i=e.field(t),r=n.field(t);return null!==i&&null!==r?K(i,r):p()}(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return p()}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ut=function(){function t(t){this.timestamp=t}return t.fromTimestamp=function(e){return new t(e)},t.min=function(){return new t(new V(0,0))},t.prototype.compareTo=function(t){return this.timestamp._compareTo(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.toTimestamp=function(){return this.timestamp},t}(),Ht=function(){function t(t){this.fields=t,t.sort(L.comparator)}return t.prototype.covers=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].isPrefixOf(t))return!0;return!1},t.prototype.isEqual=function(t){return w(this.fields,t.fields,(function(t,e){return t.isEqual(e)}))},t}(),$t=function(){function t(t){this.proto=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(t){if(t.isEmpty())return this.proto;for(var e=this.proto,n=0;n<t.length-1;++n){if(!e.mapValue.fields)return null;if(!tt(e=e.mapValue.fields[t.get(n)]))return null}return(e=(e.mapValue.fields||{})[t.lastSegment()])||null},t.prototype.isEqual=function(t){return $(this.proto,t.proto)},t}(),Wt=function(){function t(t){void 0===t&&(t=$t.empty()),this.I=t,this.A=new Map}return t.prototype.set=function(t,e){return this.R(t,e),this},t.prototype.delete=function(t){return this.R(t,null),this},t.prototype.R=function(t,e){for(var n=this.A,i=0;i<t.length-1;++i){var r=t.get(i),o=n.get(r);o instanceof Map?n=o:o&&10===H(o)?(o=new Map(Object.entries(o.mapValue.fields||{})),n.set(r,o),n=o):(o=new Map,n.set(r,o),n=o)}n.set(t.lastSegment(),e)},t.prototype.v=function(){var t=this.P(L.emptyPath(),this.A);return null!=t?new $t(t):this.I},t.prototype.P=function(t,e){var n=this,i=!1,r=this.I.field(t),o=tt(r)?Object.assign({},r.mapValue.fields):{};return e.forEach((function(e,r){if(e instanceof Map){var s=n.P(t.child(r),e);null!=s&&(o[r]=s,i=!0)}else null!==e?(o[r]=e,i=!0):o.hasOwnProperty(r)&&(delete o[r],i=!0)})),i?{mapValue:{fields:o}}:null},t}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kt(t){var e=[];return k(t.fields||{},(function(t,n){var i=new L([t]);if(tt(n)){var r=Kt(n.mapValue).fields;if(0===r.length)e.push(i);else for(var o=0,s=r;o<s.length;o++){var a=s[o];e.push(i.child(a))}}else e.push(i)})),new Ht(e)
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}function zt(t,e){if(t.V){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:O(e)?"-0":e}}function Gt(t){return{integerValue:""+t}}function Qt(t,e){return S(e)?Gt(e):zt(t,e)}
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Yt=function(){this._=void 0};function Xt(t,e,n){return t instanceof te?function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof ee?ne(t,e):t instanceof ie?re(t,e):function(t,e){var n=Zt(t,e),i=se(n)+se(t.S);return Y(n)&&Y(t.S)?Gt(i):zt(t.D,i)}(t,e)}function Jt(t,e,n){return t instanceof ee?ne(t,e):t instanceof ie?re(t,e):n}function Zt(t,e){return t instanceof oe?Y(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}var te=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(s.b)(e,t),e}(Yt),ee=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(s.b)(e,t),e}(Yt);function ne(t,e){for(var n=ae(e),i=function(t){n.some((function(e){return $(e,t)}))||n.push(t)},r=0,o=t.elements;r<o.length;r++)i(o[r]);return{arrayValue:{values:n}}}var ie=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(s.b)(e,t),e}(Yt);function re(t,e){for(var n=ae(e),i=function(t){n=n.filter((function(e){return!$(e,t)}))},r=0,o=t.elements;r<o.length;r++)i(o[r]);return{arrayValue:{values:n}}}var oe=function(t){function e(e,n){var i=this;return(i=t.call(this)||this).D=e,i.S=n,i}return Object(s.b)(e,t),e}(Yt);function se(t){return B(t.integerValue||t.doubleValue)}function ae(t){return X(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ue=function(t,e){this.field=t,this.transform=e},ce=function(t,e){this.version=t,this.transformResults=e},le=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.none=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function he(t,e){return void 0!==t.updateTime?e instanceof nt&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e instanceof nt}var fe=function(){};function de(t,e,n){return t instanceof ye?function(t,e,n){var i=t.value,r=_e(t.fieldTransforms,e,n.transformResults);return i=ke(t.fieldTransforms,i,r),new nt(t.key,n.version,i,{hasCommittedMutations:!0})}(t,e,n):t instanceof be?function(t,e,n){if(!he(t.precondition,e))return new rt(t.key,n.version);var i=we(t,e,_e(t.fieldTransforms,e,n.transformResults));return new nt(t.key,n.version,i,{hasCommittedMutations:!0})}(t,e,n):function(t,e,n){return new it(t.key,n.version,{hasCommittedMutations:!0})}(t,0,n)}function pe(t,e,n){return t instanceof ye?function(t,e,n){if(!he(t.precondition,e))return e;var i=t.value,r=Ee(t.fieldTransforms,n,e);i=ke(t.fieldTransforms,i,r);var o=me(e);return new nt(t.key,o,i,{hasLocalMutations:!0})}(t,e,n):t instanceof be?function(t,e,n){if(!he(t.precondition,e))return e;var i=me(e),r=we(t,e,Ee(t.fieldTransforms,n,e));return new nt(t.key,i,r,{hasLocalMutations:!0})}(t,e,n):function(t,e){return he(t.precondition,e)?new it(t.key,Ut.min()):e}(t,e)}function ve(t,e){return function(t,e){for(var n=null,i=0,r=t;i<r.length;i++){var o=r[i],s=e instanceof nt?e.field(o.field):void 0,a=Zt(o.transform,s||null);null!=a&&(n=null==n?(new Wt).set(o.field,a):n.set(o.field,a))}return n?n.v():null}(t.fieldTransforms,e)}function ge(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(t,e){return void 0===t&&void 0===e||!(!t||!e)&&w(t,e,(function(t,e){return function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof ee&&e instanceof ee||t instanceof ie&&e instanceof ie?w(t.elements,e.elements,$):t instanceof oe&&e instanceof oe?$(t.S,e.S):t instanceof te&&e instanceof te}(t.transform,e.transform)}(t,e)}))}(t.fieldTransforms,e.fieldTransforms)&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}function me(t){return t instanceof nt?t.version:Ut.min()}var ye=function(t){function e(e,n,i,r){void 0===r&&(r=[]);var o=this;return(o=t.call(this)||this).key=e,o.value=n,o.precondition=i,o.fieldTransforms=r,o.type=0,o}return Object(s.b)(e,t),e}(fe),be=function(t){function e(e,n,i,r,o){void 0===o&&(o=[]);var s=this;return(s=t.call(this)||this).key=e,s.data=n,s.fieldMask=i,s.precondition=r,s.fieldTransforms=o,s.type=1,s}return Object(s.b)(e,t),e}(fe);function we(t,e,n){var i;return i=function(t,e){var n=new Wt(e);return t.fieldMask.fields.forEach((function(e){if(!e.isEmpty()){var i=t.data.field(e);null!==i?n.set(e,i):n.delete(e)}})),n.v()}(t,i=e instanceof nt?e.data():$t.empty()),ke(t.fieldTransforms,i,n)}function _e(t,e,n){var i=[];v(t.length===n.length);for(var r=0;r<n.length;r++){var o=t[r],s=o.transform,a=null;e instanceof nt&&(a=e.field(o.field)),i.push(Jt(s,a,n[r]))}return i}function Ee(t,e,n){for(var i=[],r=0,o=t;r<o.length;r++){var s=o[r],a=s.transform,u=null;n instanceof nt&&(u=n.field(s.field)),i.push(Xt(a,u,e))}return i}function ke(t,e,n){for(var i=new Wt(e),r=0;r<t.length;r++){var o=t[r];i.set(o.field,n[r])}return i.v()}var Ie,Te,Oe=function(t){function e(e,n){var i=this;return(i=t.call(this)||this).key=e,i.precondition=n,i.type=2,i.fieldTransforms=[],i}return Object(s.b)(e,t),e}(fe),Se=function(t){function e(e,n){var i=this;return(i=t.call(this)||this).key=e,i.precondition=n,i.type=3,i.fieldTransforms=[],i}return Object(s.b)(e,t),e}(fe),Ce=function(t){this.count=t};function Ae(t){switch(t){case C.OK:return p();case C.CANCELLED:case C.UNKNOWN:case C.DEADLINE_EXCEEDED:case C.RESOURCE_EXHAUSTED:case C.INTERNAL:case C.UNAVAILABLE:case C.UNAUTHENTICATED:return!1;case C.INVALID_ARGUMENT:case C.NOT_FOUND:case C.ALREADY_EXISTS:case C.PERMISSION_DENIED:case C.FAILED_PRECONDITION:case C.ABORTED:case C.OUT_OF_RANGE:case C.UNIMPLEMENTED:case C.DATA_LOSS:return!0;default:return p()}}function xe(t){if(void 0===t)return h("GRPC error has no .code"),C.UNKNOWN;switch(t){case Ie.OK:return C.OK;case Ie.CANCELLED:return C.CANCELLED;case Ie.UNKNOWN:return C.UNKNOWN;case Ie.DEADLINE_EXCEEDED:return C.DEADLINE_EXCEEDED;case Ie.RESOURCE_EXHAUSTED:return C.RESOURCE_EXHAUSTED;case Ie.INTERNAL:return C.INTERNAL;case Ie.UNAVAILABLE:return C.UNAVAILABLE;case Ie.UNAUTHENTICATED:return C.UNAUTHENTICATED;case Ie.INVALID_ARGUMENT:return C.INVALID_ARGUMENT;case Ie.NOT_FOUND:return C.NOT_FOUND;case Ie.ALREADY_EXISTS:return C.ALREADY_EXISTS;case Ie.PERMISSION_DENIED:return C.PERMISSION_DENIED;case Ie.FAILED_PRECONDITION:return C.FAILED_PRECONDITION;case Ie.ABORTED:return C.ABORTED;case Ie.OUT_OF_RANGE:return C.OUT_OF_RANGE;case Ie.UNIMPLEMENTED:return C.UNIMPLEMENTED;case Ie.DATA_LOSS:return C.DATA_LOSS;default:return p()}}(Te=Ie||(Ie={}))[Te.OK=0]="OK",Te[Te.CANCELLED=1]="CANCELLED",Te[Te.UNKNOWN=2]="UNKNOWN",Te[Te.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Te[Te.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Te[Te.NOT_FOUND=5]="NOT_FOUND",Te[Te.ALREADY_EXISTS=6]="ALREADY_EXISTS",Te[Te.PERMISSION_DENIED=7]="PERMISSION_DENIED",Te[Te.UNAUTHENTICATED=16]="UNAUTHENTICATED",Te[Te.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Te[Te.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Te[Te.ABORTED=10]="ABORTED",Te[Te.OUT_OF_RANGE=11]="OUT_OF_RANGE",Te[Te.UNIMPLEMENTED=12]="UNIMPLEMENTED",Te[Te.INTERNAL=13]="INTERNAL",Te[Te.UNAVAILABLE=14]="UNAVAILABLE",Te[Te.DATA_LOSS=15]="DATA_LOSS";
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var De=function(){function t(t,e){this.comparator=t,this.root=e||Le.EMPTY}return t.prototype.insert=function(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Le.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Le.BLACK,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.isEmpty();){var n=this.comparator(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.isEmpty();){var i=this.comparator(t,n.key);if(0===i)return e+n.left.size;i<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.minKey=function(){return this.root.minKey()},t.prototype.maxKey=function(){return this.root.maxKey()},t.prototype.inorderTraversal=function(t){return this.root.inorderTraversal(t)},t.prototype.forEach=function(t){this.inorderTraversal((function(e,n){return t(e,n),!1}))},t.prototype.toString=function(){var t=[];return this.inorderTraversal((function(e,n){return t.push(e+":"+n),!1})),"{"+t.join(", ")+"}"},t.prototype.reverseTraversal=function(t){return this.root.reverseTraversal(t)},t.prototype.getIterator=function(){return new Me(this.root,null,this.comparator,!1)},t.prototype.getIteratorFrom=function(t){return new Me(this.root,t,this.comparator,!1)},t.prototype.getReverseIterator=function(){return new Me(this.root,null,this.comparator,!0)},t.prototype.getReverseIteratorFrom=function(t){return new Me(this.root,t,this.comparator,!0)},t}(),Me=function(){function t(t,e,n,i){this.isReverse=i,this.nodeStack=[];for(var r=1;!t.isEmpty();)if(r=e?n(t.key,e):1,i&&(r*=-1),r<0)t=this.isReverse?t.left:t.right;else{if(0===r){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return t.prototype.getNext=function(){var t=this.nodeStack.pop(),e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e},t.prototype.hasNext=function(){return this.nodeStack.length>0},t.prototype.peek=function(){if(0===this.nodeStack.length)return null;var t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}},t}(),Le=function(){function t(e,n,i,r,o){this.key=e,this.value=n,this.color=null!=i?i:t.RED,this.left=null!=r?r:t.EMPTY,this.right=null!=o?o:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,i,r,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=i?i:this.color,null!=r?r:this.left,null!=o?o:this.right)},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},t.prototype.minKey=function(){return this.min().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var i=this,r=n(t,i.key);return(i=r<0?i.copy(null,null,null,i.left.insert(t,e,n),null):0===r?i.copy(null,e,null,null,null):i.copy(null,null,null,null,i.right.insert(t,e,n))).fixUp()},t.prototype.removeMin=function(){if(this.left.isEmpty())return t.EMPTY;var e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),(e=e.copy(null,null,null,e.left.removeMin(),null)).fixUp()},t.prototype.remove=function(e,n){var i,r=this;if(n(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===n(e,r.key)){if(r.right.isEmpty())return t.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp()},t.prototype.isRed=function(){return this.color},t.prototype.fixUp=function(){var t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t},t.prototype.moveRedLeft=function(){var t=this.colorFlip();return t.right.left.isRed()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight())).rotateLeft()).colorFlip()),t},t.prototype.moveRedRight=function(){var t=this.colorFlip();return t.left.left.isRed()&&(t=(t=t.rotateRight()).colorFlip()),t},t.prototype.rotateLeft=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth=function(){var t=this.check();return Math.pow(2,t)<=this.size+1},t.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw p();if(this.right.isRed())throw p();var t=this.left.check();if(t!==this.right.check())throw p();return t+(this.isRed()?0:1)},t}();Le.EMPTY=null,Le.RED=!0,Le.BLACK=!1,Le.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw p()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw p()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw p()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw p()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw p()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,i,r){return this},t.prototype.insert=function(t,e,n){return new Le(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.isRed=function(){return!1},t.prototype.checkMaxDepth=function(){return!0},t.prototype.check=function(){return 0},t}());
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Ne=function(){function t(t){this.comparator=t,this.data=new De(this.comparator)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.minKey()},t.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.inorderTraversal((function(e,n){return t(e),!1}))},t.prototype.forEachInRange=function(t,e){for(var n=this.data.getIteratorFrom(t[0]);n.hasNext();){var i=n.getNext();if(this.comparator(i.key,t[1])>=0)return;e(i.key)}},t.prototype.forEachWhile=function(t,e){var n;for(n=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return},t.prototype.firstAfterOrEqual=function(t){var e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null},t.prototype.getIterator=function(){return new Pe(this.data.getIterator())},t.prototype.getIteratorFrom=function(t){return new Pe(this.data.getIteratorFrom(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).insert(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.isEmpty=function(){return this.data.isEmpty()},t.prototype.unionWith=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach((function(t){e=e.add(t)})),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.getIterator(),i=e.data.getIterator();n.hasNext();){var r=n.getNext().key,o=i.getNext().key;if(0!==this.comparator(r,o))return!1}return!0},t.prototype.toArray=function(){var t=[];return this.forEach((function(e){t.push(e)})),t},t.prototype.toString=function(){var t=[];return this.forEach((function(e){return t.push(e)})),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.comparator);return n.data=e,n},t}(),Pe=function(){function t(t){this.iter=t}return t.prototype.getNext=function(){return this.iter.getNext().key},t.prototype.hasNext=function(){return this.iter.hasNext()},t}(),Re=new De(N.comparator);function je(){return Re}function Be(){return je()}var Fe=new De(N.comparator);function Ve(){return Fe}var qe=new De(N.comparator);function Ue(){return qe}var He=new Ne(N.comparator);function $e(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=He,i=0,r=t;i<r.length;i++){var o=r[i];n=n.add(o)}return n}var We=new Ne(b);function Ke(){return We}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ze=function(){function t(t,e,n,i,r){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=n,this.documentUpdates=i,this.resolvedLimboDocuments=r}return t.createSynthesizedRemoteEventForCurrentChange=function(e,n){var i=new Map;return i.set(e,Ge.createSynthesizedTargetChangeForCurrentChange(e,n)),new t(Ut.min(),i,Ke(),je(),$e())},t}(),Ge=function(){function t(t,e,n,i,r){this.resumeToken=t,this.current=e,this.addedDocuments=n,this.modifiedDocuments=i,this.removedDocuments=r}return t.createSynthesizedTargetChangeForCurrentChange=function(e,n){return new t(P.EMPTY_BYTE_STRING,n,$e(),$e(),$e())},t}(),Qe=function(t,e,n,i){this.C=t,this.removedTargetIds=e,this.key=n,this.N=i},Ye=function(t,e){this.targetId=t,this.$=e},Xe=function(t,e,n,i){void 0===n&&(n=P.EMPTY_BYTE_STRING),void 0===i&&(i=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=i},Je=function(){function t(){this.F=0,this.O=en(),this.k=P.EMPTY_BYTE_STRING,this.M=!1,this.L=!0}return Object.defineProperty(t.prototype,"current",{get:function(){return this.M},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.k},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"B",{get:function(){return 0!==this.F},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"q",{get:function(){return this.L},enumerable:!1,configurable:!0}),t.prototype.U=function(t){t.approximateByteSize()>0&&(this.L=!0,this.k=t)},t.prototype.K=function(){var t=$e(),e=$e(),n=$e();return this.O.forEach((function(i,r){switch(r){case 0:t=t.add(i);break;case 2:e=e.add(i);break;case 1:n=n.add(i);break;default:p()}})),new Ge(this.k,this.M,t,e,n)},t.prototype.W=function(){this.L=!1,this.O=en()},t.prototype.j=function(t,e){this.L=!0,this.O=this.O.insert(t,e)},t.prototype.G=function(t){this.L=!0,this.O=this.O.remove(t)},t.prototype.H=function(){this.F+=1},t.prototype.J=function(){this.F-=1},t.prototype.Y=function(){this.L=!0,this.M=!0},t}(),Ze=function(){function t(t){this.X=t,this.Z=new Map,this.tt=je(),this.et=tn(),this.nt=new Ne(b)}return t.prototype.st=function(t){for(var e=0,n=t.C;e<n.length;e++){var i=n[e];t.N instanceof nt?this.it(i,t.N):t.N instanceof it&&this.rt(i,t.key,t.N)}for(var r=0,o=t.removedTargetIds;r<o.length;r++)i=o[r],this.rt(i,t.key,t.N)},t.prototype.ot=function(t){var e=this;this.forEachTarget(t,(function(n){var i=e.ct(n);switch(t.state){case 0:e.at(n)&&i.U(t.resumeToken);break;case 1:i.J(),i.B||i.W(),i.U(t.resumeToken);break;case 2:i.J(),i.B||e.removeTarget(n);break;case 3:e.at(n)&&(i.Y(),i.U(t.resumeToken));break;case 4:e.at(n)&&(e.ut(n),i.U(t.resumeToken));break;default:p()}}))},t.prototype.forEachTarget=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.Z.forEach((function(t,i){n.at(i)&&e(i)}))},t.prototype.ht=function(t){var e=t.targetId,n=t.$.count,i=this.lt(e);if(i){var r=i.target;if(ct(r))if(0===n){var o=new N(r.path);this.rt(e,o,new it(o,Ut.min()))}else v(1===n);else this.ft(e)!==n&&(this.ut(e),this.nt=this.nt.add(e))}},t.prototype.dt=function(t){var e=this,n=new Map;this.Z.forEach((function(i,r){var o=e.lt(r);if(o){if(i.current&&ct(o.target)){var s=new N(o.target.path);null!==e.tt.get(s)||e.wt(r,s)||e.rt(r,s,new it(s,t))}i.q&&(n.set(r,i.K()),i.W())}}));var i=$e();this.et.forEach((function(t,n){var r=!0;n.forEachWhile((function(t){var n=e.lt(t);return!n||2===n.purpose||(r=!1,!1)})),r&&(i=i.add(t))}));var r=new ze(t,n,this.nt,this.tt,i);return this.tt=je(),this.et=tn(),this.nt=new Ne(b),r},t.prototype.it=function(t,e){if(this.at(t)){var n=this.wt(t,e.key)?2:0;this.ct(t).j(e.key,n),this.tt=this.tt.insert(e.key,e),this.et=this.et.insert(e.key,this._t(e.key).add(t))}},t.prototype.rt=function(t,e,n){if(this.at(t)){var i=this.ct(t);this.wt(t,e)?i.j(e,1):i.G(e),this.et=this.et.insert(e,this._t(e).delete(t)),n&&(this.tt=this.tt.insert(e,n))}},t.prototype.removeTarget=function(t){this.Z.delete(t)},t.prototype.ft=function(t){var e=this.ct(t).K();return this.X.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size},t.prototype.H=function(t){this.ct(t).H()},t.prototype.ct=function(t){var e=this.Z.get(t);return e||(e=new Je,this.Z.set(t,e)),e},t.prototype._t=function(t){var e=this.et.get(t);return e||(e=new Ne(b),this.et=this.et.insert(t,e)),e},t.prototype.at=function(t){var e=null!==this.lt(t);return e||l("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.lt=function(t){var e=this.Z.get(t);return e&&e.B?null:this.X.yt(t)},t.prototype.ut=function(t){var e=this;this.Z.set(t,new Je),this.X.getRemoteKeysForTarget(t).forEach((function(n){e.rt(t,n,null)}))},t.prototype.wt=function(t,e){return this.X.getRemoteKeysForTarget(t).has(e)},t}();function tn(){return new De(N.comparator)}function en(){return new De(N.comparator)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nn={asc:"ASCENDING",desc:"DESCENDING"},rn={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},on=function(t,e){this.databaseId=t,this.V=e};function sn(t,e){return t.V?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function an(t,e){return t.V?e.toBase64():e.toUint8Array()}function un(t,e){return sn(t,e.toTimestamp())}function cn(t){return v(!!t),Ut.fromTimestamp(function(t){var e=j(t);return new V(e.seconds,e.nanos)}(t))}function ln(t,e){return function(t){return new D(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).canonicalString()}function hn(t){var e=D.fromString(t);return v(Nn(e)),e}function fn(t,e){return ln(t.databaseId,e.path)}function dn(t,e){var n=hn(e);if(n.get(1)!==t.databaseId.projectId)throw new A(C.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new A(C.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new N(mn(n))}function pn(t,e){return ln(t.databaseId,e)}function vn(t){var e=hn(t);return 4===e.length?D.emptyPath():mn(e)}function gn(t){return new D(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function mn(t){return v(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function yn(t,e,n){return{name:fn(t,e),fields:n.proto.mapValue.fields}}function bn(t,e,n){var i=dn(t,e.name),r=cn(e.updateTime),o=new $t({mapValue:{fields:e.fields}});return new nt(i,r,o,{hasCommittedMutations:!!n})}function wn(t,e){var n;if(e instanceof ye)n={update:yn(t,e.key,e.value)};else if(e instanceof Oe)n={delete:fn(t,e.key)};else if(e instanceof be)n={update:yn(t,e.key,e.data),updateMask:Ln(e.fieldMask)};else{if(!(e instanceof Se))return p();n={verify:fn(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((function(t){return function(t,e){var n=e.transform;if(n instanceof te)return{fieldPath:e.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof ee)return{fieldPath:e.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof ie)return{fieldPath:e.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof oe)return{fieldPath:e.field.canonicalString(),increment:n.S};throw p()}(0,t)}))),e.precondition.isNone||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:un(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:p()}(t,e.precondition)),n}function _n(t,e){var n=e.currentDocument?function(t){return void 0!==t.updateTime?le.updateTime(cn(t.updateTime)):void 0!==t.exists?le.exists(t.exists):le.none()}(e.currentDocument):le.none(),i=e.updateTransforms?e.updateTransforms.map((function(e){return function(t,e){var n=null;if("setToServerValue"in e)v("REQUEST_TIME"===e.setToServerValue),n=new te;else if("appendMissingElements"in e){var i=e.appendMissingElements.values||[];n=new ee(i)}else if("removeAllFromArray"in e){var r=e.removeAllFromArray.values||[];n=new ie(r)}else"increment"in e?n=new oe(t,e.increment):p();var o=L.fromServerFormat(e.fieldPath);return new ue(o,n)}(t,e)})):[];if(e.update){e.update.name;var r=dn(t,e.update.name),o=new $t({mapValue:{fields:e.update.fields}});if(e.updateMask){var s=function(t){var e=t.fieldPaths||[];return new Ht(e.map((function(t){return L.fromServerFormat(t)})))}(e.updateMask);return new be(r,o,s,n,i)}return new ye(r,o,n,i)}if(e.delete){var a=dn(t,e.delete);return new Oe(a,n)}if(e.verify){var u=dn(t,e.verify);return new Se(u,n)}return p()}function En(t,e){return{documents:[pn(t,e.path)]}}function kn(t,e){var n={structuredQuery:{}},i=e.path;null!==e.collectionGroup?(n.parent=pn(t,i),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=pn(t,i.popLast()),n.structuredQuery.from=[{collectionId:i.lastSegment()}]);var r=function(t){if(0!==t.length){var e=t.map((function(t){return function(t){if("=="===t.op){if(Z(t.value))return{unaryFilter:{field:An(t.field),op:"IS_NAN"}};if(J(t.value))return{unaryFilter:{field:An(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(Z(t.value))return{unaryFilter:{field:An(t.field),op:"IS_NOT_NAN"}};if(J(t.value))return{unaryFilter:{field:An(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:An(t.field),op:Cn(t.op),value:t.value}}}(t)}));return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);r&&(n.structuredQuery.where=r);var o=function(t){if(0!==t.length)return t.map((function(t){return function(t){return{field:An(t.field),direction:Sn(t.dir)}}(t)}))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);var s=function(t,e){return t.V||T(e)?e:{value:e}}(t,e.limit);return null!==s&&(n.structuredQuery.limit=s),e.startAt&&(n.structuredQuery.startAt=Tn(e.startAt)),e.endAt&&(n.structuredQuery.endAt=Tn(e.endAt)),n}function In(t){var e=vn(t.parent),n=t.structuredQuery,i=n.from?n.from.length:0,r=null;if(i>0){v(1===i);var o=n.from[0];o.allDescendants?r=o.collectionId:e=e.child(o.collectionId)}var s=[];n.where&&(s=function t(e){return e?void 0!==e.unaryFilter?[Mn(e)]:void 0!==e.fieldFilter?[Dn(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return t(e)})).reduce((function(t,e){return t.concat(e)})):p():[]}(n.where));var a=[];n.orderBy&&(a=n.orderBy.map((function(t){return function(t){return new _t(xn(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)})));var u=null;n.limit&&(u=function(t){var e;return T(e="object"==typeof t?t.value:t)?null:e}(n.limit));var c=null;n.startAt&&(c=On(n.startAt));var l=null;return n.endAt&&(l=On(n.endAt)),Ot(e,r,a,s,u,"F",c,l)}function Tn(t){return{before:t.before,values:t.position}}function On(t){var e=!!t.before,n=t.values||[];return new bt(n,e)}function Sn(t){return nn[t]}function Cn(t){return rn[t]}function An(t){return{fieldPath:t.canonicalString()}}function xn(t){return L.fromServerFormat(t.fieldPath)}function Dn(t){return lt.create(xn(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return p()}}(t.fieldFilter.op),t.fieldFilter.value)}function Mn(t){switch(t.unaryFilter.op){case"IS_NAN":var e=xn(t.unaryFilter.field);return lt.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=xn(t.unaryFilter.field);return lt.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var i=xn(t.unaryFilter.field);return lt.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var r=xn(t.unaryFilter.field);return lt.create(r,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return p()}}function Ln(t){var e=[];return t.fields.forEach((function(t){return e.push(t.canonicalString())})),{fieldPaths:e}}function Nn(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pn(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=jn(e)),e=Rn(t.get(n),e);return jn(e)}function Rn(t,e){for(var n=e,i=t.length,r=0;r<i;r++){var o=t.charAt(r);switch(o){case"\0":n+="";break;case"":n+="";break;default:n+=o}}return n}function jn(t){return t+""}function Bn(t){var e=t.length;if(v(e>=2),2===e)return v(""===t.charAt(0)&&""===t.charAt(1)),D.emptyPath();for(var n=e-2,i=[],r="",o=0;o<e;){var s=t.indexOf("",o);switch((s<0||s>n)&&p(),t.charAt(s+1)){case"":var a=t.substring(o,s),u=void 0;0===r.length?u=a:(u=r+=a,r=""),i.push(u);break;case"":r+=t.substring(o,s),r+="\0";break;case"":r+=t.substring(o,s+1);break;default:p()}o=s+2}return new D(i)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Fn=function(t,e){this.seconds=t,this.nanoseconds=e},Vn=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};Vn.store="owner",Vn.key="owner";var qn=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};qn.store="mutationQueues",qn.keyPath="userId";var Un=function(t,e,n,i,r){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=i,this.mutations=r};Un.store="mutations",Un.keyPath="batchId",Un.userMutationsIndex="userMutationsIndex",Un.userMutationsKeyPath=["userId","batchId"];var Hn=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,Pn(e)]},t.key=function(t,e,n){return[t,Pn(e),n]},t}();Hn.store="documentMutations",Hn.PLACEHOLDER=new Hn;var $n=function(t,e){this.path=t,this.readTime=e},Wn=function(t,e){this.path=t,this.version=e},Kn=function(t,e,n,i,r,o){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=i,this.readTime=r,this.parentPath=o};Kn.store="remoteDocuments",Kn.readTimeIndex="readTimeIndex",Kn.readTimeIndexPath="readTime",Kn.collectionReadTimeIndex="collectionReadTimeIndex",Kn.collectionReadTimeIndexPath=["parentPath","readTime"];var zn=function(t){this.byteSize=t};zn.store="remoteDocumentGlobal",zn.key="remoteDocumentGlobalKey";var Gn=function(t,e,n,i,r,o,s){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=i,this.lastListenSequenceNumber=r,this.lastLimboFreeSnapshotVersion=o,this.query=s};Gn.store="targets",Gn.keyPath="targetId",Gn.queryTargetsIndexName="queryTargetsIndex",Gn.queryTargetsKeyPath=["canonicalId","targetId"];var Qn=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};Qn.store="targetDocuments",Qn.keyPath=["targetId","path"],Qn.documentTargetsIndex="documentTargetsIndex",Qn.documentTargetsKeyPath=["path","targetId"];var Yn=function(t,e,n,i){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=i};Yn.key="targetGlobalKey",Yn.store="targetGlobal";var Xn=function(t,e){this.collectionId=t,this.parent=e};Xn.store="collectionParents",Xn.keyPath=["collectionId","parent"];var Jn=function(t,e,n,i){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=i};Jn.store="clientMetadata",Jn.keyPath="clientId";var Zn=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};Zn.store="bundles",Zn.keyPath="bundleId";var ti=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};ti.store="namedQueries",ti.keyPath="name";var ei=Object(s.d)(Object(s.d)([],Object(s.d)(Object(s.d)([],Object(s.d)(Object(s.d)([],Object(s.d)(Object(s.d)([],[qn.store,Un.store,Hn.store,Kn.store,Gn.store,Vn.store,Yn.store,Qn.store]),[Jn.store])),[zn.store])),[Xn.store])),[Zn.store,ti.store]),ni="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",ii=function(){function t(){this.onCommittedListeners=[]}return t.prototype.addOnCommittedListener=function(t){this.onCommittedListeners.push(t)},t.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach((function(t){return t()}))},t}(),ri=function(){var t=this;this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))},oi=function(){function t(t){var e=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(t){e.isDone=!0,e.result=t,e.nextCallback&&e.nextCallback(t)}),(function(t){e.isDone=!0,e.error=t,e.catchCallback&&e.catchCallback(t)}))}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var i=this;return this.callbackAttached&&p(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((function(t,r){i.nextCallback=function(n){i.wrapSuccess(e,n).next(t,r)},i.catchCallback=function(e){i.wrapFailure(n,e).next(t,r)}}))},t.prototype.toPromise=function(){var t=this;return new Promise((function(e,n){t.next(e,n)}))},t.prototype.wrapUserFunction=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.wrapSuccess=function(e,n){return e?this.wrapUserFunction((function(){return e(n)})):t.resolve(n)},t.prototype.wrapFailure=function(e,n){return e?this.wrapUserFunction((function(){return e(n)})):t.reject(n)},t.resolve=function(e){return new t((function(t,n){t(e)}))},t.reject=function(e){return new t((function(t,n){n(e)}))},t.waitFor=function(e){return new t((function(t,n){var i=0,r=0,o=!1;e.forEach((function(e){++i,e.next((function(){++r,o&&r===i&&t()}),(function(t){return n(t)}))})),o=!0,r===i&&t()}))},t.or=function(e){for(var n=t.resolve(!1),i=function(e){n=n.next((function(n){return n?t.resolve(n):e()}))},r=0,o=e;r<o.length;r++)i(o[r]);return n},t.forEach=function(t,e){var n=this,i=[];return t.forEach((function(t,r){i.push(e.call(n,t,r))})),this.waitFor(i)},t}(),si=function(){function t(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this.gt=new ri,this.transaction.oncomplete=function(){n.gt.resolve()},this.transaction.onabort=function(){e.error?n.gt.reject(new ci(t,e.error)):n.gt.resolve()},this.transaction.onerror=function(e){var i=pi(e.target.error);n.gt.reject(new ci(t,i))}}return t.open=function(e,n,i,r){try{return new t(n,e.transaction(r,i))}catch(e){throw new ci(n,e)}},Object.defineProperty(t.prototype,"Et",{get:function(){return this.gt.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.gt.reject(t),this.aborted||(l("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new hi(e)},t}(),ai=function(){function e(t,n,i){this.name=t,this.version=n,this.Tt=i,12.2===e.It(Object(r.g)())&&h("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return e.delete=function(t){return l("SimpleDb","Removing database:",t),fi(window.indexedDB.deleteDatabase(t)).toPromise()},e.At=function(){if("undefined"==typeof indexedDB)return!1;if(e.Rt())return!0;var t=Object(r.g)(),n=e.It(t),i=0<n&&n<10,o=e.bt(t),s=0<o&&o<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||i||s)},e.Rt=function(){var e;return void 0!==t&&"YES"===(null===(e=t.env)||void 0===e?void 0:e.vt)},e.Pt=function(t,e){return t.store(e)},e.It=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},e.bt=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},e.prototype.Vt=function(t){return Object(s.a)(this,void 0,void 0,(function(){var e,n=this;return Object(s.c)(this,(function(i){switch(i.label){case 0:return this.db?[3,2]:(l("SimpleDb","Opening database:",this.name),e=this,[4,new Promise((function(e,i){var r=indexedDB.open(n.name,n.version);r.onsuccess=function(t){var n=t.target.result;e(n)},r.onblocked=function(){i(new ci(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},r.onerror=function(e){var n=e.target.error;"VersionError"===n.name?i(new A(C.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):i(new ci(t,n))},r.onupgradeneeded=function(t){l("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion);var e=t.target.result;n.Tt.St(e,r.transaction,t.oldVersion,n.version).next((function(){l("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}))]);case 1:e.db=i.sent(),i.label=2;case 2:return[2,(this.Dt&&(this.db.onversionchange=function(t){return n.Dt(t)}),this.db)]}}))}))},e.prototype.Ct=function(t){this.Dt=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},e.prototype.runTransaction=function(t,e,n,i){return Object(s.a)(this,void 0,void 0,(function(){var r,o,a,u,c;return Object(s.c)(this,(function(h){switch(h.label){case 0:r="readonly"===e,o=0,a=function(){var e,a,c,h,f;return Object(s.c)(this,(function(s){switch(s.label){case 0:++o,s.label=1;case 1:return s.trys.push([1,4,,5]),[4,u.Vt(t)];case 2:return u.db=s.sent(),e=si.open(u.db,t,r?"readonly":"readwrite",n),a=i(e).catch((function(t){return e.abort(t),oi.reject(t)})).toPromise(),c={},a.catch((function(){})),[4,e.Et];case 3:return[2,(c.value=(s.sent(),a),c)];case 4:return h=s.sent(),f="FirebaseError"!==h.name&&o<3,l("SimpleDb","Transaction failed with error:",h.message,"Retrying:",f),u.close(),f?[3,5]:[2,{value:Promise.reject(h)}];case 5:return[2]}}))},u=this,h.label=1;case 1:return[5,a()];case 2:if("object"==typeof(c=h.sent()))return[2,c.value];h.label=3;case 3:return[3,1];case 4:return[2]}}))}))},e.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},e}(),ui=function(){function t(t){this.xt=t,this.Nt=!1,this.$t=null}return Object.defineProperty(t.prototype,"isDone",{get:function(){return this.Nt},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Ft",{get:function(){return this.$t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.xt=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.Nt=!0},t.prototype.Ot=function(t){this.$t=t},t.prototype.delete=function(){return fi(this.xt.delete())},t}(),ci=function(t){function e(e,n){var i=this;return(i=t.call(this,C.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+n)||this).name="IndexedDbTransactionError",i}return Object(s.b)(e,t),e}(A);function li(t){return"IndexedDbTransactionError"===t.name}var hi=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(l("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(l("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),fi(n)},t.prototype.add=function(t){return l("SimpleDb","ADD",this.store.name,t,t),fi(this.store.add(t))},t.prototype.get=function(t){var e=this;return fi(this.store.get(t)).next((function(n){return void 0===n&&(n=null),l("SimpleDb","GET",e.store.name,t,n),n}))},t.prototype.delete=function(t){return l("SimpleDb","DELETE",this.store.name,t),fi(this.store.delete(t))},t.prototype.count=function(){return l("SimpleDb","COUNT",this.store.name),fi(this.store.count())},t.prototype.kt=function(t,e){var n=this.cursor(this.options(t,e)),i=[];return this.Mt(n,(function(t,e){i.push(e)})).next((function(){return i}))},t.prototype.Lt=function(t,e){l("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.Bt=!1;var i=this.cursor(n);return this.Mt(i,(function(t,e,n){return n.delete()}))},t.prototype.qt=function(t,e){var n;e?n=t:(n={},e=t);var i=this.cursor(n);return this.Mt(i,e)},t.prototype.Ut=function(t){var e=this.cursor({});return new oi((function(n,i){e.onerror=function(t){var e=pi(t.target.error);i(e)},e.onsuccess=function(e){var i=e.target.result;i?t(i.primaryKey,i.value).next((function(t){t?i.continue():n()})):n()}}))},t.prototype.Mt=function(t,e){var n=[];return new oi((function(i,r){t.onerror=function(t){r(t.target.error)},t.onsuccess=function(t){var r=t.target.result;if(r){var o=new ui(r),s=e(r.primaryKey,r.value,o);if(s instanceof oi){var a=s.catch((function(t){return o.done(),oi.reject(t)}));n.push(a)}o.isDone?i():null===o.Ft?r.continue():r.continue(o.Ft)}else i()}})).next((function(){return oi.waitFor(n)}))},t.prototype.options=function(t,e){var n;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.Bt?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function fi(t){return new oi((function(e,n){t.onsuccess=function(t){var n=t.target.result;e(n)},t.onerror=function(t){var e=pi(t.target.error);n(e)}}))}var di=!1;function pi(t){var e=ai.It(Object(r.g)());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var i=new A("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return di||(di=!0,setTimeout((function(){throw i}),0)),i}}return t}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vi=function(t){function e(e,n){var i=this;return(i=t.call(this)||this).Qt=e,i.currentSequenceNumber=n,i}return Object(s.b)(e,t),e}(ii);function gi(t,e){var n=g(t);return ai.Pt(n.Qt,e)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mi=function(){function t(t,e,n,i){this.batchId=t,this.localWriteTime=e,this.baseMutations=n,this.mutations=i}return t.prototype.applyToRemoteDocument=function(t,e,n){for(var i=n.mutationResults,r=0;r<this.mutations.length;r++){var o=this.mutations[r];o.key.isEqual(t)&&(e=de(o,e,i[r]))}return e},t.prototype.applyToLocalView=function(t,e){for(var n=0,i=this.baseMutations;n<i.length;n++)(s=i[n]).key.isEqual(t)&&(e=pe(s,e,this.localWriteTime));for(var r=0,o=this.mutations;r<o.length;r++){var s;(s=o[r]).key.isEqual(t)&&(e=pe(s,e,this.localWriteTime))}return e},t.prototype.applyToLocalDocumentSet=function(t){var e=this,n=t;return this.mutations.forEach((function(i){var r=e.applyToLocalView(i.key,t.get(i.key));r&&(n=n.insert(i.key,r))})),n},t.prototype.keys=function(){return this.mutations.reduce((function(t,e){return t.add(e.key)}),$e())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&w(this.mutations,t.mutations,(function(t,e){return ge(t,e)}))&&w(this.baseMutations,t.baseMutations,(function(t,e){return ge(t,e)}))},t}(),yi=function(){function t(t,e,n,i){this.batch=t,this.commitVersion=e,this.mutationResults=n,this.docVersions=i}return t.from=function(e,n,i){v(e.mutations.length===i.length);for(var r=Ue(),o=e.mutations,s=0;s<o.length;s++)r=r.insert(o[s].key,i[s].version);return new t(e,n,i,r)},t}(),bi=function(){function t(t,e,n,i,r,o,s){void 0===r&&(r=Ut.min()),void 0===o&&(o=Ut.min()),void 0===s&&(s=P.EMPTY_BYTE_STRING),this.target=t,this.targetId=e,this.purpose=n,this.sequenceNumber=i,this.snapshotVersion=r,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}return t.prototype.withSequenceNumber=function(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.withResumeToken=function(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.withLastLimboFreeSnapshotVersion=function(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)},t}(),wi=function(t){this.Kt=t};function _i(t,e){if(e.document)return bn(t.Kt,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=N.fromSegments(e.noDocument.path),i=Oi(e.noDocument.readTime);return new it(n,i,{hasCommittedMutations:!!e.hasCommittedMutations})}if(e.unknownDocument){var r=N.fromSegments(e.unknownDocument.path);return i=Oi(e.unknownDocument.version),new rt(r,i)}return p()}function Ei(t,e,n){var i=ki(n),r=e.key.path.popLast().toArray();if(e instanceof nt){var o=function(t,e){return{name:fn(t,e.key),fields:e.toProto().mapValue.fields,updateTime:sn(t,e.version.toTimestamp())}}(t.Kt,e),s=e.hasCommittedMutations;return new Kn(null,null,o,s,i,r)}if(e instanceof it){var a=e.key.path.toArray(),u=Ti(e.version);return s=e.hasCommittedMutations,new Kn(null,new $n(a,u),null,s,i,r)}if(e instanceof rt){var c=e.key.path.toArray(),l=Ti(e.version);return new Kn(new Wn(c,l),null,null,!0,i,r)}return p()}function ki(t){var e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function Ii(t){var e=new V(t[0],t[1]);return Ut.fromTimestamp(e)}function Ti(t){var e=t.toTimestamp();return new Fn(e.seconds,e.nanoseconds)}function Oi(t){var e=new V(t.seconds,t.nanoseconds);return Ut.fromTimestamp(e)}function Si(t,e){for(var n=(e.baseMutations||[]).map((function(e){return _n(t.Kt,e)})),i=0;i<e.mutations.length-1;++i){var r=e.mutations[i];if(i+1<e.mutations.length&&void 0!==e.mutations[i+1].transform){var o=e.mutations[i+1];r.updateTransforms=o.transform.fieldTransforms,e.mutations.splice(i+1,1),++i}}var s=e.mutations.map((function(e){return _n(t.Kt,e)})),a=V.fromMillis(e.localWriteTimeMs);return new mi(e.batchId,a,n,s)}function Ci(t){var e,n,i=Oi(t.readTime),r=void 0!==t.lastLimboFreeSnapshotVersion?Oi(t.lastLimboFreeSnapshotVersion):Ut.min();return void 0!==t.query.documents?(v(1===(n=t.query).documents.length),e=Nt(St(vn(n.documents[0])))):e=function(t){return Nt(In(t))}(t.query),new bi(e,t.targetId,0,t.lastListenSequenceNumber,i,r,P.fromBase64String(t.resumeToken))}function Ai(t,e){var n,i=Ti(e.snapshotVersion),r=Ti(e.lastLimboFreeSnapshotVersion);n=ct(e.target)?En(t.Kt,e.target):kn(t.Kt,e.target);var o=e.resumeToken.toBase64();return new Gn(e.targetId,at(e.target),i,o,e.sequenceNumber,r,n)}function xi(t){var e=In({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?Pt(e,e.limit,"L"):e}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Di=function(){function t(){}return t.prototype.getBundleMetadata=function(t,e){return Mi(t).get(e).next((function(t){if(t)return{id:(e=t).bundleId,createTime:Oi(e.createTime),version:e.version};var e}))},t.prototype.saveBundleMetadata=function(t,e){return Mi(t).put({bundleId:(n=e).id,createTime:Ti(cn(n.createTime)),version:n.version});var n},t.prototype.getNamedQuery=function(t,e){return Li(t).get(e).next((function(t){if(t)return{name:(e=t).name,query:xi(e.bundledQuery),readTime:Oi(e.readTime)};var e}))},t.prototype.saveNamedQuery=function(t,e){return Li(t).put(function(t){return{name:t.name,readTime:Ti(cn(t.readTime)),bundledQuery:t.bundledQuery}}(e))},t}();function Mi(t){return gi(t,Zn.store)}function Li(t){return gi(t,ti.store)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ni=function(){function t(){this.Wt=new Pi}return t.prototype.addToCollectionParentIndex=function(t,e){return this.Wt.add(e),oi.resolve()},t.prototype.getCollectionParents=function(t,e){return oi.resolve(this.Wt.getEntries(e))},t}(),Pi=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.lastSegment(),n=t.popLast(),i=this.index[e]||new Ne(D.comparator),r=!i.has(n);return this.index[e]=i.add(n),r},t.prototype.has=function(t){var e=t.lastSegment(),n=t.popLast(),i=this.index[e];return i&&i.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new Ne(D.comparator)).toArray()},t}(),Ri=function(){function t(){this.jt=new Pi}return t.prototype.addToCollectionParentIndex=function(t,e){var n=this;if(!this.jt.has(e)){var i=e.lastSegment(),r=e.popLast();t.addOnCommittedListener((function(){n.jt.add(e)}));var o={collectionId:i,parent:Pn(r)};return ji(t).put(o)}return oi.resolve()},t.prototype.getCollectionParents=function(t,e){var n=[],i=IDBKeyRange.bound([e,""],[_(e),""],!1,!0);return ji(t).kt(i).next((function(t){for(var i=0,r=t;i<r.length;i++){var o=r[i];if(o.collectionId!==e)break;n.push(Bn(o.parent))}return n}))},t}();function ji(t){return gi(t,Xn.store)}
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Bi={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Fi=function(){function t(t,e,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=n}return t.withCacheSize=function(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},t}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vi(t,e,n){var i=t.store(Un.store),r=t.store(Hn.store),o=[],s=IDBKeyRange.only(n.batchId),a=0,u=i.qt({range:s},(function(t,e,n){return a++,n.delete()}));o.push(u.next((function(){v(1===a)})));for(var c=[],l=0,h=n.mutations;l<h.length;l++){var f=h[l],d=Hn.key(e,f.key.path,n.batchId);o.push(r.delete(d)),c.push(f.key)}return oi.waitFor(o).next((function(){return c}))}function qi(t){var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw p();e=t.noDocument}return JSON.stringify(e).length}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Fi.DEFAULT_COLLECTION_PERCENTILE=10,Fi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Fi.DEFAULT=new Fi(41943040,Fi.DEFAULT_COLLECTION_PERCENTILE,Fi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Fi.DISABLED=new Fi(-1,0,0);var Ui=function(){function t(t,e,n,i){this.userId=t,this.D=e,this.Gt=n,this.referenceDelegate=i,this.zt={}}return t.Ht=function(e,n,i,r){return v(""!==e.uid),new t(e.isAuthenticated()?e.uid:"",n,i,r)},t.prototype.checkEmpty=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return $i(t).qt({index:Un.userMutationsIndex,range:n},(function(t,n,i){e=!1,i.done()})).next((function(){return e}))},t.prototype.addMutationBatch=function(t,e,n,i){var r=this,o=Wi(t),s=$i(t);return s.add({}).next((function(a){v("number"==typeof a);for(var u=new mi(a,e,n,i),c=function(t,e,n){var i=n.baseMutations.map((function(e){return wn(t.Kt,e)})),r=n.mutations.map((function(e){return wn(t.Kt,e)}));return new Un(e,n.batchId,n.localWriteTime.toMillis(),i,r)}(r.D,r.userId,u),l=[],h=new Ne((function(t,e){return b(t.canonicalString(),e.canonicalString())})),f=0,d=i;f<d.length;f++){var p=d[f],g=Hn.key(r.userId,p.key.path,a);h=h.add(p.key.path.popLast()),l.push(s.put(c)),l.push(o.put(g,Hn.PLACEHOLDER))}return h.forEach((function(e){l.push(r.Gt.addToCollectionParentIndex(t,e))})),t.addOnCommittedListener((function(){r.zt[a]=u.keys()})),oi.waitFor(l).next((function(){return u}))}))},t.prototype.lookupMutationBatch=function(t,e){var n=this;return $i(t).get(e).next((function(t){return t?(v(t.userId===n.userId),Si(n.D,t)):null}))},t.prototype.Jt=function(t,e){var n=this;return this.zt[e]?oi.resolve(this.zt[e]):this.lookupMutationBatch(t,e).next((function(t){if(t){var i=t.keys();return n.zt[e]=i,i}return null}))},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this,i=e+1,r=IDBKeyRange.lowerBound([this.userId,i]),o=null;return $i(t).qt({index:Un.userMutationsIndex,range:r},(function(t,e,r){e.userId===n.userId&&(v(e.batchId>=i),o=Si(n.D,e)),r.done()})).next((function(){return o}))},t.prototype.getHighestUnacknowledgedBatchId=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return $i(t).qt({index:Un.userMutationsIndex,range:e,reverse:!0},(function(t,e,i){n=e.batchId,i.done()})).next((function(){return n}))},t.prototype.getAllMutationBatches=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return $i(t).kt(Un.userMutationsIndex,n).next((function(t){return t.map((function(t){return Si(e.D,t)}))}))},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,i=Hn.prefixForPath(this.userId,e.path),r=IDBKeyRange.lowerBound(i),o=[];return Wi(t).qt({range:r},(function(i,r,s){var a=i[0],u=i[1],c=i[2],l=Bn(u);if(a===n.userId&&e.path.isEqual(l))return $i(t).get(c).next((function(t){if(!t)throw p();v(t.userId===n.userId),o.push(Si(n.D,t))}));s.done()})).next((function(){return o}))},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,i=new Ne(b),r=[];return e.forEach((function(e){var o=Hn.prefixForPath(n.userId,e.path),s=IDBKeyRange.lowerBound(o),a=Wi(t).qt({range:s},(function(t,r,o){var s=t[0],a=t[1],u=t[2],c=Bn(a);s===n.userId&&e.path.isEqual(c)?i=i.add(u):o.done()}));r.push(a)})),oi.waitFor(r).next((function(){return n.Yt(t,i)}))},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=this,i=e.path,r=i.length+1,o=Hn.prefixForPath(this.userId,i),s=IDBKeyRange.lowerBound(o),a=new Ne(b);return Wi(t).qt({range:s},(function(t,e,o){var s=t[0],u=t[1],c=t[2],l=Bn(u);s===n.userId&&i.isPrefixOf(l)?l.length===r&&(a=a.add(c)):o.done()})).next((function(){return n.Yt(t,a)}))},t.prototype.Yt=function(t,e){var n=this,i=[],r=[];return e.forEach((function(e){r.push($i(t).get(e).next((function(t){if(null===t)throw p();v(t.userId===n.userId),i.push(Si(n.D,t))})))})),oi.waitFor(r).next((function(){return i}))},t.prototype.removeMutationBatch=function(t,e){var n=this;return Vi(t.Qt,this.userId,e).next((function(i){return t.addOnCommittedListener((function(){n.Xt(e.batchId)})),oi.forEach(i,(function(e){return n.referenceDelegate.markPotentiallyOrphaned(t,e)}))}))},t.prototype.Xt=function(t){delete this.zt[t]},t.prototype.performConsistencyCheck=function(t){var e=this;return this.checkEmpty(t).next((function(n){if(!n)return oi.resolve();var i=IDBKeyRange.lowerBound(Hn.prefixForUser(e.userId)),r=[];return Wi(t).qt({range:i},(function(t,n,i){if(t[0]===e.userId){var o=Bn(t[1]);r.push(o)}else i.done()})).next((function(){v(0===r.length)}))}))},t.prototype.containsKey=function(t,e){return Hi(t,this.userId,e)},t.prototype.Zt=function(t){var e=this;return Ki(t).get(this.userId).next((function(t){return t||new qn(e.userId,-1,"")}))},t}();function Hi(t,e,n){var i=Hn.prefixForPath(e,n.path),r=i[1],o=IDBKeyRange.lowerBound(i),s=!1;return Wi(t).qt({range:o,Bt:!0},(function(t,n,i){var o=t[0],a=t[1];t[2],o===e&&a===r&&(s=!0),i.done()})).next((function(){return s}))}function $i(t){return gi(t,Un.store)}function Wi(t){return gi(t,Hn.store)}function Ki(t){return gi(t,qn.store)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zi=function(){function t(t){this.te=t}return t.prototype.next=function(){return this.te+=2,this.te},t.ee=function(){return new t(0)},t.ne=function(){return new t(-1)},t}(),Gi=function(){function t(t,e){this.referenceDelegate=t,this.D=e}return t.prototype.allocateTargetId=function(t){var e=this;return this.se(t).next((function(n){var i=new zi(n.highestTargetId);return n.highestTargetId=i.next(),e.ie(t,n).next((function(){return n.highestTargetId}))}))},t.prototype.getLastRemoteSnapshotVersion=function(t){return this.se(t).next((function(t){return Ut.fromTimestamp(new V(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))}))},t.prototype.getHighestSequenceNumber=function(t){return this.se(t).next((function(t){return t.highestListenSequenceNumber}))},t.prototype.setTargetsMetadata=function(t,e,n){var i=this;return this.se(t).next((function(r){return r.highestListenSequenceNumber=e,n&&(r.lastRemoteSnapshotVersion=n.toTimestamp()),e>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=e),i.ie(t,r)}))},t.prototype.addTargetData=function(t,e){var n=this;return this.re(t,e).next((function(){return n.se(t).next((function(i){return i.targetCount+=1,n.oe(e,i),n.ie(t,i)}))}))},t.prototype.updateTargetData=function(t,e){return this.re(t,e)},t.prototype.removeTargetData=function(t,e){var n=this;return this.removeMatchingKeysForTargetId(t,e.targetId).next((function(){return Qi(t).delete(e.targetId)})).next((function(){return n.se(t)})).next((function(e){return v(e.targetCount>0),e.targetCount-=1,n.ie(t,e)}))},t.prototype.removeTargets=function(t,e,n){var i=this,r=0,o=[];return Qi(t).qt((function(s,a){var u=Ci(a);u.sequenceNumber<=e&&null===n.get(u.targetId)&&(r++,o.push(i.removeTargetData(t,u)))})).next((function(){return oi.waitFor(o)})).next((function(){return r}))},t.prototype.forEachTarget=function(t,e){return Qi(t).qt((function(t,n){var i=Ci(n);e(i)}))},t.prototype.se=function(t){return Yi(t).get(Yn.key).next((function(t){return v(null!==t),t}))},t.prototype.ie=function(t,e){return Yi(t).put(Yn.key,e)},t.prototype.re=function(t,e){return Qi(t).put(Ai(this.D,e))},t.prototype.oe=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.getTargetCount=function(t){return this.se(t).next((function(t){return t.targetCount}))},t.prototype.getTargetData=function(t,e){var n=at(e),i=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),r=null;return Qi(t).qt({range:i,index:Gn.queryTargetsIndexName},(function(t,n,i){var o=Ci(n);ut(e,o.target)&&(r=o,i.done())})).next((function(){return r}))},t.prototype.addMatchingKeys=function(t,e,n){var i=this,r=[],o=Xi(t);return e.forEach((function(e){var s=Pn(e.path);r.push(o.put(new Qn(n,s))),r.push(i.referenceDelegate.addReference(t,n,e))})),oi.waitFor(r)},t.prototype.removeMatchingKeys=function(t,e,n){var i=this,r=Xi(t);return oi.forEach(e,(function(e){var o=Pn(e.path);return oi.waitFor([r.delete([n,o]),i.referenceDelegate.removeReference(t,n,e)])}))},t.prototype.removeMatchingKeysForTargetId=function(t,e){var n=Xi(t),i=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(i)},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),i=Xi(t),r=$e();return i.qt({range:n,Bt:!0},(function(t,e,n){var i=Bn(t[1]),o=new N(i);r=r.add(o)})).next((function(){return r}))},t.prototype.containsKey=function(t,e){var n=Pn(e.path),i=IDBKeyRange.bound([n],[_(n)],!1,!0),r=0;return Xi(t).qt({index:Qn.documentTargetsIndex,Bt:!0,range:i},(function(t,e,n){var i=t[0];t[1],0!==i&&(r++,n.done())})).next((function(){return r>0}))},t.prototype.yt=function(t,e){return Qi(t).get(e).next((function(t){return t?Ci(t):null}))},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qi(t){return gi(t,Gn.store)}function Yi(t){return gi(t,Yn.store)}function Xi(t){return gi(t,Qn.store)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ji(t){return Object(s.a)(this,void 0,void 0,(function(){return Object(s.c)(this,(function(e){if(t.code!==C.FAILED_PRECONDITION||t.message!==ni)throw t;return l("LocalStore","Unexpectedly lost primary lease"),[2]}))}))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zi(t,e){var n=t[0],i=t[1],r=e[0],o=e[1],s=b(n,r);return 0===s?b(i,o):s}var tr=function(){function t(t){this.ce=t,this.buffer=new Ne(Zi),this.ae=0}return t.prototype.ue=function(){return++this.ae},t.prototype.he=function(t){var e=[t,this.ue()];if(this.buffer.size<this.ce)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();Zi(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),er=function(){function t(t,e){this.garbageCollector=t,this.asyncQueue=e,this.le=!1,this.fe=null}return t.prototype.start=function(t){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.de(t)},t.prototype.stop=function(){this.fe&&(this.fe.cancel(),this.fe=null)},Object.defineProperty(t.prototype,"started",{get:function(){return null!==this.fe},enumerable:!1,configurable:!0}),t.prototype.de=function(t){var e=this,n=this.le?3e5:6e4;l("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.fe=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,(function(){return Object(s.a)(e,void 0,void 0,(function(){var e;return Object(s.c)(this,(function(n){switch(n.label){case 0:this.fe=null,this.le=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.collectGarbage(this.garbageCollector)];case 2:return n.sent(),[3,7];case 3:return li(e=n.sent())?(l("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,Ji(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.de(t)];case 8:return n.sent(),[2]}}))}))}))},t}(),nr=function(){function t(t,e){this.we=t,this.params=e}return t.prototype.calculateTargetCount=function(t,e){return this.we._e(t).next((function(t){return Math.floor(e/100*t)}))},t.prototype.nthSequenceNumber=function(t,e){var n=this;if(0===e)return oi.resolve(a.o);var i=new tr(e);return this.we.forEachTarget(t,(function(t){return i.he(t.sequenceNumber)})).next((function(){return n.we.me(t,(function(t){return i.he(t)}))})).next((function(){return i.maxValue}))},t.prototype.removeTargets=function(t,e,n){return this.we.removeTargets(t,e,n)},t.prototype.removeOrphanedDocuments=function(t,e){return this.we.removeOrphanedDocuments(t,e)},t.prototype.collect=function(t,e){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(l("LruGarbageCollector","Garbage collection skipped; disabled"),oi.resolve(Bi)):this.getCacheSize(t).next((function(i){return i<n.params.cacheSizeCollectionThreshold?(l("LruGarbageCollector","Garbage collection skipped; Cache size "+i+" is lower than threshold "+n.params.cacheSizeCollectionThreshold),Bi):n.ye(t,e)}))},t.prototype.getCacheSize=function(t){return this.we.getCacheSize(t)},t.prototype.ye=function(t,e){var n,r,o,s,a,u,h,f=this,d=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((function(e){return e>f.params.maximumSequenceNumbersToCollect?(l("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+f.params.maximumSequenceNumbersToCollect+" from "+e),r=f.params.maximumSequenceNumbersToCollect):r=e,s=Date.now(),f.nthSequenceNumber(t,r)})).next((function(i){return n=i,a=Date.now(),f.removeTargets(t,n,e)})).next((function(e){return o=e,u=Date.now(),f.removeOrphanedDocuments(t,n)})).next((function(t){return h=Date.now(),c()<=i.a.DEBUG&&l("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(s-d)+"ms\n\tDetermined least recently used "+r+" in "+(a-s)+"ms\n\tRemoved "+o+" targets in "+(u-a)+"ms\n\tRemoved "+t+" documents in "+(h-u)+"ms\nTotal Duration: "+(h-d)+"ms"),oi.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:o,documentsRemoved:t})}))},t}(),ir=function(){function t(t,e){this.db=t,this.garbageCollector=function(t,e){return new nr(t,e)}(this,e)}return t.prototype._e=function(t){var e=this.ge(t);return this.db.getTargetCache().getTargetCount(t).next((function(t){return e.next((function(e){return t+e}))}))},t.prototype.ge=function(t){var e=0;return this.me(t,(function(t){e++})).next((function(){return e}))},t.prototype.forEachTarget=function(t,e){return this.db.getTargetCache().forEachTarget(t,e)},t.prototype.me=function(t,e){return this.pe(t,(function(t,n){return e(n)}))},t.prototype.addReference=function(t,e,n){return rr(t,n)},t.prototype.removeReference=function(t,e,n){return rr(t,n)},t.prototype.removeTargets=function(t,e,n){return this.db.getTargetCache().removeTargets(t,e,n)},t.prototype.markPotentiallyOrphaned=function(t,e){return rr(t,e)},t.prototype.Ee=function(t,e){return function(t,e){var n=!1;return Ki(t).Ut((function(i){return Hi(t,i,e).next((function(t){return t&&(n=!0),oi.resolve(!t)}))})).next((function(){return n}))}(t,e)},t.prototype.removeOrphanedDocuments=function(t,e){var n=this,i=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[],o=0;return this.pe(t,(function(s,a){if(a<=e){var u=n.Ee(t,s).next((function(e){if(!e)return o++,i.getEntry(t,s).next((function(){return i.removeEntry(s),Xi(t).delete([0,Pn(s.path)])}))}));r.push(u)}})).next((function(){return oi.waitFor(r)})).next((function(){return i.apply(t)})).next((function(){return o}))},t.prototype.removeTarget=function(t,e){var n=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,n)},t.prototype.updateLimboDocument=function(t,e){return rr(t,e)},t.prototype.pe=function(t,e){var n,i=Xi(t),r=a.o;return i.qt({index:Qn.documentTargetsIndex},(function(t,i){var o=t[0],s=(t[1],i.path),u=i.sequenceNumber;0===o?(r!==a.o&&e(new N(Bn(n)),r),r=u,n=s):r=a.o})).next((function(){r!==a.o&&e(new N(Bn(n)),r)}))},t.prototype.getCacheSize=function(t){return this.db.getRemoteDocumentCache().getSize(t)},t}();function rr(t,e){return Xi(t).put(function(t,e){return new Qn(0,Pn(t.path),e)}(e,t.currentSequenceNumber))}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var or=function(){function t(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={}}return t.prototype.get=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0!==n)for(var i=0,r=n;i<r.length;i++){var o=r[i],s=o[0],a=o[1];if(this.equalsFn(s,t))return a}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.mapKeyFn(t),i=this.inner[n];if(void 0!==i){for(var r=0;r<i.length;r++)if(this.equalsFn(i[r][0],t))return void(i[r]=[t,e]);i.push([t,e])}else this.inner[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0===n)return!1;for(var i=0;i<n.length;i++)if(this.equalsFn(n[i][0],t))return 1===n.length?delete this.inner[e]:n.splice(i,1),!0;return!1},t.prototype.forEach=function(t){k(this.inner,(function(e,n){for(var i=0,r=n;i<r.length;i++){var o=r[i],s=o[0],a=o[1];t(s,a)}}))},t.prototype.isEmpty=function(){return I(this.inner)},t}(),sr=function(){function t(){this.changes=new or((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),this.changesApplied=!1}return t.prototype.getReadTime=function(t){var e=this.changes.get(t);return e?e.readTime:Ut.min()},t.prototype.addEntry=function(t,e){this.assertNotApplied(),this.changes.set(t.key,{maybeDocument:t,readTime:e})},t.prototype.removeEntry=function(t,e){void 0===e&&(e=null),this.assertNotApplied(),this.changes.set(t,{maybeDocument:null,readTime:e})},t.prototype.getEntry=function(t,e){this.assertNotApplied();var n=this.changes.get(e);return void 0!==n?oi.resolve(n.maybeDocument):this.getFromCache(t,e)},t.prototype.getEntries=function(t,e){return this.getAllFromCache(t,e)},t.prototype.apply=function(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)},t.prototype.assertNotApplied=function(){},t}(),ar=function(){function t(t,e){this.D=t,this.Gt=e}return t.prototype.addEntry=function(t,e,n){return lr(t).put(hr(e),n)},t.prototype.removeEntry=function(t,e){var n=lr(t),i=hr(e);return n.delete(i)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next((function(i){return i.byteSize+=e,n.Te(t,i)}))},t.prototype.getEntry=function(t,e){var n=this;return lr(t).get(hr(e)).next((function(t){return n.Ie(t)}))},t.prototype.Ae=function(t,e){var n=this;return lr(t).get(hr(e)).next((function(t){var e=n.Ie(t);return e?{maybeDocument:e,size:qi(t)}:null}))},t.prototype.getEntries=function(t,e){var n=this,i=Be();return this.Re(t,e,(function(t,e){var r=n.Ie(e);i=i.insert(t,r)})).next((function(){return i}))},t.prototype.be=function(t,e){var n=this,i=Be(),r=new De(N.comparator);return this.Re(t,e,(function(t,e){var o=n.Ie(e);o?(i=i.insert(t,o),r=r.insert(t,qi(e))):(i=i.insert(t,null),r=r.insert(t,0))})).next((function(){return{ve:i,Pe:r}}))},t.prototype.Re=function(t,e,n){if(e.isEmpty())return oi.resolve();var i=IDBKeyRange.bound(e.first().path.toArray(),e.last().path.toArray()),r=e.getIterator(),o=r.getNext();return lr(t).qt({range:i},(function(t,e,i){for(var s=N.fromSegments(t);o&&N.comparator(o,s)<0;)n(o,null),o=r.getNext();o&&o.isEqual(s)&&(n(o,e),o=r.hasNext()?r.getNext():null),o?i.Ot(o.path.toArray()):i.done()})).next((function(){for(;o;)n(o,null),o=r.hasNext()?r.getNext():null}))},t.prototype.getDocumentsMatchingQuery=function(t,e,n){var i=this,r=Ve(),o=e.path.length+1,s={};if(n.isEqual(Ut.min())){var a=e.path.toArray();s.range=IDBKeyRange.lowerBound(a)}else{var u=e.path.toArray(),c=ki(n);s.range=IDBKeyRange.lowerBound([u,c],!0),s.index=Kn.collectionReadTimeIndex}return lr(t).qt(s,(function(t,n,s){if(t.length===o){var a=_i(i.D,n);e.path.isPrefixOf(a.key.path)?a instanceof nt&&Ft(e,a)&&(r=r.insert(a.key,a)):s.done()}})).next((function(){return r}))},t.prototype.newChangeBuffer=function(t){return new ur(this,!!t&&t.trackRemovals)},t.prototype.getSize=function(t){return this.getMetadata(t).next((function(t){return t.byteSize}))},t.prototype.getMetadata=function(t){return cr(t).get(zn.key).next((function(t){return v(!!t),t}))},t.prototype.Te=function(t,e){return cr(t).put(zn.key,e)},t.prototype.Ie=function(t){if(t){var e=_i(this.D,t);return e instanceof it&&e.version.isEqual(Ut.min())?null:e}return null},t}(),ur=function(t){function e(e,n){var i=this;return(i=t.call(this)||this).Ve=e,i.trackRemovals=n,i.Se=new or((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),i}return Object(s.b)(e,t),e.prototype.applyChanges=function(t){var e=this,n=[],i=0,r=new Ne((function(t,e){return b(t.canonicalString(),e.canonicalString())}));return this.changes.forEach((function(o,s){var a=e.Se.get(o);if(s.maybeDocument){var u=Ei(e.Ve.D,s.maybeDocument,e.getReadTime(o));r=r.add(o.path.popLast());var c=qi(u);i+=c-a,n.push(e.Ve.addEntry(t,o,u))}else if(i-=a,e.trackRemovals){var l=Ei(e.Ve.D,new it(o,Ut.min()),e.getReadTime(o));n.push(e.Ve.addEntry(t,o,l))}else n.push(e.Ve.removeEntry(t,o))})),r.forEach((function(i){n.push(e.Ve.Gt.addToCollectionParentIndex(t,i))})),n.push(this.Ve.updateMetadata(t,i)),oi.waitFor(n)},e.prototype.getFromCache=function(t,e){var n=this;return this.Ve.Ae(t,e).next((function(t){return null===t?(n.Se.set(e,0),null):(n.Se.set(e,t.size),t.maybeDocument)}))},e.prototype.getAllFromCache=function(t,e){var n=this;return this.Ve.be(t,e).next((function(t){var e=t.ve;return t.Pe.forEach((function(t,e){n.Se.set(t,e)})),e}))},e}(sr);
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cr(t){return gi(t,zn.store)}function lr(t){return gi(t,Kn.store)}function hr(t){return t.path.toArray()}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fr=function(){function t(t){this.D=t}return t.prototype.St=function(t,e,n,i){var r=this;v(n<i&&n>=0&&i<=11);var o=new si("createOrUpgrade",e);n<1&&i>=1&&(function(t){t.createObjectStore(Vn.store)}(t),function(t){t.createObjectStore(qn.store,{keyPath:qn.keyPath}),t.createObjectStore(Un.store,{keyPath:Un.keyPath,autoIncrement:!0}).createIndex(Un.userMutationsIndex,Un.userMutationsKeyPath,{unique:!0}),t.createObjectStore(Hn.store)}(t),dr(t),function(t){t.createObjectStore(Kn.store)}(t));var s=oi.resolve();return n<3&&i>=3&&(0!==n&&(function(t){t.deleteObjectStore(Qn.store),t.deleteObjectStore(Gn.store),t.deleteObjectStore(Yn.store)}(t),dr(t)),s=s.next((function(){return function(t){var e=t.store(Yn.store),n=new Yn(0,0,Ut.min().toTimestamp(),0);return e.put(Yn.key,n)}(o)}))),n<4&&i>=4&&(0!==n&&(s=s.next((function(){return function(t,e){return e.store(Un.store).kt().next((function(n){t.deleteObjectStore(Un.store),t.createObjectStore(Un.store,{keyPath:Un.keyPath,autoIncrement:!0}).createIndex(Un.userMutationsIndex,Un.userMutationsKeyPath,{unique:!0});var i=e.store(Un.store),r=n.map((function(t){return i.put(t)}));return oi.waitFor(r)}))}(t,o)}))),s=s.next((function(){!function(t){t.createObjectStore(Jn.store,{keyPath:Jn.keyPath})}(t)}))),n<5&&i>=5&&(s=s.next((function(){return r.De(o)}))),n<6&&i>=6&&(s=s.next((function(){return function(t){t.createObjectStore(zn.store)}(t),r.Ce(o)}))),n<7&&i>=7&&(s=s.next((function(){return r.xe(o)}))),n<8&&i>=8&&(s=s.next((function(){return r.Ne(t,o)}))),n<9&&i>=9&&(s=s.next((function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(Kn.store);e.createIndex(Kn.readTimeIndex,Kn.readTimeIndexPath,{unique:!1}),e.createIndex(Kn.collectionReadTimeIndex,Kn.collectionReadTimeIndexPath,{unique:!1})}(e)}))),n<10&&i>=10&&(s=s.next((function(){return r.$e(o)}))),n<11&&i>=11&&(s=s.next((function(){!function(t){t.createObjectStore(Zn.store,{keyPath:Zn.keyPath})}(t),function(t){t.createObjectStore(ti.store,{keyPath:ti.keyPath})}(t)}))),s},t.prototype.Ce=function(t){var e=0;return t.store(Kn.store).qt((function(t,n){e+=qi(n)})).next((function(){var n=new zn(e);return t.store(zn.store).put(zn.key,n)}))},t.prototype.De=function(t){var e=this,n=t.store(qn.store),i=t.store(Un.store);return n.kt().next((function(n){return oi.forEach(n,(function(n){var r=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return i.kt(Un.userMutationsIndex,r).next((function(i){return oi.forEach(i,(function(i){v(i.userId===n.userId);var r=Si(e.D,i);return Vi(t,n.userId,r).next((function(){}))}))}))}))}))},t.prototype.xe=function(t){var e=t.store(Qn.store),n=t.store(Kn.store);return t.store(Yn.store).get(Yn.key).next((function(t){var i=[];return n.qt((function(n,r){var o=new D(n),s=function(t){return[0,Pn(t)]}(o);i.push(e.get(s).next((function(n){return n?oi.resolve():function(n){return e.put(new Qn(0,Pn(n),t.highestListenSequenceNumber))}(o)})))})).next((function(){return oi.waitFor(i)}))}))},t.prototype.Ne=function(t,e){t.createObjectStore(Xn.store,{keyPath:Xn.keyPath});var n=e.store(Xn.store),i=new Pi,r=function(t){if(i.add(t)){var e=t.lastSegment(),r=t.popLast();return n.put({collectionId:e,parent:Pn(r)})}};return e.store(Kn.store).qt({Bt:!0},(function(t,e){var n=new D(t);return r(n.popLast())})).next((function(){return e.store(Hn.store).qt({Bt:!0},(function(t,e){t[0];var n=t[1],i=(t[2],Bn(n));return r(i.popLast())}))}))},t.prototype.$e=function(t){var e=this,n=t.store(Gn.store);return n.qt((function(t,i){var r=Ci(i),o=Ai(e.D,r);return n.put(o)}))},t}();function dr(t){t.createObjectStore(Qn.store,{keyPath:Qn.keyPath}).createIndex(Qn.documentTargetsIndex,Qn.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(Gn.store,{keyPath:Gn.keyPath}).createIndex(Gn.queryTargetsIndexName,Gn.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(Yn.store)}var pr="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",vr=function(){function t(e,n,i,r,o,s,a,u,c,l){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=i,this.Fe=o,this.window=s,this.document=a,this.Oe=c,this.ke=l,this.Me=null,this.Le=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Be=null,this.inForeground=!1,this.qe=null,this.Ue=null,this.Qe=Number.NEGATIVE_INFINITY,this.Ke=function(t){return Promise.resolve()},!t.At())throw new A(C.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new ir(this,r),this.We=n+"main",this.D=new wi(u),this.je=new ai(this.We,11,new fr(this.D)),this.Ge=new Gi(this.referenceDelegate,this.D),this.Gt=new Ri,this.ze=function(t,e){return new ar(t,e)}(this.D,this.Gt),this.He=new Di,this.window&&this.window.localStorage?this.Je=this.window.localStorage:(this.Je=null,!1===l&&h("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.prototype.start=function(){var t=this;return this.Ye().then((function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new A(C.FAILED_PRECONDITION,pr);return t.Xe(),t.Ze(),t.tn(),t.runTransaction("getHighestListenSequenceNumber","readonly",(function(e){return t.Ge.getHighestSequenceNumber(e)}))})).then((function(e){t.Me=new a(e,t.Oe)})).then((function(){t.Le=!0})).catch((function(e){return t.je&&t.je.close(),Promise.reject(e)}))},t.prototype.en=function(t){var e=this;return this.Ke=function(n){return Object(s.a)(e,void 0,void 0,(function(){return Object(s.c)(this,(function(e){return this.started?[2,t(n)]:[2]}))}))},t(this.isPrimary)},t.prototype.setDatabaseDeletedListener=function(t){var e=this;this.je.Ct((function(n){return Object(s.a)(e,void 0,void 0,(function(){return Object(s.c)(this,(function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}))},t.prototype.setNetworkEnabled=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Fe.enqueueAndForget((function(){return Object(s.a)(e,void 0,void 0,(function(){return Object(s.c)(this,(function(t){switch(t.label){case 0:return this.started?[4,this.Ye()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))})))},t.prototype.Ye=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(e){return mr(e).put(new Jn(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next((function(){if(t.isPrimary)return t.nn(e).next((function(e){e||(t.isPrimary=!1,t.Fe.enqueueRetryable((function(){return t.Ke(!1)})))}))})).next((function(){return t.sn(e)})).next((function(n){return t.isPrimary&&!n?t.rn(e).next((function(){return!1})):!!n&&t.on(e).next((function(){return!0}))}))})).catch((function(e){if(li(e))return l("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return l("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1})).then((function(e){t.isPrimary!==e&&t.Fe.enqueueRetryable((function(){return t.Ke(e)})),t.isPrimary=e}))},t.prototype.nn=function(t){var e=this;return gr(t).get(Vn.key).next((function(t){return oi.resolve(e.cn(t))}))},t.prototype.an=function(t){return mr(t).delete(this.clientId)},t.prototype.un=function(){return Object(s.a)(this,void 0,void 0,(function(){var t,e,n,i,r=this;return Object(s.c)(this,(function(o){switch(o.label){case 0:return!this.isPrimary||this.hn(this.Qe,18e5)?[3,2]:(this.Qe=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(t){var e=gi(t,Jn.store);return e.kt().next((function(t){var n=r.ln(t,18e5),i=t.filter((function(t){return-1===n.indexOf(t)}));return oi.forEach(i,(function(t){return e.delete(t.clientId)})).next((function(){return i}))}))})).catch((function(){return[]}))]);case 1:if(t=o.sent(),this.Je)for(e=0,n=t;e<n.length;e++)i=n[e],this.Je.removeItem(this.fn(i.clientId));o.label=2;case 2:return[2]}}))}))},t.prototype.tn=function(){var t=this;this.Ue=this.Fe.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return t.Ye().then((function(){return t.un()})).then((function(){return t.tn()}))}))},t.prototype.cn=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.sn=function(t){var e=this;return this.ke?oi.resolve(!0):gr(t).get(Vn.key).next((function(n){if(null!==n&&e.hn(n.leaseTimestampMs,5e3)&&!e.dn(n.ownerId)){if(e.cn(n)&&e.networkEnabled)return!0;if(!e.cn(n)){if(!n.allowTabSynchronization)throw new A(C.FAILED_PRECONDITION,pr);return!1}}return!(!e.networkEnabled||!e.inForeground)||mr(t).kt().next((function(t){return void 0===e.ln(t,5e3).find((function(t){if(e.clientId!==t.clientId){var n=!e.networkEnabled&&t.networkEnabled,i=!e.inForeground&&t.inForeground,r=e.networkEnabled===t.networkEnabled;if(n||i&&r)return!0}return!1}))}))})).next((function(t){return e.isPrimary!==t&&l("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t}))},t.prototype.shutdown=function(){return Object(s.a)(this,void 0,void 0,(function(){var t=this;return Object(s.c)(this,(function(e){switch(e.label){case 0:return this.Le=!1,this.wn(),this.Ue&&(this.Ue.cancel(),this.Ue=null),this._n(),this.mn(),[4,this.je.runTransaction("shutdown","readwrite",[Vn.store,Jn.store],(function(e){var n=new vi(e,a.o);return t.rn(n).next((function(){return t.an(n)}))}))];case 1:return e.sent(),this.je.close(),this.yn(),[2]}}))}))},t.prototype.ln=function(t,e){var n=this;return t.filter((function(t){return n.hn(t.updateTimeMs,e)&&!n.dn(t.clientId)}))},t.prototype.gn=function(){var t=this;return this.runTransaction("getActiveClients","readonly",(function(e){return mr(e).kt().next((function(e){return t.ln(e,18e5).map((function(t){return t.clientId}))}))}))},Object.defineProperty(t.prototype,"started",{get:function(){return this.Le},enumerable:!1,configurable:!0}),t.prototype.getMutationQueue=function(t){return Ui.Ht(t,this.D,this.Gt,this.referenceDelegate)},t.prototype.getTargetCache=function(){return this.Ge},t.prototype.getRemoteDocumentCache=function(){return this.ze},t.prototype.getIndexManager=function(){return this.Gt},t.prototype.getBundleCache=function(){return this.He},t.prototype.runTransaction=function(t,e,n){var i=this;l("IndexedDbPersistence","Starting transaction:",t);var r,o="readonly"===e?"readonly":"readwrite";return this.je.runTransaction(t,o,ei,(function(o){return r=new vi(o,i.Me?i.Me.next():a.o),"readwrite-primary"===e?i.nn(r).next((function(t){return!!t||i.sn(r)})).next((function(e){if(!e)throw h("Failed to obtain primary lease for action '"+t+"'."),i.isPrimary=!1,i.Fe.enqueueRetryable((function(){return i.Ke(!1)})),new A(C.FAILED_PRECONDITION,ni);return n(r)})).next((function(t){return i.on(r).next((function(){return t}))})):i.pn(r).next((function(){return n(r)}))})).then((function(t){return r.raiseOnCommittedEvent(),t}))},t.prototype.pn=function(t){var e=this;return gr(t).get(Vn.key).next((function(t){if(null!==t&&e.hn(t.leaseTimestampMs,5e3)&&!e.dn(t.ownerId)&&!e.cn(t)&&!(e.ke||e.allowTabSynchronization&&t.allowTabSynchronization))throw new A(C.FAILED_PRECONDITION,pr)}))},t.prototype.on=function(t){var e=new Vn(this.clientId,this.allowTabSynchronization,Date.now());return gr(t).put(Vn.key,e)},t.At=function(){return ai.At()},t.prototype.rn=function(t){var e=this,n=gr(t);return n.get(Vn.key).next((function(t){return e.cn(t)?(l("IndexedDbPersistence","Releasing primary lease."),n.delete(Vn.key)):oi.resolve()}))},t.prototype.hn=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(h("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.Xe=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.qe=function(){t.Fe.enqueueAndForget((function(){return t.inForeground="visible"===t.document.visibilityState,t.Ye()}))},this.document.addEventListener("visibilitychange",this.qe),this.inForeground="visible"===this.document.visibilityState)},t.prototype._n=function(){this.qe&&(this.document.removeEventListener("visibilitychange",this.qe),this.qe=null)},t.prototype.Ze=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.Be=function(){e.wn(),e.Fe.enqueueAndForget((function(){return e.shutdown()}))},this.window.addEventListener("unload",this.Be))},t.prototype.mn=function(){this.Be&&(this.window.removeEventListener("unload",this.Be),this.Be=null)},t.prototype.dn=function(t){var e;try{var n=null!==(null===(e=this.Je)||void 0===e?void 0:e.getItem(this.fn(t)));return l("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return h("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.wn=function(){if(this.Je)try{this.Je.setItem(this.fn(this.clientId),String(Date.now()))}catch(t){h("Failed to set zombie client id.",t)}},t.prototype.yn=function(){if(this.Je)try{this.Je.removeItem(this.fn(this.clientId))}catch(t){}},t.prototype.fn=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function gr(t){return gi(t,Vn.store)}function mr(t){return gi(t,Jn.store)}function yr(t,e){var n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}var br=function(t,e){this.progress=t,this.En=e},wr=function(){function t(t,e,n){this.ze=t,this.Tn=e,this.Gt=n}return t.prototype.In=function(t,e){var n=this;return this.Tn.getAllMutationBatchesAffectingDocumentKey(t,e).next((function(i){return n.An(t,e,i)}))},t.prototype.An=function(t,e,n){return this.ze.getEntry(t,e).next((function(t){for(var i=0,r=n;i<r.length;i++)t=r[i].applyToLocalView(e,t);return t}))},t.prototype.Rn=function(t,e,n){var i=Be();return e.forEach((function(t,e){for(var r=0,o=n;r<o.length;r++)e=o[r].applyToLocalView(t,e);i=i.insert(t,e)})),i},t.prototype.bn=function(t,e){var n=this;return this.ze.getEntries(t,e).next((function(e){return n.vn(t,e)}))},t.prototype.vn=function(t,e){var n=this;return this.Tn.getAllMutationBatchesAffectingDocumentKeys(t,e).next((function(i){var r=n.Rn(t,e,i),o=je();return r.forEach((function(t,e){e||(e=new it(t,Ut.min())),o=o.insert(t,e)})),o}))},t.prototype.getDocumentsMatchingQuery=function(t,e,n){return function(t){return N.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.Pn(t,e.path):Mt(e)?this.Vn(t,e,n):this.Sn(t,e,n)},t.prototype.Pn=function(t,e){return this.In(t,new N(e)).next((function(t){var e=Ve();return t instanceof nt&&(e=e.insert(t.key,t)),e}))},t.prototype.Vn=function(t,e,n){var i=this,r=e.collectionGroup,o=Ve();return this.Gt.getCollectionParents(t,r).next((function(s){return oi.forEach(s,(function(s){var a=function(t,e){return new Tt(e,null,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,s.child(r));return i.Sn(t,a,n).next((function(t){t.forEach((function(t,e){o=o.insert(t,e)}))}))})).next((function(){return o}))}))},t.prototype.Sn=function(t,e,n){var i,r,o=this;return this.ze.getDocumentsMatchingQuery(t,e,n).next((function(n){return i=n,o.Tn.getAllMutationBatchesAffectingQuery(t,e)})).next((function(e){return r=e,o.Dn(t,r,i).next((function(t){i=t;for(var e=0,n=r;e<n.length;e++)for(var o=n[e],s=0,a=o.mutations;s<a.length;s++){var u=a[s],c=u.key,l=pe(u,i.get(c),o.localWriteTime);i=l instanceof nt?i.insert(c,l):i.remove(c)}}))})).next((function(){return i.forEach((function(t,n){Ft(e,n)||(i=i.remove(t))})),i}))},t.prototype.Dn=function(t,e,n){for(var i=$e(),r=0,o=e;r<o.length;r++)for(var s=0,a=o[r].mutations;s<a.length;s++){var u=a[s];u instanceof be&&null===n.get(u.key)&&(i=i.add(u.key))}var c=n;return this.ze.getEntries(t,i).next((function(t){return t.forEach((function(t,e){null!==e&&e instanceof nt&&(c=c.insert(t,e))})),c}))},t}(),_r=function(){function t(t,e,n,i){this.targetId=t,this.fromCache=e,this.Cn=n,this.xn=i}return t.Nn=function(e,n){for(var i=$e(),r=$e(),o=0,s=n.docChanges;o<s.length;o++){var a=s[o];switch(a.type){case 0:i=i.add(a.doc.key);break;case 1:r=r.add(a.doc.key)}}return new t(e,n.fromCache,i,r)},t}(),Er=function(){function t(){}return t.prototype.$n=function(t){this.Fn=t},t.prototype.getDocumentsMatchingQuery=function(t,e,n,r){var o=this;return function(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}(e)||n.isEqual(Ut.min())?this.On(t,e):this.Fn.bn(t,r).next((function(s){var a=o.kn(e,s);return(Ct(e)||At(e))&&o.Mn(e.limitType,a,r,n)?o.On(t,e):(c()<=i.a.DEBUG&&l("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),Bt(e)),o.Fn.getDocumentsMatchingQuery(t,e,n).next((function(t){return a.forEach((function(e){t=t.insert(e.key,e)})),t})))}))},t.prototype.kn=function(t,e){var n=new Ne(Vt(t));return e.forEach((function(e,i){i instanceof nt&&Ft(t,i)&&(n=n.add(i))})),n},t.prototype.Mn=function(t,e,n,i){if(n.size!==e.size)return!0;var r="F"===t?e.last():e.first();return!!r&&(r.hasPendingWrites||r.version.compareTo(i)>0)},t.prototype.On=function(t,e){return c()<=i.a.DEBUG&&l("QueryEngine","Using full collection scan to execute query:",Bt(e)),this.Fn.getDocumentsMatchingQuery(t,e,Ut.min())},t}(),kr=function(){function t(t,e,n,i){this.persistence=t,this.Ln=e,this.D=i,this.Bn=new De(b),this.qn=new or((function(t){return at(t)}),ut),this.Un=Ut.min(),this.Tn=t.getMutationQueue(n),this.Qn=t.getRemoteDocumentCache(),this.Ge=t.getTargetCache(),this.Kn=new wr(this.Qn,this.Tn,this.persistence.getIndexManager()),this.He=t.getBundleCache(),this.Ln.$n(this.Kn)}return t.prototype.collectGarbage=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return t.collect(n,e.Bn)}))},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ir(t,e,n,i){return new kr(t,e,n,i)}function Tr(t,e){return Object(s.a)(this,void 0,void 0,(function(){var n,i,r,o;return Object(s.c)(this,(function(s){switch(s.label){case 0:return n=g(t),i=n.Tn,r=n.Kn,[4,n.persistence.runTransaction("Handle user change","readonly",(function(t){var o;return n.Tn.getAllMutationBatches(t).next((function(s){return o=s,i=n.persistence.getMutationQueue(e),r=new wr(n.Qn,i,n.persistence.getIndexManager()),i.getAllMutationBatches(t)})).next((function(e){for(var n=[],i=[],s=$e(),a=0,u=o;a<u.length;a++){var c=u[a];n.push(c.batchId);for(var l=0,h=c.mutations;l<h.length;l++){var f=h[l];s=s.add(f.key)}}for(var d=0,p=e;d<p.length;d++){var v=p[d];i.push(v.batchId);for(var g=0,m=v.mutations;g<m.length;g++){var y=m[g];s=s.add(y.key)}}return r.bn(t,s).next((function(t){return{Wn:t,removedBatchIds:n,addedBatchIds:i}}))}))}))];case 1:return o=s.sent(),[2,(n.Tn=i,n.Kn=r,n.Ln.$n(n.Kn),o)]}}))}))}function Or(t,e){var n=g(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(t){var i=e.batch.keys(),r=n.Qn.newChangeBuffer({trackRemovals:!0});return function(t,e,n,i){var r=n.batch,o=r.keys(),s=oi.resolve();return o.forEach((function(t){s=s.next((function(){return i.getEntry(e,t)})).next((function(e){var o=e,s=n.docVersions.get(t);v(null!==s),(!o||o.version.compareTo(s)<0)&&(o=r.applyToRemoteDocument(t,o,n))&&i.addEntry(o,n.commitVersion)}))})),s.next((function(){return t.Tn.removeMutationBatch(e,r)}))}(n,t,e,r).next((function(){return r.apply(t)})).next((function(){return n.Tn.performConsistencyCheck(t)})).next((function(){return n.Kn.bn(t,i)}))}))}function Sr(t){var e=g(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(function(t){return e.Ge.getLastRemoteSnapshotVersion(t)}))}function Cr(t,e){var n=g(t),i=e.snapshotVersion,r=n.Bn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(t){var o=n.Qn.newChangeBuffer({trackRemovals:!0});r=n.Bn;var s=[];e.targetChanges.forEach((function(e,o){var a=r.get(o);if(a){s.push(n.Ge.removeMatchingKeys(t,e.removedDocuments,o).next((function(){return n.Ge.addMatchingKeys(t,e.addedDocuments,o)})));var u=e.resumeToken;if(u.approximateByteSize()>0){var c=a.withResumeToken(u,i).withSequenceNumber(t.currentSequenceNumber);r=r.insert(o,c),function(t,e,n){return v(e.resumeToken.approximateByteSize()>0),0===t.resumeToken.approximateByteSize()||e.snapshotVersion.toMicroseconds()-t.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(a,c,e)&&s.push(n.Ge.updateTargetData(t,c))}}}));var a=je();if(e.documentUpdates.forEach((function(i,r){e.resolvedLimboDocuments.has(i)&&s.push(n.persistence.referenceDelegate.updateLimboDocument(t,i))})),s.push(Ar(t,o,e.documentUpdates,i,void 0).next((function(t){a=t}))),!i.isEqual(Ut.min())){var u=n.Ge.getLastRemoteSnapshotVersion(t).next((function(e){return n.Ge.setTargetsMetadata(t,t.currentSequenceNumber,i)}));s.push(u)}return oi.waitFor(s).next((function(){return o.apply(t)})).next((function(){return n.Kn.vn(t,a)}))})).then((function(t){return n.Bn=r,t}))}function Ar(t,e,n,i,r){var o=$e();return n.forEach((function(t){return o=o.add(t)})),e.getEntries(t,o).next((function(t){var o=je();return n.forEach((function(n,s){var a=t.get(n),u=(null==r?void 0:r.get(n))||i;s instanceof it&&s.version.isEqual(Ut.min())?(e.removeEntry(n,u),o=o.insert(n,s)):null==a||s.version.compareTo(a.version)>0||0===s.version.compareTo(a.version)&&a.hasPendingWrites?(e.addEntry(s,u),o=o.insert(n,s)):l("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",s.version)})),o}))}function xr(t,e){var n=g(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(t){return void 0===e&&(e=-1),n.Tn.getNextMutationBatchAfterBatchId(t,e)}))}function Dr(t,e){var n=g(t);return n.persistence.runTransaction("Allocate target","readwrite",(function(t){var i;return n.Ge.getTargetData(t,e).next((function(r){return r?(i=r,oi.resolve(i)):n.Ge.allocateTargetId(t).next((function(r){return i=new bi(e,r,0,t.currentSequenceNumber),n.Ge.addTargetData(t,i).next((function(){return i}))}))}))})).then((function(t){var i=n.Bn.get(t.targetId);return(null===i||t.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Bn=n.Bn.insert(t.targetId,t),n.qn.set(e,t.targetId)),t}))}function Mr(t,e,n){return Object(s.a)(this,void 0,void 0,(function(){var i,r,o,a;return Object(s.c)(this,(function(s){switch(s.label){case 0:i=g(t),r=i.Bn.get(e),o=n?"readwrite":"readwrite-primary",s.label=1;case 1:return s.trys.push([1,4,,5]),n?[3,3]:[4,i.persistence.runTransaction("Release target",o,(function(t){return i.persistence.referenceDelegate.removeTarget(t,r)}))];case 2:s.sent(),s.label=3;case 3:return[3,5];case 4:if(!li(a=s.sent()))throw a;return l("LocalStore","Failed to update sequence numbers for target "+e+": "+a),[3,5];case 5:return i.Bn=i.Bn.remove(e),i.qn.delete(r.target),[2]}}))}))}function Lr(t,e,n){var i=g(t),r=Ut.min(),o=$e();return i.persistence.runTransaction("Execute query","readonly",(function(t){return function(t,e,n){var i=g(t),r=i.qn.get(n);return void 0!==r?oi.resolve(i.Bn.get(r)):i.Ge.getTargetData(e,n)}(i,t,Nt(e)).next((function(e){if(e)return r=e.lastLimboFreeSnapshotVersion,i.Ge.getMatchingKeysForTargetId(t,e.targetId).next((function(t){o=t}))})).next((function(){return i.Ln.getDocumentsMatchingQuery(t,e,n?r:Ut.min(),n?o:$e())})).next((function(t){return{documents:t,jn:o}}))}))}function Nr(t,e){var n=g(t),i=g(n.Ge),r=n.Bn.get(e);return r?Promise.resolve(r.target):n.persistence.runTransaction("Get target data","readonly",(function(t){return i.yt(t,e).next((function(t){return t?t.target:null}))}))}function Pr(t){var e=g(t);return e.persistence.runTransaction("Get new document changes","readonly",(function(t){return function(t,e,n){var i=g(t),r=je(),o=ki(n),s=lr(e),a=IDBKeyRange.lowerBound(o,!0);return s.qt({index:Kn.readTimeIndex,range:a},(function(t,e){var n=_i(i.D,e);r=r.insert(n.key,n),o=e.readTime})).next((function(){return{En:r,readTime:Ii(o)}}))}(e.Qn,t,e.Un)})).then((function(t){var n=t.En,i=t.readTime;return e.Un=i,n}))}function Rr(t){return Object(s.a)(this,void 0,void 0,(function(){var e;return Object(s.c)(this,(function(n){return[2,(e=g(t)).persistence.runTransaction("Synchronize last document change read time","readonly",(function(t){return function(t){var e=lr(t),n=Ut.min();return e.qt({index:Kn.readTimeIndex,reverse:!0},(function(t,e,i){e.readTime&&(n=Ii(e.readTime)),i.done()})).next((function(){return n}))}(t)})).then((function(t){e.Un=t}))]}))}))}function jr(t,e,n,i){return Object(s.a)(this,void 0,void 0,(function(){var r,o,a,u,c,l,h,f,d,p;return Object(s.c)(this,(function(s){switch(s.label){case 0:for(r=g(t),o=$e(),a=je(),u=Ue(),c=0,l=n;c<l.length;c++)h=l[c],f=e.Gn(h.metadata.name),h.document&&(o=o.add(f)),a=a.insert(f,e.zn(h)),u=u.insert(f,e.Hn(h.metadata.readTime));return d=r.Qn.newChangeBuffer({trackRemovals:!0}),[4,Dr(r,function(t){return Nt(St(D.fromString("__bundle__/docs/"+t)))}(i))];case 1:return p=s.sent(),[2,r.persistence.runTransaction("Apply bundle documents","readwrite",(function(t){return Ar(t,d,a,Ut.min(),u).next((function(e){return d.apply(t),e})).next((function(e){return r.Ge.removeMatchingKeysForTargetId(t,p.targetId).next((function(){return r.Ge.addMatchingKeys(t,o,p.targetId)})).next((function(){return r.Kn.vn(t,e)}))}))}))]}}))}))}function Br(t,e,n){return void 0===n&&(n=$e()),Object(s.a)(this,void 0,void 0,(function(){var i,r;return Object(s.c)(this,(function(o){switch(o.label){case 0:return[4,Dr(t,Nt(xi(e.bundledQuery)))];case 1:return i=o.sent(),[2,(r=g(t)).persistence.runTransaction("Save named query","readwrite",(function(t){var o=cn(e.readTime);if(i.snapshotVersion.compareTo(o)>=0)return r.He.saveNamedQuery(t,e);var s=i.withResumeToken(P.EMPTY_BYTE_STRING,o);return r.Bn=r.Bn.insert(s.targetId,s),r.Ge.updateTargetData(t,s).next((function(){return r.Ge.removeMatchingKeysForTargetId(t,i.targetId)})).next((function(){return r.Ge.addMatchingKeys(t,n,i.targetId)})).next((function(){return r.He.saveNamedQuery(t,e)}))}))]}}))}))
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}var Fr=function(){function t(t){this.D=t,this.Jn=new Map,this.Yn=new Map}return t.prototype.getBundleMetadata=function(t,e){return oi.resolve(this.Jn.get(e))},t.prototype.saveBundleMetadata=function(t,e){var n;return this.Jn.set(e.id,{id:(n=e).id,version:n.version,createTime:cn(n.createTime)}),oi.resolve()},t.prototype.getNamedQuery=function(t,e){return oi.resolve(this.Yn.get(e))},t.prototype.saveNamedQuery=function(t,e){return this.Yn.set(e.name,function(t){return{name:t.name,query:xi(t.bundledQuery),readTime:cn(t.readTime)}}(e)),oi.resolve()},t}(),Vr=function(){function t(){this.Xn=new Ne(qr.Zn),this.ts=new Ne(qr.es)}return t.prototype.isEmpty=function(){return this.Xn.isEmpty()},t.prototype.addReference=function(t,e){var n=new qr(t,e);this.Xn=this.Xn.add(n),this.ts=this.ts.add(n)},t.prototype.ns=function(t,e){var n=this;t.forEach((function(t){return n.addReference(t,e)}))},t.prototype.removeReference=function(t,e){this.ss(new qr(t,e))},t.prototype.rs=function(t,e){var n=this;t.forEach((function(t){return n.removeReference(t,e)}))},t.prototype.os=function(t){var e=this,n=new N(new D([])),i=new qr(n,t),r=new qr(n,t+1),o=[];return this.ts.forEachInRange([i,r],(function(t){e.ss(t),o.push(t.key)})),o},t.prototype.cs=function(){var t=this;this.Xn.forEach((function(e){return t.ss(e)}))},t.prototype.ss=function(t){this.Xn=this.Xn.delete(t),this.ts=this.ts.delete(t)},t.prototype.us=function(t){var e=new N(new D([])),n=new qr(e,t),i=new qr(e,t+1),r=$e();return this.ts.forEachInRange([n,i],(function(t){r=r.add(t.key)})),r},t.prototype.containsKey=function(t){var e=new qr(t,0),n=this.Xn.firstAfterOrEqual(e);return null!==n&&t.isEqual(n.key)},t}(),qr=function(){function t(t,e){this.key=t,this.hs=e}return t.Zn=function(t,e){return N.comparator(t.key,e.key)||b(t.hs,e.hs)},t.es=function(t,e){return b(t.hs,e.hs)||N.comparator(t.key,e.key)},t}(),Ur=function(){function t(t,e){this.Gt=t,this.referenceDelegate=e,this.Tn=[],this.ls=1,this.fs=new Ne(qr.Zn)}return t.prototype.checkEmpty=function(t){return oi.resolve(0===this.Tn.length)},t.prototype.addMutationBatch=function(t,e,n,i){var r=this.ls;this.ls++,this.Tn.length>0&&this.Tn[this.Tn.length-1];var o=new mi(r,e,n,i);this.Tn.push(o);for(var s=0,a=i;s<a.length;s++){var u=a[s];this.fs=this.fs.add(new qr(u.key,r)),this.Gt.addToCollectionParentIndex(t,u.key.path.popLast())}return oi.resolve(o)},t.prototype.lookupMutationBatch=function(t,e){return oi.resolve(this.ds(e))},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=e+1,i=this.ws(n),r=i<0?0:i;return oi.resolve(this.Tn.length>r?this.Tn[r]:null)},t.prototype.getHighestUnacknowledgedBatchId=function(){return oi.resolve(0===this.Tn.length?-1:this.ls-1)},t.prototype.getAllMutationBatches=function(t){return oi.resolve(this.Tn.slice())},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,i=new qr(e,0),r=new qr(e,Number.POSITIVE_INFINITY),o=[];return this.fs.forEachInRange([i,r],(function(t){var e=n.ds(t.hs);o.push(e)})),oi.resolve(o)},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,i=new Ne(b);return e.forEach((function(t){var e=new qr(t,0),r=new qr(t,Number.POSITIVE_INFINITY);n.fs.forEachInRange([e,r],(function(t){i=i.add(t.hs)}))})),oi.resolve(this._s(i))},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=e.path,i=n.length+1,r=n;N.isDocumentKey(r)||(r=r.child(""));var o=new qr(new N(r),0),s=new Ne(b);return this.fs.forEachWhile((function(t){var e=t.key.path;return!!n.isPrefixOf(e)&&(e.length===i&&(s=s.add(t.hs)),!0)}),o),oi.resolve(this._s(s))},t.prototype._s=function(t){var e=this,n=[];return t.forEach((function(t){var i=e.ds(t);null!==i&&n.push(i)})),n},t.prototype.removeMutationBatch=function(t,e){var n=this;v(0===this.ys(e.batchId,"removed")),this.Tn.shift();var i=this.fs;return oi.forEach(e.mutations,(function(r){var o=new qr(r.key,e.batchId);return i=i.delete(o),n.referenceDelegate.markPotentiallyOrphaned(t,r.key)})).next((function(){n.fs=i}))},t.prototype.Xt=function(t){},t.prototype.containsKey=function(t,e){var n=new qr(e,0),i=this.fs.firstAfterOrEqual(n);return oi.resolve(e.isEqual(i&&i.key))},t.prototype.performConsistencyCheck=function(t){return this.Tn.length,oi.resolve()},t.prototype.ys=function(t,e){return this.ws(t)},t.prototype.ws=function(t){return 0===this.Tn.length?0:t-this.Tn[0].batchId},t.prototype.ds=function(t){var e=this.ws(t);return e<0||e>=this.Tn.length?null:this.Tn[e]},t}(),Hr=function(){function t(t,e){this.Gt=t,this.gs=e,this.docs=new De(N.comparator),this.size=0}return t.prototype.addEntry=function(t,e,n){var i=e.key,r=this.docs.get(i),o=r?r.size:0,s=this.gs(e);return this.docs=this.docs.insert(i,{maybeDocument:e,size:s,readTime:n}),this.size+=s-o,this.Gt.addToCollectionParentIndex(t,i.path.popLast())},t.prototype.removeEntry=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.getEntry=function(t,e){var n=this.docs.get(e);return oi.resolve(n?n.maybeDocument:null)},t.prototype.getEntries=function(t,e){var n=this,i=Be();return e.forEach((function(t){var e=n.docs.get(t);i=i.insert(t,e?e.maybeDocument:null)})),oi.resolve(i)},t.prototype.getDocumentsMatchingQuery=function(t,e,n){for(var i=Ve(),r=new N(e.path.child("")),o=this.docs.getIteratorFrom(r);o.hasNext();){var s=o.getNext(),a=s.key,u=s.value,c=u.maybeDocument,l=u.readTime;if(!e.path.isPrefixOf(a.path))break;l.compareTo(n)<=0||c instanceof nt&&Ft(e,c)&&(i=i.insert(c.key,c))}return oi.resolve(i)},t.prototype.ps=function(t,e){return oi.forEach(this.docs,(function(t){return e(t)}))},t.prototype.newChangeBuffer=function(t){return new $r(this)},t.prototype.getSize=function(t){return oi.resolve(this.size)},t}(),$r=function(t){function e(e){var n=this;return(n=t.call(this)||this).Ve=e,n}return Object(s.b)(e,t),e.prototype.applyChanges=function(t){var e=this,n=[];return this.changes.forEach((function(i,r){r&&r.maybeDocument?n.push(e.Ve.addEntry(t,r.maybeDocument,e.getReadTime(i))):e.Ve.removeEntry(i)})),oi.waitFor(n)},e.prototype.getFromCache=function(t,e){return this.Ve.getEntry(t,e)},e.prototype.getAllFromCache=function(t,e){return this.Ve.getEntries(t,e)},e}(sr),Wr=function(){function t(t){this.persistence=t,this.Es=new or((function(t){return at(t)}),ut),this.lastRemoteSnapshotVersion=Ut.min(),this.highestTargetId=0,this.Ts=0,this.Is=new Vr,this.targetCount=0,this.As=zi.ee()}return t.prototype.forEachTarget=function(t,e){return this.Es.forEach((function(t,n){return e(n)})),oi.resolve()},t.prototype.getLastRemoteSnapshotVersion=function(t){return oi.resolve(this.lastRemoteSnapshotVersion)},t.prototype.getHighestSequenceNumber=function(t){return oi.resolve(this.Ts)},t.prototype.allocateTargetId=function(t){return this.highestTargetId=this.As.next(),oi.resolve(this.highestTargetId)},t.prototype.setTargetsMetadata=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.Ts&&(this.Ts=e),oi.resolve()},t.prototype.re=function(t){this.Es.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.As=new zi(e),this.highestTargetId=e),t.sequenceNumber>this.Ts&&(this.Ts=t.sequenceNumber)},t.prototype.addTargetData=function(t,e){return this.re(e),this.targetCount+=1,oi.resolve()},t.prototype.updateTargetData=function(t,e){return this.re(e),oi.resolve()},t.prototype.removeTargetData=function(t,e){return this.Es.delete(e.target),this.Is.os(e.targetId),this.targetCount-=1,oi.resolve()},t.prototype.removeTargets=function(t,e,n){var i=this,r=0,o=[];return this.Es.forEach((function(s,a){a.sequenceNumber<=e&&null===n.get(a.targetId)&&(i.Es.delete(s),o.push(i.removeMatchingKeysForTargetId(t,a.targetId)),r++)})),oi.waitFor(o).next((function(){return r}))},t.prototype.getTargetCount=function(t){return oi.resolve(this.targetCount)},t.prototype.getTargetData=function(t,e){var n=this.Es.get(e)||null;return oi.resolve(n)},t.prototype.addMatchingKeys=function(t,e,n){return this.Is.ns(e,n),oi.resolve()},t.prototype.removeMatchingKeys=function(t,e,n){this.Is.rs(e,n);var i=this.persistence.referenceDelegate,r=[];return i&&e.forEach((function(e){r.push(i.markPotentiallyOrphaned(t,e))})),oi.waitFor(r)},t.prototype.removeMatchingKeysForTargetId=function(t,e){return this.Is.os(e),oi.resolve()},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=this.Is.us(e);return oi.resolve(n)},t.prototype.containsKey=function(t,e){return oi.resolve(this.Is.containsKey(e))},t}(),Kr=function(){function t(t,e){var n=this;this.Rs={},this.Me=new a(0),this.Le=!1,this.Le=!0,this.referenceDelegate=t(this),this.Ge=new Wr(this),this.Gt=new Ni,this.ze=function(t,e){return new Hr(t,(function(t){return n.referenceDelegate.bs(t)}))}(this.Gt),this.D=new wi(e),this.He=new Fr(this.D)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.shutdown=function(){return this.Le=!1,Promise.resolve()},Object.defineProperty(t.prototype,"started",{get:function(){return this.Le},enumerable:!1,configurable:!0}),t.prototype.setDatabaseDeletedListener=function(){},t.prototype.setNetworkEnabled=function(){},t.prototype.getIndexManager=function(){return this.Gt},t.prototype.getMutationQueue=function(t){var e=this.Rs[t.toKey()];return e||(e=new Ur(this.Gt,this.referenceDelegate),this.Rs[t.toKey()]=e),e},t.prototype.getTargetCache=function(){return this.Ge},t.prototype.getRemoteDocumentCache=function(){return this.ze},t.prototype.getBundleCache=function(){return this.He},t.prototype.runTransaction=function(t,e,n){var i=this;l("MemoryPersistence","Starting transaction:",t);var r=new zr(this.Me.next());return this.referenceDelegate.vs(),n(r).next((function(t){return i.referenceDelegate.Ps(r).next((function(){return t}))})).toPromise().then((function(t){return r.raiseOnCommittedEvent(),t}))},t.prototype.Vs=function(t,e){return oi.or(Object.values(this.Rs).map((function(n){return function(){return n.containsKey(t,e)}})))},t}(),zr=function(t){function e(e){var n=this;return(n=t.call(this)||this).currentSequenceNumber=e,n}return Object(s.b)(e,t),e}(ii),Gr=function(){function t(t){this.persistence=t,this.Ss=new Vr,this.Ds=null}return t.Cs=function(e){return new t(e)},Object.defineProperty(t.prototype,"xs",{get:function(){if(this.Ds)return this.Ds;throw p()},enumerable:!1,configurable:!0}),t.prototype.addReference=function(t,e,n){return this.Ss.addReference(n,e),this.xs.delete(n.toString()),oi.resolve()},t.prototype.removeReference=function(t,e,n){return this.Ss.removeReference(n,e),this.xs.add(n.toString()),oi.resolve()},t.prototype.markPotentiallyOrphaned=function(t,e){return this.xs.add(e.toString()),oi.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.Ss.os(e.targetId).forEach((function(t){return n.xs.add(t.toString())}));var i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,e.targetId).next((function(t){t.forEach((function(t){return n.xs.add(t.toString())}))})).next((function(){return i.removeTargetData(t,e)}))},t.prototype.vs=function(){this.Ds=new Set},t.prototype.Ps=function(t){var e=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return oi.forEach(this.xs,(function(i){var r=N.fromPath(i);return e.Ns(t,r).next((function(t){t||n.removeEntry(r)}))})).next((function(){return e.Ds=null,n.apply(t)}))},t.prototype.updateLimboDocument=function(t,e){var n=this;return this.Ns(t,e).next((function(t){t?n.xs.delete(e.toString()):n.xs.add(e.toString())}))},t.prototype.bs=function(t){return 0},t.prototype.Ns=function(t,e){var n=this;return oi.or([function(){return oi.resolve(n.Ss.containsKey(e))},function(){return n.persistence.getTargetCache().containsKey(t,e)},function(){return n.persistence.Vs(t,e)}])},t}(),Qr=function(){function t(t){this.uid=t}return t.prototype.isAuthenticated=function(){return null!=this.uid},t.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yr(t,e){return"firestore_clients_"+t+"_"+e}function Xr(t,e,n){var i="firestore_mutations_"+t+"_"+n;return e.isAuthenticated()&&(i+="_"+e.uid),i}function Jr(t,e){return"firestore_targets_"+t+"_"+e}Qr.UNAUTHENTICATED=new Qr(null),Qr.GOOGLE_CREDENTIALS=new Qr("google-credentials-uid"),Qr.FIRST_PARTY=new Qr("first-party-uid");var Zr=function(){function t(t,e,n,i){this.user=t,this.batchId=e,this.state=n,this.error=i}return t.$s=function(e,n,i){var r,o=JSON.parse(i),s="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return s&&o.error&&(s="string"==typeof o.error.message&&"string"==typeof o.error.code)&&(r=new A(o.error.code,o.error.message)),s?new t(e,n,o.state,r):(h("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+i),null)},t.prototype.Fs=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),to=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.$s=function(e,n){var i,r=JSON.parse(n),o="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return o&&r.error&&(o="string"==typeof r.error.message&&"string"==typeof r.error.code)&&(i=new A(r.error.code,r.error.message)),o?new t(e,r.state,i):(h("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.Fs=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),eo=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.$s=function(e,n){for(var i=JSON.parse(n),r="object"==typeof i&&i.activeTargetIds instanceof Array,o=Ke(),s=0;r&&s<i.activeTargetIds.length;++s)r=S(i.activeTargetIds[s]),o=o.add(i.activeTargetIds[s]);return r?new t(e,o):(h("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),no=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.$s=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(h("SharedClientState","Failed to parse online state: "+e),null)},t}(),io=function(){function t(){this.activeTargetIds=Ke()}return t.prototype.Os=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.ks=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.Fs=function(){var t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),ro=function(){function t(t,e,n,i,r){this.window=t,this.Fe=e,this.persistenceKey=n,this.Ms=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Ls=this.Bs.bind(this),this.qs=new De(b),this.started=!1,this.Us=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=r,this.Qs=Yr(this.persistenceKey,this.Ms),this.Ks=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.qs=this.qs.insert(this.Ms,new io),this.Ws=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.js=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.Gs=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.zs=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.Hs=function(t){return"firestore_bundle_loaded_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.Ls)}return t.At=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return Object(s.a)(this,void 0,void 0,(function(){var t,e,n,i,r,o,a,u,c,l,h,f=this;return Object(s.c)(this,(function(s){switch(s.label){case 0:return[4,this.syncEngine.gn()];case 1:for(t=s.sent(),e=0,n=t;e<n.length;e++)(i=n[e])!==this.Ms&&(r=this.getItem(Yr(this.persistenceKey,i)))&&(o=eo.$s(i,r))&&(this.qs=this.qs.insert(o.clientId,o));for(this.Js(),(a=this.storage.getItem(this.zs))&&(u=this.Ys(a))&&this.Xs(u),c=0,l=this.Us;c<l.length;c++)h=l[c],this.Bs(h);return this.Us=[],this.window.addEventListener("unload",(function(){return f.shutdown()})),this.started=!0,[2]}}))}))},t.prototype.writeSequenceNumber=function(t){this.setItem(this.Ks,JSON.stringify(t))},t.prototype.getAllActiveQueryTargets=function(){return this.Zs(this.qs)},t.prototype.isActiveQueryTarget=function(t){var e=!1;return this.qs.forEach((function(n,i){i.activeTargetIds.has(t)&&(e=!0)})),e},t.prototype.addPendingMutation=function(t){this.ti(t,"pending")},t.prototype.updateMutationState=function(t,e,n){this.ti(t,e,n),this.ei(t)},t.prototype.addLocalQueryTarget=function(t){var e="not-current";if(this.isActiveQueryTarget(t)){var n=this.storage.getItem(Jr(this.persistenceKey,t));if(n){var i=to.$s(t,n);i&&(e=i.state)}}return this.ni.Os(t),this.Js(),e},t.prototype.removeLocalQueryTarget=function(t){this.ni.ks(t),this.Js()},t.prototype.isLocalQueryTarget=function(t){return this.ni.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){this.removeItem(Jr(this.persistenceKey,t))},t.prototype.updateQueryState=function(t,e,n){this.si(t,e,n)},t.prototype.handleUserChange=function(t,e,n){var i=this;e.forEach((function(t){i.ei(t)})),this.currentUser=t,n.forEach((function(t){i.addPendingMutation(t)}))},t.prototype.setOnlineState=function(t){this.ii(t)},t.prototype.notifyBundleLoaded=function(){this.ri()},t.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.Ls),this.removeItem(this.Qs),this.started=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return l("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){l("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){l("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.Bs=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(l("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Qs)return void h("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Fe.enqueueRetryable((function(){return Object(s.a)(e,void 0,void 0,(function(){var t,e,i,r,o,u;return Object(s.c)(this,(function(s){if(this.started){if(null!==n.key)if(this.Ws.test(n.key)){if(null==n.newValue)return t=this.oi(n.key),[2,this.ci(t,null)];if(e=this.ai(n.key,n.newValue))return[2,this.ci(e.clientId,e)]}else if(this.js.test(n.key)){if(null!==n.newValue&&(i=this.ui(n.key,n.newValue)))return[2,this.hi(i)]}else if(this.Gs.test(n.key)){if(null!==n.newValue&&(r=this.li(n.key,n.newValue)))return[2,this.fi(r)]}else if(n.key===this.zs){if(null!==n.newValue&&(o=this.Ys(n.newValue)))return[2,this.Xs(o)]}else if(n.key===this.Ks)(u=function(t){var e=a.o;if(null!=t)try{var n=JSON.parse(t);v("number"==typeof n),e=n}catch(t){h("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==a.o&&this.sequenceNumberHandler(u);else if(n.key===this.Hs)return[2,this.syncEngine.di()]}else this.Us.push(n);return[2]}))}))}))}},Object.defineProperty(t.prototype,"ni",{get:function(){return this.qs.get(this.Ms)},enumerable:!1,configurable:!0}),t.prototype.Js=function(){this.setItem(this.Qs,this.ni.Fs())},t.prototype.ti=function(t,e,n){var i=new Zr(this.currentUser,t,e,n),r=Xr(this.persistenceKey,this.currentUser,t);this.setItem(r,i.Fs())},t.prototype.ei=function(t){var e=Xr(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.ii=function(t){var e={clientId:this.Ms,onlineState:t};this.storage.setItem(this.zs,JSON.stringify(e))},t.prototype.si=function(t,e,n){var i=Jr(this.persistenceKey,t),r=new to(t,e,n);this.setItem(i,r.Fs())},t.prototype.ri=function(){this.setItem(this.Hs,"value-not-used")},t.prototype.oi=function(t){var e=this.Ws.exec(t);return e?e[1]:null},t.prototype.ai=function(t,e){var n=this.oi(t);return eo.$s(n,e)},t.prototype.ui=function(t,e){var n=this.js.exec(t),i=Number(n[1]),r=void 0!==n[2]?n[2]:null;return Zr.$s(new Qr(r),i,e)},t.prototype.li=function(t,e){var n=this.Gs.exec(t),i=Number(n[1]);return to.$s(i,e)},t.prototype.Ys=function(t){return no.$s(t)},t.prototype.hi=function(t){return Object(s.a)(this,void 0,void 0,(function(){return Object(s.c)(this,(function(e){return t.user.uid===this.currentUser.uid?[2,this.syncEngine.wi(t.batchId,t.state,t.error)]:(l("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])}))}))},t.prototype.fi=function(t){return this.syncEngine._i(t.targetId,t.state,t.error)},t.prototype.ci=function(t,e){var n=this,i=e?this.qs.insert(t,e):this.qs.remove(t),r=this.Zs(this.qs),o=this.Zs(i),s=[],a=[];return o.forEach((function(t){r.has(t)||s.push(t)})),r.forEach((function(t){o.has(t)||a.push(t)})),this.syncEngine.mi(s,a).then((function(){n.qs=i}))},t.prototype.Xs=function(t){this.qs.get(t.clientId)&&this.onlineStateHandler(t.onlineState)},t.prototype.Zs=function(t){var e=Ke();return t.forEach((function(t,n){e=e.unionWith(n.activeTargetIds)})),e},t}(),oo=function(){function t(){this.yi=new io,this.gi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return t.prototype.addPendingMutation=function(t){},t.prototype.updateMutationState=function(t,e,n){},t.prototype.addLocalQueryTarget=function(t){return this.yi.Os(t),this.gi[t]||"not-current"},t.prototype.updateQueryState=function(t,e,n){this.gi[t]=e},t.prototype.removeLocalQueryTarget=function(t){this.yi.ks(t)},t.prototype.isLocalQueryTarget=function(t){return this.yi.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){delete this.gi[t]},t.prototype.getAllActiveQueryTargets=function(){return this.yi.activeTargetIds},t.prototype.isActiveQueryTarget=function(t){return this.yi.activeTargetIds.has(t)},t.prototype.start=function(){return this.yi=new io,Promise.resolve()},t.prototype.handleUserChange=function(t,e,n){},t.prototype.setOnlineState=function(t){},t.prototype.shutdown=function(){},t.prototype.writeSequenceNumber=function(t){},t.prototype.notifyBundleLoaded=function(){},t}(),so=function(){function t(){}return t.prototype.pi=function(t){},t.prototype.shutdown=function(){},t}(),ao=function(){function t(){var t=this;this.Ei=function(){return t.Ti()},this.Ii=function(){return t.Ai()},this.Ri=[],this.bi()}return t.prototype.pi=function(t){this.Ri.push(t)},t.prototype.shutdown=function(){window.removeEventListener("online",this.Ei),window.removeEventListener("offline",this.Ii)},t.prototype.bi=function(){window.addEventListener("online",this.Ei),window.addEventListener("offline",this.Ii)},t.prototype.Ti=function(){l("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.Ri;t<e.length;t++)(0,e[t])(0)},t.prototype.Ai=function(){l("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.Ri;t<e.length;t++)(0,e[t])(1)},t.At=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),uo={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},co=function(){function t(t){this.vi=t.vi,this.Pi=t.Pi}return t.prototype.Vi=function(t){this.Si=t},t.prototype.Di=function(t){this.Ci=t},t.prototype.onMessage=function(t){this.xi=t},t.prototype.close=function(){this.Pi()},t.prototype.send=function(t){this.vi(t)},t.prototype.Ni=function(){this.Si()},t.prototype.$i=function(t){this.Ci(t)},t.prototype.Fi=function(t){this.xi(t)},t}(),lo=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n.autoDetectLongPolling=e.autoDetectLongPolling,n}return Object(s.b)(e,t),e.prototype.qi=function(t,e,n,i){return new Promise((function(r,s){var a=new o.f;a.listenOnce(o.c.COMPLETE,(function(){try{switch(a.getLastErrorCode()){case o.a.NO_ERROR:var e=a.getResponseJson();l("Connection","XHR received:",JSON.stringify(e)),r(e);break;case o.a.TIMEOUT:l("Connection",'RPC "'+t+'" timed out'),s(new A(C.DEADLINE_EXCEEDED,"Request time out"));break;case o.a.HTTP_ERROR:var n=a.getStatus();if(l("Connection",'RPC "'+t+'" failed with status:',n,"response text:",a.getResponseText()),n>0){var i=a.getResponseJson().error;if(i&&i.status&&i.message){var u=function(t){var e=t.toLowerCase().replace(/_/g,"-");return Object.values(C).indexOf(e)>=0?e:C.UNKNOWN}(i.status);s(new A(u,i.message))}else s(new A(C.UNKNOWN,"Server responded with status "+a.getStatus()))}else s(new A(C.UNAVAILABLE,"Connection failed."));break;default:p()}}finally{l("Connection",'RPC "'+t+'" completed.')}}));var u=JSON.stringify(i);a.send(e,"POST",u,n,15)}))},e.prototype.Qi=function(t,e){var n=[this.Oi,"/","google.firestore.v1.Firestore","/",t,"/channel"],i=Object(o.g)(),s=Object(o.h)(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.Bi(a.initMessageHeaders,e),Object(r.l)()||Object(r.n)()||Object(r.j)()||Object(r.k)()||Object(r.o)()||Object(r.i)()||(a.httpHeadersOverwriteParam="$httpHeaders");var u=n.join("");l("Connection","Creating WebChannel: "+u,a);var c=i.createWebChannel(u,a),h=!1,d=!1,p=new co({vi:function(t){d?l("Connection","Not sending because WebChannel is closed:",t):(h||(l("Connection","Opening WebChannel transport."),c.open(),h=!0),l("Connection","WebChannel sending:",t),c.send(t))},Pi:function(){return c.close()}}),g=function(t,e,n){t.listen(e,(function(t){try{n(t)}catch(t){setTimeout((function(){throw t}),0)}}))};return g(c,o.e.EventType.OPEN,(function(){d||l("Connection","WebChannel transport opened.")})),g(c,o.e.EventType.CLOSE,(function(){d||(d=!0,l("Connection","WebChannel transport closed"),p.$i())})),g(c,o.e.EventType.ERROR,(function(t){d||(d=!0,f("Connection","WebChannel transport errored:",t),p.$i(new A(C.UNAVAILABLE,"The operation could not be completed")))})),g(c,o.e.EventType.MESSAGE,(function(t){var e;if(!d){var n=t.data[0];v(!!n);var i=n,r=i.error||(null===(e=i[0])||void 0===e?void 0:e.error);if(r){l("Connection","WebChannel received error:",r);var o=r.status,s=function(t){var e=Ie[t];if(void 0!==e)return xe(e)}(o),a=r.message;void 0===s&&(s=C.INTERNAL,a="Unknown error status: "+o+" with message "+r.message),d=!0,p.$i(new A(s,a)),c.close()}else l("Connection","WebChannel received:",n),p.Fi(n)}})),g(s,o.b.STAT_EVENT,(function(t){t.stat===o.d.PROXY?l("Connection","Detected buffering proxy"):t.stat===o.d.NOPROXY&&l("Connection","Detected no buffering proxy")})),setTimeout((function(){p.Ni()}),0),p},e}(function(){function t(t){this.databaseInfo=t,this.databaseId=t.databaseId;var e=t.ssl?"https":"http";this.Oi=e+"://"+t.host,this.ki="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return t.prototype.Mi=function(t,e,n,i){var r=this.Li(t,e);l("RestConnection","Sending: ",r,n);var o={};return this.Bi(o,i),this.qi(t,r,o,n).then((function(t){return l("RestConnection","Received: ",t),t}),(function(e){throw f("RestConnection",t+" failed with error: ",e,"url: ",r,"request:",n),e}))},t.prototype.Ui=function(t,e,n,i){return this.Mi(t,e,n,i)},t.prototype.Bi=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.3.1",t["Content-Type"]="text/plain",e)for(var n in e.authHeaders)e.authHeaders.hasOwnProperty(n)&&(t[n]=e.authHeaders[n])},t.prototype.Li=function(t,e){var n=uo[t];return this.Oi+"/v1/"+e+":"+n},t}());
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ho(){return"undefined"!=typeof window?window:null}function fo(){return"undefined"!=typeof document?document:null}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function po(t){return new on(t,!0)}var vo=function(){function t(t,e,n,i,r){void 0===n&&(n=1e3),void 0===i&&(i=1.5),void 0===r&&(r=6e4),this.Fe=t,this.timerId=e,this.Ki=n,this.Wi=i,this.ji=r,this.Gi=0,this.zi=null,this.Hi=Date.now(),this.reset()}return t.prototype.reset=function(){this.Gi=0},t.prototype.Ji=function(){this.Gi=this.ji},t.prototype.Yi=function(t){var e=this;this.cancel();var n=Math.floor(this.Gi+this.Xi()),i=Math.max(0,Date.now()-this.Hi),r=Math.max(0,n-i);r>0&&l("ExponentialBackoff","Backing off for "+r+" ms (base delay: "+this.Gi+" ms, delay with jitter: "+n+" ms, last attempt: "+i+" ms ago)"),this.zi=this.Fe.enqueueAfterDelay(this.timerId,r,(function(){return e.Hi=Date.now(),t()})),this.Gi*=this.Wi,this.Gi<this.Ki&&(this.Gi=this.Ki),this.Gi>this.ji&&(this.Gi=this.ji)},t.prototype.Zi=function(){null!==this.zi&&(this.zi.skipDelay(),this.zi=null)},t.prototype.cancel=function(){null!==this.zi&&(this.zi.cancel(),this.zi=null)},t.prototype.Xi=function(){return(Math.random()-.5)*this.Gi},t}(),go=function(){function t(t,e,n,i,r,o){this.Fe=t,this.tr=n,this.er=i,this.nr=r,this.listener=o,this.state=0,this.sr=0,this.ir=null,this.stream=null,this.rr=new vo(t,e)}return t.prototype.cr=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.ar=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.ur()},t.prototype.stop=function(){return Object(s.a)(this,void 0,void 0,(function(){return Object(s.c)(this,(function(t){switch(t.label){case 0:return this.cr()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},t.prototype.hr=function(){this.state=0,this.rr.reset()},t.prototype.lr=function(){var t=this;this.ar()&&null===this.ir&&(this.ir=this.Fe.enqueueAfterDelay(this.tr,6e4,(function(){return t.dr()})))},t.prototype.wr=function(t){this._r(),this.stream.send(t)},t.prototype.dr=function(){return Object(s.a)(this,void 0,void 0,(function(){return Object(s.c)(this,(function(t){return this.ar()?[2,this.close(0)]:[2]}))}))},t.prototype._r=function(){this.ir&&(this.ir.cancel(),this.ir=null)},t.prototype.close=function(t,e){return Object(s.a)(this,void 0,void 0,(function(){return Object(s.c)(this,(function(n){switch(n.label){case 0:return this._r(),this.rr.cancel(),this.sr++,3!==t?this.rr.reset():e&&e.code===C.RESOURCE_EXHAUSTED?(h(e.toString()),h("Using maximum backoff delay to prevent overloading the backend."),this.rr.Ji()):e&&e.code===C.UNAUTHENTICATED&&this.nr.invalidateToken(),null!==this.stream&&(this.mr(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Di(e)];case 1:return n.sent(),[2]}}))}))},t.prototype.mr=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.yr(this.sr),n=this.sr;this.nr.getToken().then((function(e){t.sr===n&&t.gr(e)}),(function(n){e((function(){var e=new A(C.UNKNOWN,"Fetching auth token failed: "+n.message);return t.pr(e)}))}))},t.prototype.gr=function(t){var e=this,n=this.yr(this.sr);this.stream=this.Er(t),this.stream.Vi((function(){n((function(){return e.state=2,e.listener.Vi()}))})),this.stream.Di((function(t){n((function(){return e.pr(t)}))})),this.stream.onMessage((function(t){n((function(){return e.onMessage(t)}))}))},t.prototype.ur=function(){var t=this;this.state=4,this.rr.Yi((function(){return Object(s.a)(t,void 0,void 0,(function(){return Object(s.c)(this,(function(t){return this.state=0,this.start(),[2]}))}))}))},t.prototype.pr=function(t){return l("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.yr=function(t){var e=this;return function(n){e.Fe.enqueueAndForget((function(){return e.sr===t?n():(l("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}},t}(),mo=function(t){function e(e,n,i,r,o){var s=this;return(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,i,o)||this).D=r,s}return Object(s.b)(e,t),e.prototype.Er=function(t){return this.er.Qi("Listen",t)},e.prototype.onMessage=function(t){this.rr.reset();var e=function(t,e){var n;if("targetChange"in e){e.targetChange;var i=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:p()}(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],o=function(t,e){return t.V?(v(void 0===e||"string"==typeof e),P.fromBase64String(e||"")):(v(void 0===e||e instanceof Uint8Array),P.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),s=(a=e.targetChange.cause)&&function(t){var e=void 0===t.code?C.UNKNOWN:xe(t.code);return new A(e,t.message||"")}(a);n=new Xe(i,r,o,s||null)}else if("documentChange"in e){e.documentChange,(i=e.documentChange).document,i.document.name,i.document.updateTime,r=dn(t,i.document.name),o=cn(i.document.updateTime);var a=new $t({mapValue:{fields:i.document.fields}}),u=(s=new nt(r,o,a,{}),i.targetIds||[]),c=i.removedTargetIds||[];n=new Qe(u,c,s.key,s)}else if("documentDelete"in e)e.documentDelete,(i=e.documentDelete).document,r=dn(t,i.document),o=i.readTime?cn(i.readTime):Ut.min(),a=new it(r,o),s=i.removedTargetIds||[],n=new Qe([],s,a.key,a);else if("documentRemove"in e)e.documentRemove,(i=e.documentRemove).document,r=dn(t,i.document),o=i.removedTargetIds||[],n=new Qe([],o,r,null);else{if(!("filter"in e))return p();e.filter;var l=e.filter;l.targetId,i=l.count||0,r=new Ce(i),o=l.targetId,n=new Ye(o,r)}return n}(this.D,t),n=function(t){if(!("targetChange"in t))return Ut.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?Ut.min():e.readTime?cn(e.readTime):Ut.min()}(t);return this.listener.Tr(e,n)},e.prototype.Ir=function(t){var e={};e.database=gn(this.D),e.addTarget=function(t,e){var n,i=e.target;return(n=ct(i)?{documents:En(t,i)}:{query:kn(t,i)}).targetId=e.targetId,e.resumeToken.approximateByteSize()>0?n.resumeToken=an(t,e.resumeToken):e.snapshotVersion.compareTo(Ut.min())>0&&(n.readTime=sn(t,e.snapshotVersion.toTimestamp())),n}(this.D,t);var n=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return p()}}(0,e.purpose);return null==n?null:{"goog-listen-tags":n}}(this.D,t);n&&(e.labels=n),this.wr(e)},e.prototype.Ar=function(t){var e={};e.database=gn(this.D),e.removeTarget=t,this.wr(e)},e}(go),yo=function(t){function e(e,n,i,r,o){var s=this;return(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,i,o)||this).D=r,s.Rr=!1,s}return Object(s.b)(e,t),Object.defineProperty(e.prototype,"br",{get:function(){return this.Rr},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.Rr=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.mr=function(){this.Rr&&this.vr([])},e.prototype.Er=function(t){return this.er.Qi("Write",t)},e.prototype.onMessage=function(t){if(v(!!t.streamToken),this.lastStreamToken=t.streamToken,this.Rr){this.rr.reset();var e=function(t,e){return t&&t.length>0?(v(void 0!==e),t.map((function(t){return function(t,e){var n=t.updateTime?cn(t.updateTime):cn(e);return n.isEqual(Ut.min())&&(n=cn(e)),new ce(n,t.transformResults||[])}(t,e)}))):[]}(t.writeResults,t.commitTime),n=cn(t.commitTime);return this.listener.Pr(n,e)}return v(!t.writeResults||0===t.writeResults.length),this.Rr=!0,this.listener.Vr()},e.prototype.Sr=function(){var t={};t.database=gn(this.D),this.wr(t)},e.prototype.vr=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map((function(t){return wn(e.D,t)}))};this.wr(n)},e}(go),bo=function(t){function e(e,n,i){var r=this;return(r=t.call(this)||this).credentials=e,r.er=n,r.D=i,r.Dr=!1,r}return Object(s.b)(e,t),e.prototype.Cr=function(){if(this.Dr)throw new A(C.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.Mi=function(t,e,n){var i=this;return this.Cr(),this.credentials.getToken().then((function(r){return i.er.Mi(t,e,n,r)})).catch((function(t){throw t.code===C.UNAUTHENTICATED&&i.credentials.invalidateToken(),t}))},e.prototype.Ui=function(t,e,n){var i=this;return this.Cr(),this.credentials.getToken().then((function(r){return i.er.Ui(t,e,n,r)})).catch((function(t){throw t.code===C.UNAUTHENTICATED&&i.credentials.invalidateToken(),t}))},e.prototype.terminate=function(){this.Dr=!1},e}((function(){})),wo=function(){function t(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.Nr=0,this.$r=null,this.Fr=!0}return t.prototype.Or=function(){var t=this;0===this.Nr&&(this.kr("Unknown"),this.$r=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return t.$r=null,t.Mr("Backend didn't respond within 10 seconds."),t.kr("Offline"),Promise.resolve()})))},t.prototype.Lr=function(t){"Online"===this.state?this.kr("Unknown"):(this.Nr++,this.Nr>=1&&(this.Br(),this.Mr("Connection failed 1 times. Most recent error: "+t.toString()),this.kr("Offline")))},t.prototype.set=function(t){this.Br(),this.Nr=0,"Online"===t&&(this.Fr=!1),this.kr(t)},t.prototype.kr=function(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))},t.prototype.Mr=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Fr?(h(e),this.Fr=!1):l("OnlineStateTracker",e)},t.prototype.Br=function(){null!==this.$r&&(this.$r.cancel(),this.$r=null)},t}(),_o=function(t,e,n,i,r){var o=this;this.localStore=t,this.datastore=e,this.asyncQueue=n,this.remoteSyncer={},this.qr=[],this.Ur=new Map,this.Qr=new Set,this.Kr=[],this.Wr=r,this.Wr.pi((function(t){n.enqueueAndForget((function(){return Object(s.a)(o,void 0,void 0,(function(){return Object(s.c)(this,(function(t){switch(t.label){case 0:return xo(this)?(l("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return Object(s.a)(this,void 0,void 0,(function(){var e;return Object(s.c)(this,(function(n){switch(n.label){case 0:return(e=g(t)).Qr.add(4),[4,ko(e)];case 1:return n.sent(),e.jr.set("Unknown"),e.Qr.delete(4),[4,Eo(e)];case 2:return n.sent(),[2]}}))}))}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}))})),this.jr=new wo(n,i)};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eo(t){return Object(s.a)(this,void 0,void 0,(function(){var e,n;return Object(s.c)(this,(function(i){switch(i.label){case 0:if(!xo(t))return[3,4];e=0,n=t.Kr,i.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:i.sent(),i.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}))}function ko(t){return Object(s.a)(this,void 0,void 0,(function(){var e,n;return Object(s.c)(this,(function(i){switch(i.label){case 0:e=0,n=t.Kr,i.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:i.sent(),i.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}))}function Io(t,e){var n=g(t);n.Ur.has(e.targetId)||(n.Ur.set(e.targetId,e),Ao(n)?Co(n):Wo(n).ar()&&Oo(n,e))}function To(t,e){var n=g(t),i=Wo(n);n.Ur.delete(e),i.ar()&&So(n,e),0===n.Ur.size&&(i.ar()?i.lr():xo(n)&&n.jr.set("Unknown"))}function Oo(t,e){t.Gr.H(e.targetId),Wo(t).Ir(e)}function So(t,e){t.Gr.H(e),Wo(t).Ar(e)}function Co(t){t.Gr=new Ze({getRemoteKeysForTarget:function(e){return t.remoteSyncer.getRemoteKeysForTarget(e)},yt:function(e){return t.Ur.get(e)||null}}),Wo(t).start(),t.jr.Or()}function Ao(t){return xo(t)&&!Wo(t).cr()&&t.Ur.size>0}function xo(t){return 0===g(t).Qr.size}function Do(t){t.Gr=void 0}function Mo(t){return Object(s.a)(this,void 0,void 0,(function(){return Object(s.c)(this,(function(e){return t.Ur.forEach((function(e,n){Oo(t,e)})),[2]}))}))}function Lo(t,e){return Object(s.a)(this,void 0,void 0,(function(){return Object(s.c)(this,(function(n){return Do(t),Ao(t)?(t.jr.Lr(e),Co(t)):t.jr.set("Unknown"),[2]}))}))}function No(t,e,n){return Object(s.a)(this,void 0,void 0,(function(){var i,r,o;return Object(s.c)(this,(function(a){switch(a.label){case 0:if(t.jr.set("Online"),!(e instanceof Xe&&2===e.state&&e.cause))return[3,6];a.label=1;case 1:return a.trys.push([1,3,,5]),[4,function(t,e){return Object(s.a)(this,void 0,void 0,(function(){var n,i,r,o;return Object(s.c)(this,(function(s){switch(s.label){case 0:n=e.cause,i=0,r=e.targetIds,s.label=1;case 1:return i<r.length?(o=r[i],t.Ur.has(o)?[4,t.remoteSyncer.rejectListen(o,n)]:[3,3]):[3,5];case 2:s.sent(),t.Ur.delete(o),t.Gr.removeTarget(o),s.label=3;case 3:s.label=4;case 4:return i++,[3,1];case 5:return[2]}}))}))}(t,e)];case 2:return a.sent(),[3,5];case 3:return i=a.sent(),l("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),[4,Po(t,i)];case 4:return a.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof Qe?t.Gr.st(e):e instanceof Ye?t.Gr.ht(e):t.Gr.ot(e),n.isEqual(Ut.min()))return[3,13];a.label=7;case 7:return a.trys.push([7,11,,13]),[4,Sr(t.localStore)];case 8:return r=a.sent(),n.compareTo(r)>=0?[4,function(t,e){var n=t.Gr.dt(e);return n.targetChanges.forEach((function(n,i){if(n.resumeToken.approximateByteSize()>0){var r=t.Ur.get(i);r&&t.Ur.set(i,r.withResumeToken(n.resumeToken,e))}})),n.targetMismatches.forEach((function(e){var n=t.Ur.get(e);if(n){t.Ur.set(e,n.withResumeToken(P.EMPTY_BYTE_STRING,n.snapshotVersion)),So(t,e);var i=new bi(n.target,e,1,n.sequenceNumber);Oo(t,i)}})),t.remoteSyncer.applyRemoteEvent(n)}(t,n)]:[3,10];case 9:a.sent(),a.label=10;case 10:return[3,13];case 11:return l("RemoteStore","Failed to raise snapshot:",o=a.sent()),[4,Po(t,o)];case 12:return a.sent(),[3,13];case 13:return[2]}}))}))}function Po(t,e,n){return Object(s.a)(this,void 0,void 0,(function(){var i=this;return Object(s.c)(this,(function(r){switch(r.label){case 0:if(!li(e))throw e;return t.Qr.add(1),[4,ko(t)];case 1:return r.sent(),t.jr.set("Offline"),n||(n=function(){return Sr(t.localStore)}),t.asyncQueue.enqueueRetryable((function(){return Object(s.a)(i,void 0,void 0,(function(){return Object(s.c)(this,(function(e){switch(e.label){case 0:return l("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.Qr.delete(1),[4,Eo(t)];case 2:return e.sent(),[2]}}))}))})),[2]}}))}))}function Ro(t,e){return e().catch((function(n){return Po(t,n,e)}))}function jo(t){return Object(s.a)(this,void 0,void 0,(function(){var e,n,i,r,o;return Object(s.c)(this,(function(s){switch(s.label){case 0:e=g(t),n=Ko(e),i=e.qr.length>0?e.qr[e.qr.length-1].batchId:-1,s.label=1;case 1:if(!function(t){return xo(t)&&t.qr.length<10}(e))return[3,7];s.label=2;case 2:return s.trys.push([2,4,,6]),[4,xr(e.localStore,i)];case 3:return null===(r=s.sent())?(0===e.qr.length&&n.lr(),[3,7]):(i=r.batchId,function(t,e){t.qr.push(e);var n=Ko(t);n.ar()&&n.br&&n.vr(e.mutations)}(e,r),[3,6]);case 4:return o=s.sent(),[4,Po(e,o)];case 5:return s.sent(),[3,6];case 6:return[3,1];case 7:return Bo(e)&&Fo(e),[2]}}))}))}function Bo(t){return xo(t)&&!Ko(t).cr()&&t.qr.length>0}function Fo(t){Ko(t).start()}function Vo(t){return Object(s.a)(this,void 0,void 0,(function(){return Object(s.c)(this,(function(e){return Ko(t).Sr(),[2]}))}))}function qo(t){return Object(s.a)(this,void 0,void 0,(function(){var e,n,i,r;return Object(s.c)(this,(function(o){for(e=Ko(t),n=0,i=t.qr;n<i.length;n++)r=i[n],e.vr(r.mutations);return[2]}))}))}function Uo(t,e,n){return Object(s.a)(this,void 0,void 0,(function(){var i,r;return Object(s.c)(this,(function(o){switch(o.label){case 0:return i=t.qr.shift(),r=yi.from(i,e,n),[4,Ro(t,(function(){return t.remoteSyncer.applySuccessfulWrite(r)}))];case 1:return o.sent(),[4,jo(t)];case 2:return o.sent(),[2]}}))}))}function Ho(t,e){return Object(s.a)(this,void 0,void 0,(function(){return Object(s.c)(this,(function(n){switch(n.label){case 0:return e&&Ko(t).br?[4,function(t,e){return Object(s.a)(this,void 0,void 0,(function(){var n,i;return Object(s.c)(this,(function(r){switch(r.label){case 0:return Ae(i=e.code)&&i!==C.ABORTED?(n=t.qr.shift(),Ko(t).hr(),[4,Ro(t,(function(){return t.remoteSyncer.rejectFailedWrite(n.batchId,e)}))]):[3,3];case 1:return r.sent(),[4,jo(t)];case 2:r.sent(),r.label=3;case 3:return[2]}}))}))}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return Bo(t)&&Fo(t),[2]}}))}))}function $o(t,e){return Object(s.a)(this,void 0,void 0,(function(){var n;return Object(s.c)(this,(function(i){switch(i.label){case 0:return n=g(t),e?(n.Qr.delete(2),[4,Eo(n)]):[3,2];case 1:return i.sent(),[3,5];case 2:return e?[3,4]:(n.Qr.add(2),[4,ko(n)]);case 3:i.sent(),n.jr.set("Unknown"),i.label=4;case 4:i.label=5;case 5:return[2]}}))}))}function Wo(t){var e=this;return t.zr||(t.zr=function(t,e,n){var i=g(t);return i.Cr(),new mo(e,i.er,i.credentials,i.D,n)}(t.datastore,t.asyncQueue,{Vi:Mo.bind(null,t),Di:Lo.bind(null,t),Tr:No.bind(null,t)}),t.Kr.push((function(n){return Object(s.a)(e,void 0,void 0,(function(){return Object(s.c)(this,(function(e){switch(e.label){case 0:return n?(t.zr.hr(),Ao(t)?Co(t):t.jr.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.zr.stop()];case 2:e.sent(),Do(t),e.label=3;case 3:return[2]}}))}))}))),t.zr}function Ko(t){var e=this;return t.Hr||(t.Hr=function(t,e,n){var i=g(t);return i.Cr(),new yo(e,i.er,i.credentials,i.D,n)}(t.datastore,t.asyncQueue,{Vi:Vo.bind(null,t),Di:Ho.bind(null,t),Vr:qo.bind(null,t),Pr:Uo.bind(null,t)}),t.Kr.push((function(n){return Object(s.a)(e,void 0,void 0,(function(){return Object(s.c)(this,(function(e){switch(e.label){case 0:return n?(t.Hr.hr(),[4,jo(t)]):[3,2];case 1:return e.sent(),[3,4];case 2:return[4,t.Hr.stop()];case 3:e.sent(),t.qr.length>0&&(l("RemoteStore","Stopping write stream with "+t.qr.length+" pending writes"),t.qr=[]),e.label=4;case 4:return[2]}}))}))}))),t.Hr
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}var zo=function(){function t(t,e,n,i,r){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=n,this.op=i,this.removalCallback=r,this.deferred=new ri,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(t){}))}return t.createAndSchedule=function(e,n,i,r,o){var s=new t(e,n,Date.now()+i,r,o);return s.start(i),s},t.prototype.start=function(t){var e=this;this.timerHandle=setTimeout((function(){return e.handleDelayElapsed()}),t)},t.prototype.skipDelay=function(){return this.handleDelayElapsed()},t.prototype.cancel=function(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new A(C.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.handleDelayElapsed=function(){var t=this;this.asyncQueue.enqueueAndForget((function(){return null!==t.timerHandle?(t.clearTimeout(),t.op().then((function(e){return t.deferred.resolve(e)}))):Promise.resolve()}))},t.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},t}();function Go(t,e){if(h("AsyncQueue",e+": "+t),li(t))return new A(C.UNAVAILABLE,e+": "+t);throw t}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qo=function(){function t(t){this.comparator=t?function(e,n){return t(e,n)||N.comparator(e.key,n.key)}:function(t,e){return N.comparator(t.key,e.key)},this.keyedMap=Ve(),this.sortedSet=new De(this.comparator)}return t.emptySet=function(e){return new t(e.comparator)},t.prototype.has=function(t){return null!=this.keyedMap.get(t)},t.prototype.get=function(t){return this.keyedMap.get(t)},t.prototype.first=function(){return this.sortedSet.minKey()},t.prototype.last=function(){return this.sortedSet.maxKey()},t.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},t.prototype.indexOf=function(t){var e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.sortedSet.inorderTraversal((function(e,n){return t(e),!1}))},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();n.hasNext();){var r=n.getNext().key,o=i.getNext().key;if(!r.isEqual(o))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach((function(e){t.push(e.toString())})),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var i=new t;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i},t}(),Yo=function(){function t(){this.Jr=new De(N.comparator)}return t.prototype.track=function(t){var e=t.doc.key,n=this.Jr.get(e);n?0!==t.type&&3===n.type?this.Jr=this.Jr.insert(e,t):3===t.type&&1!==n.type?this.Jr=this.Jr.insert(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.Jr=this.Jr.insert(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.Jr=this.Jr.insert(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.Jr=this.Jr.remove(e):1===t.type&&2===n.type?this.Jr=this.Jr.insert(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.Jr=this.Jr.insert(e,{type:2,doc:t.doc}):p():this.Jr=this.Jr.insert(e,t)},t.prototype.Yr=function(){var t=[];return this.Jr.inorderTraversal((function(e,n){t.push(n)})),t},t}(),Xo=function(){function t(t,e,n,i,r,o,s,a){this.query=t,this.docs=e,this.oldDocs=n,this.docChanges=i,this.mutatedKeys=r,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=a}return t.fromInitialDocuments=function(e,n,i,r){var o=[];return n.forEach((function(t){o.push({type:0,doc:t})})),new t(e,n,Qo.emptySet(n),o,i,r,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Rt(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var i=0;i<e.length;i++)if(e[i].type!==n[i].type||!e[i].doc.isEqual(n[i].doc))return!1;return!0},t}(),Jo=function(){this.Xr=void 0,this.listeners=[]},Zo=function(){this.queries=new or((function(t){return jt(t)}),Rt),this.onlineState="Unknown",this.Zr=new Set};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ts(t,e){return Object(s.a)(this,void 0,void 0,(function(){var n,i,r,o,a,u,c;return Object(s.c)(this,(function(s){switch(s.label){case 0:if(n=g(t),i=e.query,r=!1,(o=n.queries.get(i))||(r=!0,o=new Jo),!r)return[3,4];s.label=1;case 1:return s.trys.push([1,3,,4]),a=o,[4,n.onListen(i)];case 2:return a.Xr=s.sent(),[3,4];case 3:return u=s.sent(),c=Go(u,"Initialization of query '"+Bt(e.query)+"' failed"),[2,void e.onError(c)];case 4:return n.queries.set(i,o),o.listeners.push(e),e.eo(n.onlineState),o.Xr&&e.no(o.Xr)&&rs(n),[2]}}))}))}function es(t,e){return Object(s.a)(this,void 0,void 0,(function(){var n,i,r,o,a;return Object(s.c)(this,(function(s){return n=g(t),i=e.query,r=!1,(o=n.queries.get(i))&&(a=o.listeners.indexOf(e))>=0&&(o.listeners.splice(a,1),r=0===o.listeners.length),r?[2,(n.queries.delete(i),n.onUnlisten(i))]:[2]}))}))}function ns(t,e){for(var n=g(t),i=!1,r=0,o=e;r<o.length;r++){var s=o[r],a=s.query,u=n.queries.get(a);if(u){for(var c=0,l=u.listeners;c<l.length;c++)l[c].no(s)&&(i=!0);u.Xr=s}}i&&rs(n)}function is(t,e,n){var i=g(t),r=i.queries.get(e);if(r)for(var o=0,s=r.listeners;o<s.length;o++)s[o].onError(n);i.queries.delete(e)}function rs(t){t.Zr.forEach((function(t){t.next()}))}var os=function(){function t(t,e,n){this.query=t,this.so=e,this.io=!1,this.ro=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.no=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,i=t.docChanges;n<i.length;n++){var r=i[n];3!==r.type&&e.push(r)}t=new Xo(t.query,t.docs,t.oldDocs,e,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}var o=!1;return this.io?this.oo(t)&&(this.so.next(t),o=!0):this.co(t,this.onlineState)&&(this.ao(t),o=!0),this.ro=t,o},t.prototype.onError=function(t){this.so.error(t)},t.prototype.eo=function(t){this.onlineState=t;var e=!1;return this.ro&&!this.io&&this.co(this.ro,t)&&(this.ao(this.ro),e=!0),e},t.prototype.co=function(t,e){if(!t.fromCache)return!0;var n="Offline"!==e;return!(this.options.uo&&n||t.docs.isEmpty()&&"Offline"!==e)},t.prototype.oo=function(t){if(t.docChanges.length>0)return!0;var e=this.ro&&this.ro.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&!0===this.options.includeMetadataChanges},t.prototype.ao=function(t){t=Xo.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.io=!0,this.so.next(t)},t}(),ss=function(){function t(t,e){this.payload=t,this.byteLength=e}return t.prototype.ho=function(){return"metadata"in this.payload},t}(),as=function(){function t(t){this.D=t}return t.prototype.Gn=function(t){return dn(this.D,t)},t.prototype.zn=function(t){return t.metadata.exists?bn(this.D,t.document,!1):new it(this.Gn(t.metadata.name),this.Hn(t.metadata.readTime))},t.prototype.Hn=function(t){return cn(t)},t}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */!function(){function t(t,e,n){this.lo=t,this.localStore=e,this.D=n,this.queries=[],this.documents=[],this.progress=us(t)}t.prototype.fo=function(t){this.progress.bytesLoaded+=t.byteLength;var e=this.progress.documentsLoaded;return t.payload.namedQuery?this.queries.push(t.payload.namedQuery):t.payload.documentMetadata?(this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e):t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e),e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null},t.prototype.wo=function(t){for(var e=new Map,n=new as(this.D),i=0,r=t;i<r.length;i++){var o=r[i];if(o.metadata.queries)for(var s=n.Gn(o.metadata.name),a=0,u=o.metadata.queries;a<u.length;a++){var c=u[a],l=(e.get(c)||$e()).add(s);e.set(c,l)}}return e},t.prototype.complete=function(){return Object(s.a)(this,void 0,void 0,(function(){var t,e,n,i,r;return Object(s.c)(this,(function(o){switch(o.label){case 0:return[4,jr(this.localStore,new as(this.D),this.documents,this.lo.id)];case 1:t=o.sent(),e=this.wo(this.documents),n=0,i=this.queries,o.label=2;case 2:return n<i.length?(r=i[n],[4,Br(this.localStore,r,e.get(r.name))]):[3,5];case 3:o.sent(),o.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new br(Object.assign({},this.progress),t))]}}))}))}}();function us(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var cs=function(t){this.key=t},ls=function(t){this.key=t},hs=function(){function t(t,e){this.query=t,this._o=e,this.mo=null,this.current=!1,this.yo=$e(),this.mutatedKeys=$e(),this.po=Vt(t),this.Eo=new Qo(this.po)}return Object.defineProperty(t.prototype,"To",{get:function(){return this._o},enumerable:!1,configurable:!0}),t.prototype.Io=function(t,e){var n=this,i=e?e.Ao:new Yo,r=e?e.Eo:this.Eo,o=e?e.mutatedKeys:this.mutatedKeys,s=r,a=!1,u=Ct(this.query)&&r.size===this.query.limit?r.last():null,c=At(this.query)&&r.size===this.query.limit?r.first():null;if(t.inorderTraversal((function(t,e){var l=r.get(t),h=e instanceof nt?e:null;h&&(h=Ft(n.query,h)?h:null);var f=!!l&&n.mutatedKeys.has(l.key),d=!!h&&(h.hasLocalMutations||n.mutatedKeys.has(h.key)&&h.hasCommittedMutations),p=!1;l&&h?l.data().isEqual(h.data())?f!==d&&(i.track({type:3,doc:h}),p=!0):n.Ro(l,h)||(i.track({type:2,doc:h}),p=!0,(u&&n.po(h,u)>0||c&&n.po(h,c)<0)&&(a=!0)):!l&&h?(i.track({type:0,doc:h}),p=!0):l&&!h&&(i.track({type:1,doc:l}),p=!0,(u||c)&&(a=!0)),p&&(h?(s=s.add(h),o=d?o.add(t):o.delete(t)):(s=s.delete(t),o=o.delete(t)))})),Ct(this.query)||At(this.query))for(;s.size>this.query.limit;){var l=Ct(this.query)?s.last():s.first();s=s.delete(l.key),o=o.delete(l.key),i.track({type:1,doc:l})}return{Eo:s,Ao:i,Mn:a,mutatedKeys:o}},t.prototype.Ro=function(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations},t.prototype.applyChanges=function(t,e,n){var i=this,r=this.Eo;this.Eo=t.Eo,this.mutatedKeys=t.mutatedKeys;var o=t.Ao.Yr();o.sort((function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return p()}};return n(t)-n(e)}(t.type,e.type)||i.po(t.doc,e.doc)})),this.bo(n);var s=e?this.vo():[],a=0===this.yo.size&&this.current?1:0,u=a!==this.mo;return this.mo=a,0!==o.length||u?{snapshot:new Xo(this.query,t.Eo,r,o,t.mutatedKeys,0===a,u,!1),Po:s}:{Po:s}},t.prototype.eo=function(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({Eo:this.Eo,Ao:new Yo,mutatedKeys:this.mutatedKeys,Mn:!1},!1)):{Po:[]}},t.prototype.Vo=function(t){return!this._o.has(t)&&!!this.Eo.has(t)&&!this.Eo.get(t).hasLocalMutations},t.prototype.bo=function(t){var e=this;t&&(t.addedDocuments.forEach((function(t){return e._o=e._o.add(t)})),t.modifiedDocuments.forEach((function(t){})),t.removedDocuments.forEach((function(t){return e._o=e._o.delete(t)})),this.current=t.current)},t.prototype.vo=function(){var t=this;if(!this.current)return[];var e=this.yo;this.yo=$e(),this.Eo.forEach((function(e){t.Vo(e.key)&&(t.yo=t.yo.add(e.key))}));var n=[];return e.forEach((function(e){t.yo.has(e)||n.push(new ls(e))})),this.yo.forEach((function(t){e.has(t)||n.push(new cs(t))})),n},t.prototype.So=function(t){this._o=t.jn,this.yo=$e();var e=this.Io(t.documents);return this.applyChanges(e,!0)},t.prototype.Do=function(){return Xo.fromInitialDocuments(this.query,this.Eo,this.mutatedKeys,0===this.mo)},t}(),fs=function(t,e,n){this.query=t,this.targetId=e,this.view=n},ds=function(t){this.key=t,this.Co=!1},ps=function(){function t(t,e,n,i,r,o){this.localStore=t,this.remoteStore=e,this.eventManager=n,this.sharedClientState=i,this.currentUser=r,this.maxConcurrentLimboResolutions=o,this.xo={},this.No=new or((function(t){return jt(t)}),Rt),this.$o=new Map,this.Fo=new Set,this.Oo=new De(N.comparator),this.ko=new Map,this.Mo=new Vr,this.Lo={},this.Bo=new Map,this.qo=zi.ne(),this.onlineState="Unknown",this.Uo=void 0}return Object.defineProperty(t.prototype,"isPrimaryClient",{get:function(){return!0===this.Uo},enumerable:!1,configurable:!0}),t}();function vs(t,e){return Object(s.a)(this,void 0,void 0,(function(){var n,i,r,o,a,u;return Object(s.c)(this,(function(s){switch(s.label){case 0:return n=$s(t),(o=n.No.get(e))?(i=o.targetId,n.sharedClientState.addLocalQueryTarget(i),r=o.view.Do(),[3,4]):[3,1];case 1:return[4,Dr(n.localStore,Nt(e))];case 2:return a=s.sent(),u=n.sharedClientState.addLocalQueryTarget(a.targetId),i=a.targetId,[4,gs(n,e,i,"current"===u)];case 3:r=s.sent(),n.isPrimaryClient&&Io(n.remoteStore,a),s.label=4;case 4:return[2,r]}}))}))}function gs(t,e,n,i){return Object(s.a)(this,void 0,void 0,(function(){var r,o,a,u,c,l;return Object(s.c)(this,(function(h){switch(h.label){case 0:return t.Qo=function(e,n,i){return function(t,e,n,i){return Object(s.a)(this,void 0,void 0,(function(){var r,o,a;return Object(s.c)(this,(function(s){switch(s.label){case 0:return(r=e.view.Io(n)).Mn?[4,Lr(t.localStore,e.query,!1).then((function(t){var n=t.documents;return e.view.Io(n,r)}))]:[3,2];case 1:r=s.sent(),s.label=2;case 2:return o=i&&i.targetChanges.get(e.targetId),a=e.view.applyChanges(r,t.isPrimaryClient,o),[2,(As(t,e.targetId,a.Po),a.snapshot)]}}))}))}(t,e,n,i)},[4,Lr(t.localStore,e,!0)];case 1:return r=h.sent(),o=new hs(e,r.jn),a=o.Io(r.documents),u=Ge.createSynthesizedTargetChangeForCurrentChange(n,i&&"Offline"!==t.onlineState),c=o.applyChanges(a,t.isPrimaryClient,u),As(t,n,c.Po),l=new fs(e,n,o),[2,(t.No.set(e,l),t.$o.has(n)?t.$o.get(n).push(e):t.$o.set(n,[e]),c.snapshot)]}}))}))}function ms(t,e){return Object(s.a)(this,void 0,void 0,(function(){var n,i,r;return Object(s.c)(this,(function(o){switch(o.label){case 0:return n=g(t),i=n.No.get(e),(r=n.$o.get(i.targetId)).length>1?[2,(n.$o.set(i.targetId,r.filter((function(t){return!Rt(t,e)}))),void n.No.delete(e))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)?[3,2]:[4,Mr(n.localStore,i.targetId,!1).then((function(){n.sharedClientState.clearQueryState(i.targetId),To(n.remoteStore,i.targetId),Ss(n,i.targetId)})).catch(Ji)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return Ss(n,i.targetId),[4,Mr(n.localStore,i.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}}))}))}function ys(t,e,n){return Object(s.a)(this,void 0,void 0,(function(){var i,r,o,a;return Object(s.c)(this,(function(s){switch(s.label){case 0:i=Ws(t),s.label=1;case 1:return s.trys.push([1,5,,6]),[4,function(t,e){var n,i=g(t),r=V.now(),o=e.reduce((function(t,e){return t.add(e.key)}),$e());return i.persistence.runTransaction("Locally write mutations","readwrite",(function(t){return i.Kn.bn(t,o).next((function(o){n=o;for(var s=[],a=0,u=e;a<u.length;a++){var c=u[a],l=ve(c,n.get(c.key));null!=l&&s.push(new be(c.key,l,Kt(l.proto.mapValue),le.exists(!0)))}return i.Tn.addMutationBatch(t,r,s,e)}))})).then((function(t){var e=t.applyToLocalDocumentSet(n);return{batchId:t.batchId,changes:e}}))}(i.localStore,e)];case 2:return r=s.sent(),i.sharedClientState.addPendingMutation(r.batchId),function(t,e,n){var i=t.Lo[t.currentUser.toKey()];i||(i=new De(b)),i=i.insert(e,n),t.Lo[t.currentUser.toKey()]=i}(i,r.batchId,n),[4,Ms(i,r.changes)];case 3:return s.sent(),[4,jo(i.remoteStore)];case 4:return s.sent(),[3,6];case 5:return o=s.sent(),a=Go(o,"Failed to persist write"),n.reject(a),[3,6];case 6:return[2]}}))}))}function bs(t,e){return Object(s.a)(this,void 0,void 0,(function(){var n,i;return Object(s.c)(this,(function(r){switch(r.label){case 0:n=g(t),r.label=1;case 1:return r.trys.push([1,4,,6]),[4,Cr(n.localStore,e)];case 2:return i=r.sent(),e.targetChanges.forEach((function(t,e){var i=n.ko.get(e);i&&(v(t.addedDocuments.size+t.modifiedDocuments.size+t.removedDocuments.size<=1),t.addedDocuments.size>0?i.Co=!0:t.modifiedDocuments.size>0?v(i.Co):t.removedDocuments.size>0&&(v(i.Co),i.Co=!1))})),[4,Ms(n,i,e)];case 3:return r.sent(),[3,6];case 4:return[4,Ji(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}}))}))}function ws(t,e,n){var i=g(t);if(i.isPrimaryClient&&0===n||!i.isPrimaryClient&&1===n){var r=[];i.No.forEach((function(t,n){var i=n.view.eo(e);i.snapshot&&r.push(i.snapshot)})),function(t,e){var n=g(t);n.onlineState=e;var i=!1;n.queries.forEach((function(t,n){for(var r=0,o=n.listeners;r<o.length;r++)o[r].eo(e)&&(i=!0)})),i&&rs(n)}(i.eventManager,e),r.length&&i.xo.Tr(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}function _s(t,e,n){return Object(s.a)(this,void 0,void 0,(function(){var i,r,o,a,u,c;return Object(s.c)(this,(function(s){switch(s.label){case 0:return(i=g(t)).sharedClientState.updateQueryState(e,"rejected",n),r=i.ko.get(e),(o=r&&r.key)?(a=(a=new De(N.comparator)).insert(o,new it(o,Ut.min())),u=$e().add(o),c=new ze(Ut.min(),new Map,new Ne(b),a,u),[4,bs(i,c)]):[3,2];case 1:return s.sent(),i.Oo=i.Oo.remove(o),i.ko.delete(e),Ds(i),[3,4];case 2:return[4,Mr(i.localStore,e,!1).then((function(){return Ss(i,e,n)})).catch(Ji)];case 3:s.sent(),s.label=4;case 4:return[2]}}))}))}function Es(t,e){return Object(s.a)(this,void 0,void 0,(function(){var n,i,r;return Object(s.c)(this,(function(o){switch(o.label){case 0:n=g(t),i=e.batch.batchId,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,Or(n.localStore,e)];case 2:return r=o.sent(),Os(n,i,null),Ts(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),[4,Ms(n,r)];case 3:return o.sent(),[3,6];case 4:return[4,Ji(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}}))}))}function ks(t,e,n){return Object(s.a)(this,void 0,void 0,(function(){var i,r;return Object(s.c)(this,(function(o){switch(o.label){case 0:i=g(t),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,function(t,e){var n=g(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(t){var i;return n.Tn.lookupMutationBatch(t,e).next((function(e){return v(null!==e),i=e.keys(),n.Tn.removeMutationBatch(t,e)})).next((function(){return n.Tn.performConsistencyCheck(t)})).next((function(){return n.Kn.bn(t,i)}))}))}(i.localStore,e)];case 2:return r=o.sent(),Os(i,e,n),Ts(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),[4,Ms(i,r)];case 3:return o.sent(),[3,6];case 4:return[4,Ji(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}}))}))}function Is(t,e){return Object(s.a)(this,void 0,void 0,(function(){var n,i,r,o,a;return Object(s.c)(this,(function(s){switch(s.label){case 0:xo((n=g(t)).remoteStore)||l("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),s.label=1;case 1:return s.trys.push([1,3,,4]),[4,function(t){var e=g(t);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(t){return e.Tn.getHighestUnacknowledgedBatchId(t)}))}(n.localStore)];case 2:return-1===(i=s.sent())?[2,void e.resolve()]:((r=n.Bo.get(i)||[]).push(e),n.Bo.set(i,r),[3,4]);case 3:return o=s.sent(),a=Go(o,"Initialization of waitForPendingWrites() operation failed"),e.reject(a),[3,4];case 4:return[2]}}))}))}function Ts(t,e){(t.Bo.get(e)||[]).forEach((function(t){t.resolve()})),t.Bo.delete(e)}function Os(t,e,n){var i=g(t),r=i.Lo[i.currentUser.toKey()];if(r){var o=r.get(e);o&&(n?o.reject(n):o.resolve(),r=r.remove(e)),i.Lo[i.currentUser.toKey()]=r}}function Ss(t,e,n){void 0===n&&(n=null),t.sharedClientState.removeLocalQueryTarget(e);for(var i=0,r=t.$o.get(e);i<r.length;i++){var o=r[i];t.No.delete(o),n&&t.xo.Ko(o,n)}t.$o.delete(e),t.isPrimaryClient&&t.Mo.os(e).forEach((function(e){t.Mo.containsKey(e)||Cs(t,e)}))}function Cs(t,e){t.Fo.delete(e.path.canonicalString());var n=t.Oo.get(e);null!==n&&(To(t.remoteStore,n),t.Oo=t.Oo.remove(e),t.ko.delete(n),Ds(t))}function As(t,e,n){for(var i=0,r=n;i<r.length;i++){var o=r[i];o instanceof cs?(t.Mo.addReference(o.key,e),xs(t,o)):o instanceof ls?(l("SyncEngine","Document no longer in limbo: "+o.key),t.Mo.removeReference(o.key,e),t.Mo.containsKey(o.key)||Cs(t,o.key)):p()}}function xs(t,e){var n=e.key,i=n.path.canonicalString();t.Oo.get(n)||t.Fo.has(i)||(l("SyncEngine","New document in limbo: "+n),t.Fo.add(i),Ds(t))}function Ds(t){for(;t.Fo.size>0&&t.Oo.size<t.maxConcurrentLimboResolutions;){var e=t.Fo.values().next().value;t.Fo.delete(e);var n=new N(D.fromString(e)),i=t.qo.next();t.ko.set(i,new ds(n)),t.Oo=t.Oo.insert(n,i),Io(t.remoteStore,new bi(Nt(St(n.path)),i,2,a.o))}}function Ms(t,e,n){return Object(s.a)(this,void 0,void 0,(function(){var i,r,o,a;return Object(s.c)(this,(function(u){switch(u.label){case 0:return i=g(t),r=[],o=[],a=[],i.No.isEmpty()?[3,3]:(i.No.forEach((function(t,s){a.push(i.Qo(s,e,n).then((function(t){if(t){i.isPrimaryClient&&i.sharedClientState.updateQueryState(s.targetId,t.fromCache?"not-current":"current"),r.push(t);var e=_r.Nn(s.targetId,t);o.push(e)}})))})),[4,Promise.all(a)]);case 1:return u.sent(),i.xo.Tr(r),[4,function(t,e){return Object(s.a)(this,void 0,void 0,(function(){var n,i,r,o,a,u,c,h,f;return Object(s.c)(this,(function(s){switch(s.label){case 0:n=g(t),s.label=1;case 1:return s.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(t){return oi.forEach(e,(function(e){return oi.forEach(e.Cn,(function(i){return n.persistence.referenceDelegate.addReference(t,e.targetId,i)})).next((function(){return oi.forEach(e.xn,(function(i){return n.persistence.referenceDelegate.removeReference(t,e.targetId,i)}))}))}))}))];case 2:return s.sent(),[3,4];case 3:if(!li(i=s.sent()))throw i;return l("LocalStore","Failed to update sequence numbers: "+i),[3,4];case 4:for(r=0,o=e;r<o.length;r++)a=o[r],u=a.targetId,a.fromCache||(c=n.Bn.get(u),h=c.snapshotVersion,f=c.withLastLimboFreeSnapshotVersion(h),n.Bn=n.Bn.insert(u,f));return[2]}}))}))}(i.localStore,o)];case 2:u.sent(),u.label=3;case 3:return[2]}}))}))}function Ls(t,e){return Object(s.a)(this,void 0,void 0,(function(){var n,i;return Object(s.c)(this,(function(r){switch(r.label){case 0:return(n=g(t)).currentUser.isEqual(e)?[3,3]:(l("SyncEngine","User change. New user:",e.toKey()),[4,Tr(n.localStore,e)]);case 1:return i=r.sent(),n.currentUser=e,function(t,e){t.Bo.forEach((function(t){t.forEach((function(t){t.reject(new A(C.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),t.Bo.clear()}(n),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),[4,Ms(n,i.Wn)];case 2:r.sent(),r.label=3;case 3:return[2]}}))}))}function Ns(t,e){var n=g(t),i=n.ko.get(e);if(i&&i.Co)return $e().add(i.key);var r=$e(),o=n.$o.get(e);if(!o)return r;for(var s=0,a=o;s<a.length;s++){var u=a[s],c=n.No.get(u);r=r.unionWith(c.view.To)}return r}function Ps(t,e){return Object(s.a)(this,void 0,void 0,(function(){var n,i,r;return Object(s.c)(this,(function(o){switch(o.label){case 0:return[4,Lr((n=g(t)).localStore,e.query,!0)];case 1:return i=o.sent(),r=e.view.So(i),[2,(n.isPrimaryClient&&As(n,e.targetId,r.Po),r)]}}))}))}function Rs(t){return Object(s.a)(this,void 0,void 0,(function(){var e;return Object(s.c)(this,(function(n){return[2,Pr((e=g(t)).localStore).then((function(t){return Ms(e,t)}))]}))}))}function js(t,e,n,i){return Object(s.a)(this,void 0,void 0,(function(){var r,o;return Object(s.c)(this,(function(s){switch(s.label){case 0:return[4,function(t,e){var n=g(t),i=g(n.Tn);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(t){return i.Jt(t,e).next((function(e){return e?n.Kn.bn(t,e):oi.resolve(null)}))}))}((r=g(t)).localStore,e)];case 1:return null===(o=s.sent())?[3,6]:"pending"!==n?[3,3]:[4,jo(r.remoteStore)];case 2:return s.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(Os(r,e,i||null),Ts(r,e),function(t,e){g(g(t).Tn).Xt(e)}(r.localStore,e)):p(),s.label=4;case 4:return[4,Ms(r,o)];case 5:return s.sent(),[3,7];case 6:l("SyncEngine","Cannot apply mutation batch with id: "+e),s.label=7;case 7:return[2]}}))}))}function Bs(t,e){return Object(s.a)(this,void 0,void 0,(function(){var n,i,r,o,a,u,c,l;return Object(s.c)(this,(function(s){switch(s.label){case 0:return $s(n=g(t)),Ws(n),!0!==e||!0===n.Uo?[3,3]:(i=n.sharedClientState.getAllActiveQueryTargets(),[4,Fs(n,i.toArray())]);case 1:return r=s.sent(),n.Uo=!0,[4,$o(n.remoteStore,!0)];case 2:for(s.sent(),o=0,a=r;o<a.length;o++)u=a[o],Io(n.remoteStore,u);return[3,7];case 3:return!1!==e||!1===n.Uo?[3,7]:(c=[],l=Promise.resolve(),n.$o.forEach((function(t,e){n.sharedClientState.isLocalQueryTarget(e)?c.push(e):l=l.then((function(){return Ss(n,e),Mr(n.localStore,e,!0)})),To(n.remoteStore,e)})),[4,l]);case 4:return s.sent(),[4,Fs(n,c)];case 5:return s.sent(),function(t){var e=g(t);e.ko.forEach((function(t,n){To(e.remoteStore,n)})),e.Mo.cs(),e.ko=new Map,e.Oo=new De(N.comparator)}(n),n.Uo=!1,[4,$o(n.remoteStore,!1)];case 6:s.sent(),s.label=7;case 7:return[2]}}))}))}function Fs(t,e,n){return Object(s.a)(this,void 0,void 0,(function(){var n,i,r,o,a,u,c,l,h,f,d,p,v,m;return Object(s.c)(this,(function(s){switch(s.label){case 0:n=g(t),i=[],r=[],o=0,a=e,s.label=1;case 1:return o<a.length?(u=a[o],c=void 0,(l=n.$o.get(u))&&0!==l.length?[4,Dr(n.localStore,Nt(l[0]))]:[3,7]):[3,13];case 2:c=s.sent(),h=0,f=l,s.label=3;case 3:return h<f.length?(d=f[h],p=n.No.get(d),[4,Ps(n,p)]):[3,6];case 4:(v=s.sent()).snapshot&&r.push(v.snapshot),s.label=5;case 5:return h++,[3,3];case 6:return[3,11];case 7:return[4,Nr(n.localStore,u)];case 8:return m=s.sent(),[4,Dr(n.localStore,m)];case 9:return c=s.sent(),[4,gs(n,Vs(m),u,!1)];case 10:s.sent(),s.label=11;case 11:i.push(c),s.label=12;case 12:return o++,[3,1];case 13:return[2,(n.xo.Tr(r),i)]}}))}))}function Vs(t){return Ot(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function qs(t){var e=g(t);return g(g(e.localStore).persistence).gn()}function Us(t,e,n,i){return Object(s.a)(this,void 0,void 0,(function(){var r,o,a;return Object(s.c)(this,(function(s){switch(s.label){case 0:return(r=g(t)).Uo?(l("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!r.$o.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,Pr(r.localStore)];case 3:return o=s.sent(),a=ze.createSynthesizedRemoteEventForCurrentChange(e,"current"===n),[4,Ms(r,o,a)];case 4:return s.sent(),[3,8];case 5:return[4,Mr(r.localStore,e,!0)];case 6:return s.sent(),Ss(r,e,i),[3,8];case 7:p(),s.label=8;case 8:return[2]}}))}))}function Hs(t,e,n){return Object(s.a)(this,void 0,void 0,(function(){var i,r,o,a,u,c,h,f,d,p;return Object(s.c)(this,(function(v){switch(v.label){case 0:if(!(i=$s(t)).Uo)return[3,10];r=0,o=e,v.label=1;case 1:return r<o.length?(a=o[r],i.$o.has(a)?(l("SyncEngine","Adding an already active target "+a),[3,5]):[4,Nr(i.localStore,a)]):[3,6];case 2:return u=v.sent(),[4,Dr(i.localStore,u)];case 3:return c=v.sent(),[4,gs(i,Vs(u),c.targetId,!1)];case 4:v.sent(),Io(i.remoteStore,c),v.label=5;case 5:return r++,[3,1];case 6:h=function(t){return Object(s.c)(this,(function(e){switch(e.label){case 0:return i.$o.has(t)?[4,Mr(i.localStore,t,!1).then((function(){To(i.remoteStore,t),Ss(i,t)})).catch(Ji)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))},f=0,d=n,v.label=7;case 7:return f<d.length?(p=d[f],[5,h(p)]):[3,10];case 8:v.sent(),v.label=9;case 9:return f++,[3,7];case 10:return[2]}}))}))}function $s(t){var e=g(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=bs.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Ns.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=_s.bind(null,e),e.xo.Tr=ns.bind(null,e.eventManager),e.xo.Ko=is.bind(null,e.eventManager),e}function Ws(t){var e=g(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Es.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=ks.bind(null,e),e}var Ks=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(t){return Object(s.a)(this,void 0,void 0,(function(){return Object(s.c)(this,(function(e){switch(e.label){case 0:return this.D=po(t.databaseInfo.databaseId),this.sharedClientState=this.jo(t),this.persistence=this.Go(t),[4,this.persistence.start()];case 1:return e.sent(),this.gcScheduler=this.zo(t),this.localStore=this.Ho(t),[2]}}))}))},t.prototype.zo=function(t){return null},t.prototype.Ho=function(t){return Ir(this.persistence,new Er,t.initialUser,this.D)},t.prototype.Go=function(t){return new Kr(Gr.Cs,this.D)},t.prototype.jo=function(t){return new oo},t.prototype.terminate=function(){return Object(s.a)(this,void 0,void 0,(function(){return Object(s.c)(this,(function(t){switch(t.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return t.sent(),[4,this.persistence.shutdown()];case 2:return t.sent(),[2]}}))}))},t}(),zs=function(t){function e(e,n,i){var r=this;return(r=t.call(this)||this).Jo=e,r.cacheSizeBytes=n,r.forceOwnership=i,r.synchronizeTabs=!1,r}return Object(s.b)(e,t),e.prototype.initialize=function(e){return Object(s.a)(this,void 0,void 0,(function(){return Object(s.c)(this,(function(n){switch(n.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return n.sent(),[4,Rr(this.localStore)];case 2:return n.sent(),[4,this.Jo.initialize(this,e)];case 3:return n.sent(),[4,Ws(this.Jo.syncEngine)];case 4:return n.sent(),[4,jo(this.Jo.remoteStore)];case 5:return n.sent(),[2]}}))}))},e.prototype.Ho=function(t){return Ir(this.persistence,new Er,t.initialUser,this.D)},e.prototype.zo=function(t){var e=this.persistence.referenceDelegate.garbageCollector;return new er(e,t.asyncQueue)},e.prototype.Go=function(t){var e=yr(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?Fi.withCacheSize(this.cacheSizeBytes):Fi.DEFAULT;return new vr(this.synchronizeTabs,e,t.clientId,n,t.asyncQueue,ho(),fo(),this.D,this.sharedClientState,!!this.forceOwnership)},e.prototype.jo=function(t){return new oo},e}(Ks),Gs=function(t){function e(e,n){var i=this;return(i=t.call(this,e,n,!1)||this).Jo=e,i.cacheSizeBytes=n,i.synchronizeTabs=!0,i}return Object(s.b)(e,t),e.prototype.initialize=function(e){return Object(s.a)(this,void 0,void 0,(function(){var n,i=this;return Object(s.c)(this,(function(r){switch(r.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return r.sent(),n=this.Jo.syncEngine,this.sharedClientState instanceof ro?(this.sharedClientState.syncEngine={wi:js.bind(null,n),_i:Us.bind(null,n),mi:Hs.bind(null,n),gn:qs.bind(null,n),di:Rs.bind(null,n)},[4,this.sharedClientState.start()]):[3,3];case 2:r.sent(),r.label=3;case 3:return[4,this.persistence.en((function(t){return Object(s.a)(i,void 0,void 0,(function(){return Object(s.c)(this,(function(e){switch(e.label){case 0:return[4,Bs(this.Jo.syncEngine,t)];case 1:return e.sent(),this.gcScheduler&&(t&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):t||this.gcScheduler.stop()),[2]}}))}))}))];case 4:return r.sent(),[2]}}))}))},e.prototype.jo=function(t){var e=ho();if(!ro.At(e))throw new A(C.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=yr(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new ro(e,t.asyncQueue,n,t.clientId,t.initialUser)},e}(zs),Qs=function(){function t(){}return t.prototype.initialize=function(t,e){return Object(s.a)(this,void 0,void 0,(function(){var n=this;return Object(s.c)(this,(function(i){switch(i.label){case 0:return this.localStore?[3,2]:(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(t){return ws(n.syncEngine,t,1)},this.remoteStore.remoteSyncer.handleCredentialChange=Ls.bind(null,this.syncEngine),[4,$o(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:i.sent(),i.label=2;case 2:return[2]}}))}))},t.prototype.createEventManager=function(t){return new Zo},t.prototype.createDatastore=function(t){var e,n=po(t.databaseInfo.databaseId),i=(e=t.databaseInfo,new lo(e));return function(t,e,n){return new bo(t,e,n)}(t.credentials,i,n)},t.prototype.createRemoteStore=function(t){var e,n,i,r,o,s=this;return e=this.localStore,n=this.datastore,i=t.asyncQueue,r=function(t){return ws(s.syncEngine,t,0)},o=ao.At()?new ao:new so,new _o(e,n,i,r,o)},t.prototype.createSyncEngine=function(t,e){return function(t,e,n,i,r,o,s){var a=new ps(t,e,n,i,r,o);return s&&(a.Uo=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)},t.prototype.terminate=function(){return function(t){return Object(s.a)(this,void 0,void 0,(function(){var e;return Object(s.c)(this,(function(n){switch(n.label){case 0:return e=g(t),l("RemoteStore","RemoteStore shutting down."),e.Qr.add(5),[4,ko(e)];case 1:return n.sent(),e.Wr.shutdown(),e.jr.set("Unknown"),[2]}}))}))}(this.remoteStore)},t}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Ys=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.Yo(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.Yo(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.Xo=function(){this.muted=!0},t.prototype.Yo=function(t,e){var n=this;this.muted||setTimeout((function(){n.muted||t(e)}),0)},t}(),Xs=(function(){function t(t,e){var n=this;this.Zo=t,this.D=e,this.metadata=new ri,this.buffer=new Uint8Array,this.tc=new TextDecoder("utf-8"),this.ec().then((function(t){t&&t.ho()?n.metadata.resolve(t.payload.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==t?void 0:t.payload)))}),(function(t){return n.metadata.reject(t)}))}t.prototype.close=function(){return this.Zo.cancel()},t.prototype.getMetadata=function(){return Object(s.a)(this,void 0,void 0,(function(){return Object(s.c)(this,(function(t){return[2,this.metadata.promise]}))}))},t.prototype.Wo=function(){return Object(s.a)(this,void 0,void 0,(function(){return Object(s.c)(this,(function(t){switch(t.label){case 0:return[4,this.getMetadata()];case 1:return[2,(t.sent(),this.ec())]}}))}))},t.prototype.ec=function(){return Object(s.a)(this,void 0,void 0,(function(){var t,e,n,i;return Object(s.c)(this,(function(r){switch(r.label){case 0:return[4,this.nc()];case 1:return null===(t=r.sent())?[2,null]:(e=this.tc.decode(t),n=Number(e),isNaN(n)&&this.sc("length string ("+e+") is not valid number"),[4,this.ic(n)]);case 2:return i=r.sent(),[2,new ss(JSON.parse(i),t.length+n)]}}))}))},t.prototype.rc=function(){return this.buffer.findIndex((function(t){return t==="{".charCodeAt(0)}))},t.prototype.nc=function(){return Object(s.a)(this,void 0,void 0,(function(){var t,e;return Object(s.c)(this,(function(n){switch(n.label){case 0:return this.rc()<0?[4,this.oc()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((t=this.rc())<0&&this.sc("Reached the end of bundle when a length string is expected."),e=this.buffer.slice(0,t),[2,(this.buffer=this.buffer.slice(t),e)])}}))}))},t.prototype.ic=function(t){return Object(s.a)(this,void 0,void 0,(function(){var e;return Object(s.c)(this,(function(n){switch(n.label){case 0:return this.buffer.length<t?[4,this.oc()]:[3,3];case 1:n.sent()&&this.sc("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return e=this.tc.decode(this.buffer.slice(0,t)),[2,(this.buffer=this.buffer.slice(t),e)]}}))}))},t.prototype.sc=function(t){throw this.Zo.cancel(),new Error("Invalid bundle format: "+t)},t.prototype.oc=function(){return Object(s.a)(this,void 0,void 0,(function(){var t,e;return Object(s.c)(this,(function(n){switch(n.label){case 0:return[4,this.Zo.read()];case 1:return(t=n.sent()).done||((e=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),e.set(t.value,this.buffer.length),this.buffer=e),[2,t.done]}}))}))}}(),function(){function t(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return t.prototype.lookup=function(t){return Object(s.a)(this,void 0,void 0,(function(){var e,n=this;return Object(s.c)(this,(function(i){switch(i.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new A(C.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return Object(s.a)(this,void 0,void 0,(function(){var n,i,r,o,a,u;return Object(s.c)(this,(function(s){switch(s.label){case 0:return n=g(t),i=gn(n.D)+"/documents",r={documents:e.map((function(t){return fn(n.D,t)}))},[4,n.Ui("BatchGetDocuments",i,r)];case 1:return o=s.sent(),a=new Map,o.forEach((function(t){var e=function(t,e){return"found"in e?function(t,e){v(!!e.found),e.found.name,e.found.updateTime;var n=dn(t,e.found.name),i=cn(e.found.updateTime),r=new $t({mapValue:{fields:e.found.fields}});return new nt(n,i,r,{})}(t,e):"missing"in e?function(t,e){v(!!e.missing),v(!!e.readTime);var n=dn(t,e.missing),i=cn(e.readTime);return new it(n,i)}(t,e):p()}(n.D,t);a.set(e.key.toString(),e)})),u=[],[2,(e.forEach((function(t){var e=a.get(t.toString());v(!!e),u.push(e)})),u)]}}))}))}(this.datastore,t)];case 1:return[2,((e=i.sent()).forEach((function(t){t instanceof it||t instanceof nt?n.recordVersion(t):p()})),e)]}}))}))},t.prototype.set=function(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(t){this.lastWriteError=t}this.writtenDocs.add(t.toString())},t.prototype.delete=function(t){this.write(new Oe(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.commit=function(){return Object(s.a)(this,void 0,void 0,(function(){var t,e=this;return Object(s.c)(this,(function(n){switch(n.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(t,n){var i=N.fromPath(n);e.mutations.push(new Se(i,e.precondition(i)))})),[4,function(t,e){return Object(s.a)(this,void 0,void 0,(function(){var n,i,r;return Object(s.c)(this,(function(o){switch(o.label){case 0:return n=g(t),i=gn(n.D)+"/documents",r={writes:e.map((function(t){return wn(n.D,t)}))},[4,n.Mi("Commit",i,r)];case 1:return o.sent(),[2]}}))}))}(this.datastore,this.mutations)];case 1:return n.sent(),this.committed=!0,[2]}}))}))},t.prototype.recordVersion=function(t){var e;if(t instanceof nt)e=t.version;else{if(!(t instanceof it))throw p();e=Ut.min()}var n=this.readVersions.get(t.key.toString());if(n){if(!e.isEqual(n))throw new A(C.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)},t.prototype.precondition=function(t){var e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?le.updateTime(e):le.none()},t.prototype.preconditionForUpdate=function(t){var e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(Ut.min()))throw new A(C.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return le.updateTime(e)}return le.exists(!0)},t.prototype.write=function(t){this.ensureCommitNotCalled(),this.mutations.push(t)},t.prototype.ensureCommitNotCalled=function(){},t}()),Js=function(){function t(t,e,n,i){this.asyncQueue=t,this.datastore=e,this.updateFunction=n,this.deferred=i,this.cc=5,this.rr=new vo(this.asyncQueue,"transaction_retry")}return t.prototype.run=function(){this.ac()},t.prototype.ac=function(){var t=this;this.rr.Yi((function(){return Object(s.a)(t,void 0,void 0,(function(){var t,e,n=this;return Object(s.c)(this,(function(i){return t=new Xs(this.datastore),(e=this.uc(t))&&e.then((function(e){n.asyncQueue.enqueueAndForget((function(){return t.commit().then((function(){n.deferred.resolve(e)})).catch((function(t){n.hc(t)}))}))})).catch((function(t){n.hc(t)})),[2]}))}))}))},t.prototype.uc=function(t){try{var e=this.updateFunction(t);return!T(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}},t.prototype.hc=function(t){var e=this;this.cc>0&&this.lc(t)?(this.cc-=1,this.asyncQueue.enqueueAndForget((function(){return e.ac(),Promise.resolve()}))):this.deferred.reject(t)},t.prototype.lc=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!Ae(e)}return!1},t}(),Zs=function(){function t(t,e,n){var i=this;this.credentials=t,this.asyncQueue=e,this.databaseInfo=n,this.user=Qr.UNAUTHENTICATED,this.clientId=y.u(),this.credentialListener=function(){},this.receivedInitialUser=new ri,this.credentials.setChangeListener((function(t){l("FirestoreClient","Received user=",t.uid),i.user=t,i.credentialListener(t),i.receivedInitialUser.resolve()}))}return t.prototype.getConfiguration=function(){return Object(s.a)(this,void 0,void 0,(function(){return Object(s.c)(this,(function(t){switch(t.label){case 0:return[4,this.receivedInitialUser.promise];case 1:return[2,(t.sent(),{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100})]}}))}))},t.prototype.setCredentialChangeListener=function(t){var e=this;this.credentialListener=t,this.receivedInitialUser.promise.then((function(){return e.credentialListener(e.user)}))},t.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new A(C.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var t=this;this.asyncQueue.enterRestrictedMode();var e=new ri;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((function(){return Object(s.a)(t,void 0,void 0,(function(){var t,n;return Object(s.c)(this,(function(i){switch(i.label){case 0:return i.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:i.sent(),i.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:i.sent(),i.label=4;case 4:return this.credentials.removeChangeListener(),e.resolve(),[3,6];case 5:return t=i.sent(),n=Go(t,"Failed to shutdown persistence"),e.reject(n),[3,6];case 6:return[2]}}))}))})),e.promise},t}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ta(t,e){return Object(s.a)(this,void 0,void 0,(function(){var n,i,r=this;return Object(s.c)(this,(function(o){switch(o.label){case 0:return t.asyncQueue.verifyOperationInProgress(),l("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=o.sent(),[4,e.initialize(n)];case 2:return o.sent(),i=n.initialUser,t.setCredentialChangeListener((function(n){i.isEqual(n)||(i=n,t.asyncQueue.enqueueRetryable((function(){return Object(s.a)(r,void 0,void 0,(function(){return Object(s.c)(this,(function(t){switch(t.label){case 0:return[4,Tr(e.localStore,n)];case 1:return t.sent(),[2]}}))}))})))})),e.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=e,[2]}}))}))}function ea(t,e){return Object(s.a)(this,void 0,void 0,(function(){var n,i;return Object(s.c)(this,(function(r){switch(r.label){case 0:return t.asyncQueue.verifyOperationInProgress(),[4,na(t)];case 1:return n=r.sent(),l("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return i=r.sent(),[4,e.initialize(n,i)];case 3:return r.sent(),t.setCredentialChangeListener((function(n){return t.asyncQueue.enqueueRetryable((function(){return function(t,e){return Object(s.a)(this,void 0,void 0,(function(){var n,i;return Object(s.c)(this,(function(r){switch(r.label){case 0:return(n=g(t)).asyncQueue.verifyOperationInProgress(),l("RemoteStore","RemoteStore received new credentials"),i=xo(n),n.Qr.add(3),[4,ko(n)];case 1:return r.sent(),i&&n.jr.set("Unknown"),[4,n.remoteSyncer.handleCredentialChange(e)];case 2:return r.sent(),n.Qr.delete(3),[4,Eo(n)];case 3:return r.sent(),[2]}}))}))}(e.remoteStore,n)}))})),t.onlineComponents=e,[2]}}))}))}function na(t){return Object(s.a)(this,void 0,void 0,(function(){return Object(s.c)(this,(function(e){switch(e.label){case 0:return t.offlineComponents?[3,2]:(l("FirestoreClient","Using default OfflineComponentProvider"),[4,ta(t,new Ks)]);case 1:e.sent(),e.label=2;case 2:return[2,t.offlineComponents]}}))}))}function ia(t){return Object(s.a)(this,void 0,void 0,(function(){return Object(s.c)(this,(function(e){switch(e.label){case 0:return t.onlineComponents?[3,2]:(l("FirestoreClient","Using default OnlineComponentProvider"),[4,ea(t,new Qs)]);case 1:e.sent(),e.label=2;case 2:return[2,t.onlineComponents]}}))}))}function ra(t){return na(t).then((function(t){return t.persistence}))}function oa(t){return na(t).then((function(t){return t.localStore}))}function sa(t){return ia(t).then((function(t){return t.remoteStore}))}function aa(t){return ia(t).then((function(t){return t.syncEngine}))}function ua(t){return Object(s.a)(this,void 0,void 0,(function(){var e,n;return Object(s.c)(this,(function(i){switch(i.label){case 0:return[4,ia(t)];case 1:return e=i.sent(),[2,((n=e.eventManager).onListen=vs.bind(null,e.syncEngine),n.onUnlisten=ms.bind(null,e.syncEngine),n)]}}))}))}function ca(t,e,n){var i=this;void 0===n&&(n={});var r=new ri;return t.asyncQueue.enqueueAndForget((function(){return Object(s.a)(i,void 0,void 0,(function(){var i;return Object(s.c)(this,(function(o){switch(o.label){case 0:return i=function(t,e,n,i,r){var o=new Ys({next:function(o){e.enqueueAndForget((function(){return es(t,s)}));var a=o.docs.has(n);!a&&o.fromCache?r.reject(new A(C.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&o.fromCache&&i&&"server"===i.source?r.reject(new A(C.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):r.resolve(o)},error:function(t){return r.reject(t)}}),s=new os(St(n.path),o,{includeMetadataChanges:!0,uo:!0});return ts(t,s)},[4,ua(t)];case 1:return[2,i.apply(void 0,[o.sent(),t.asyncQueue,e,n,r])]}}))}))})),r.promise}function la(t,e,n){var i=this;void 0===n&&(n={});var r=new ri;return t.asyncQueue.enqueueAndForget((function(){return Object(s.a)(i,void 0,void 0,(function(){var i;return Object(s.c)(this,(function(o){switch(o.label){case 0:return i=function(t,e,n,i,r){var o=new Ys({next:function(n){e.enqueueAndForget((function(){return es(t,s)})),n.fromCache&&"server"===i.source?r.reject(new A(C.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):r.resolve(n)},error:function(t){return r.reject(t)}}),s=new os(n,o,{includeMetadataChanges:!0,uo:!0});return ts(t,s)},[4,ua(t)];case 1:return[2,i.apply(void 0,[o.sent(),t.asyncQueue,e,n,r])]}}))}))})),r.promise}var ha=function(t,e,n,i,r,o){this.databaseId=t,this.persistenceKey=e,this.host=n,this.ssl=i,this.forceLongPolling=r,this.autoDetectLongPolling=o},fa=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"isDefaultDatabase",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),da=new Map,pa=function(t,e){this.user=e,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+t},va=function(){function t(){this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(t){this.changeListener=t,t(Qr.UNAUTHENTICATED)},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),ga=function(){function t(t){var e=this;this.fc=null,this.currentUser=Qr.UNAUTHENTICATED,this.receivedInitialUser=!1,this.dc=0,this.changeListener=null,this.forceRefresh=!1,this.fc=function(){e.dc++,e.currentUser=e.wc(),e.receivedInitialUser=!0,e.changeListener&&e.changeListener(e.currentUser)},this.dc=0,this.auth=t.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.fc):(this.fc(null),t.get().then((function(t){e.auth=t,e.fc&&e.auth.addAuthTokenListener(e.fc)}),(function(){})))}return t.prototype.getToken=function(){var t=this,e=this.dc,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return t.dc!==e?(l("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(v("string"==typeof n.accessToken),new pa(n.accessToken,t.currentUser)):null})):Promise.resolve(null)},t.prototype.invalidateToken=function(){this.forceRefresh=!0},t.prototype.setChangeListener=function(t){this.changeListener=t,this.receivedInitialUser&&t(this.currentUser)},t.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.fc),this.fc=null,this.changeListener=null},t.prototype.wc=function(){var t=this.auth&&this.auth.getUid();return v(null===t||"string"==typeof t),new Qr(t)},t}(),ma=function(){function t(t,e){this._c=t,this.mc=e,this.type="FirstParty",this.user=Qr.FIRST_PARTY}return Object.defineProperty(t.prototype,"authHeaders",{get:function(){var t={"X-Goog-AuthUser":this.mc},e=this._c.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),t},enumerable:!1,configurable:!0}),t}(),ya=function(){function t(t,e){this._c=t,this.mc=e}return t.prototype.getToken=function(){return Promise.resolve(new ma(this._c,this.mc))},t.prototype.setChangeListener=function(t){t(Qr.FIRST_PARTY)},t.prototype.removeChangeListener=function(){},t.prototype.invalidateToken=function(){},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ba(t,e,n){if(!n)throw new A(C.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function wa(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new A(C.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function _a(t,e,n,i){if(!0===e&&!0===i)throw new A(C.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function Ea(t){if(!N.isDocumentKey(t))throw new A(C.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function ka(t){if(N.isDocumentKey(t))throw new A(C.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function Ia(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":p()}function Ta(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new A(C.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=Ia(t);throw new A(C.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function Oa(t,e){if(e<=0)throw new A(C.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Sa=function(){function t(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new A(C.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new A(C.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,_a("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties},t}(),Ca=function(){function t(t,e){this._persistenceKey="(lite)",this._settings=new Sa({}),this._settingsFrozen=!1,t instanceof fa?(this._databaseId=t,this._credentials=new va):(this._app=t,this._databaseId=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new A(C.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new fa(t.options.projectId)}(t),this._credentials=new ga(e))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this._app)throw new A(C.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_terminated",{get:function(){return void 0!==this._terminateTask},enumerable:!1,configurable:!0}),t.prototype._setSettings=function(t){if(this._settingsFrozen)throw new A(C.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Sa(t),void 0!==t.credentials&&(this._credentials=function(t){if(!t)return new va;switch(t.type){case"gapi":var e=t.client;return v(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new ya(e,t.sessionIndex||"0");case"provider":return t.client;default:throw new A(C.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},t.prototype._getSettings=function(){return this._settings},t.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},t.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},t.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},t.prototype._terminate=function(){return this,(t=da.get(this))&&(l("ComponentProvider","Removing Datastore"),da.delete(this),t.terminate()),Promise.resolve();var t},t}(),Aa=function(t){this._delegate=t},xa=function(){function t(t,e,n){this._converter=e,this._key=n,this.type="document",this.firestore=t}return Object.defineProperty(t.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new Ma(this.firestore,this._converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this._key)},t}(),Da=function(){function t(t,e,n){this._converter=e,this._query=n,this.type="query",this.firestore=t}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this._query)},t}(),Ma=function(t){function e(e,n,i){var r=this;return(r=t.call(this,e,n,St(i))||this).firestore=e,r._path=i,r.type="collection",r}return Object(s.b)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._path.popLast();return t.isEmpty()?null:new xa(this.firestore,null,new N(t))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._path)},e}(Da);
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function La(t,e){for(var n,i=[],r=2;r<arguments.length;r++)i[r-2]=arguments[r];if(t instanceof Aa&&(t=t._delegate),ba("collection","path",e),t instanceof Ca)return ka(n=D.fromString.apply(D,Object(s.d)([e],i))),new Ma(t,null,n);if(!(t instanceof xa||t instanceof Ma))throw new A(C.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return ka(n=D.fromString.apply(D,Object(s.d)([t.path],i)).child(D.fromString(e))),new Ma(t.firestore,null,n)}function Na(t,e){for(var n,i=[],r=2;r<arguments.length;r++)i[r-2]=arguments[r];if(t instanceof Aa&&(t=t._delegate),1===arguments.length&&(e=y.u()),ba("doc","path",e),t instanceof Ca)return Ea(n=D.fromString.apply(D,Object(s.d)([e],i))),new xa(t,null,new N(n));if(!(t instanceof xa||t instanceof Ma))throw new A(C.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Ea(n=t._path.child(D.fromString.apply(D,Object(s.d)([e],i)))),new xa(t.firestore,t instanceof Ma?t._converter:null,new N(n))}function Pa(t,e){return t instanceof Aa&&(t=t._delegate),e instanceof Aa&&(e=e._delegate),(t instanceof xa||t instanceof Ma)&&(e instanceof xa||e instanceof Ma)&&t.firestore===e.firestore&&t.path===e.path&&t._converter===e._converter}function Ra(t,e){return t instanceof Aa&&(t=t._delegate),e instanceof Aa&&(e=e._delegate),t instanceof Da&&e instanceof Da&&t.firestore===e.firestore&&Rt(t._query,e._query)&&t._converter===e._converter
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}var ja=function(){function t(){var t=this;this.yc=Promise.resolve(),this.gc=[],this.Ec=!1,this.Tc=[],this.Ic=null,this.Ac=!1,this.Rc=[],this.rr=new vo(this,"async_queue_retry"),this.bc=function(){var e=fo();e&&l("AsyncQueue","Visibility state changed to "+e.visibilityState),t.rr.Zi()};var e=fo();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.bc)}return Object.defineProperty(t.prototype,"isShuttingDown",{get:function(){return this.Ec},enumerable:!1,configurable:!0}),t.prototype.enqueueAndForget=function(t){this.enqueue(t)},t.prototype.enqueueAndForgetEvenWhileRestricted=function(t){this.vc(),this.Pc(t)},t.prototype.enterRestrictedMode=function(){if(!this.Ec){this.Ec=!0;var t=fo();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.bc)}},t.prototype.enqueue=function(t){return this.vc(),this.Ec?new Promise((function(t){})):this.Pc(t)},t.prototype.enqueueRetryable=function(t){var e=this;this.enqueueAndForget((function(){return e.gc.push(t),e.Vc()}))},t.prototype.Vc=function(){return Object(s.a)(this,void 0,void 0,(function(){var t,e=this;return Object(s.c)(this,(function(n){switch(n.label){case 0:if(0===this.gc.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.gc[0]()];case 2:return n.sent(),this.gc.shift(),this.rr.reset(),[3,4];case 3:if(!li(t=n.sent()))throw t;return l("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.gc.length>0&&this.rr.Yi((function(){return e.Vc()})),n.label=5;case 5:return[2]}}))}))},t.prototype.Pc=function(t){var e=this,n=this.yc.then((function(){return e.Ac=!0,t().catch((function(t){throw e.Ic=t,e.Ac=!1,h("INTERNAL UNHANDLED ERROR: ",function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t})).then((function(t){return e.Ac=!1,t}))}));return this.yc=n,n},t.prototype.enqueueAfterDelay=function(t,e,n){var i=this;this.vc(),this.Rc.indexOf(t)>-1&&(e=0);var r=zo.createAndSchedule(this,t,e,n,(function(t){return i.Sc(t)}));return this.Tc.push(r),r},t.prototype.vc=function(){this.Ic&&p()},t.prototype.verifyOperationInProgress=function(){},t.prototype.Dc=function(){return Object(s.a)(this,void 0,void 0,(function(){var t;return Object(s.c)(this,(function(e){switch(e.label){case 0:return[4,t=this.yc];case 1:e.sent(),e.label=2;case 2:if(t!==this.yc)return[3,0];e.label=3;case 3:return[2]}}))}))},t.prototype.Cc=function(t){for(var e=0,n=this.Tc;e<n.length;e++)if(n[e].timerId===t)return!0;return!1},t.prototype.xc=function(t){var e=this;return this.Dc().then((function(){e.Tc.sort((function(t,e){return t.targetTimeMs-e.targetTimeMs}));for(var n=0,i=e.Tc;n<i.length;n++){var r=i[n];if(r.skipDelay(),"all"!==t&&r.timerId===t)break}return e.Dc()}))},t.prototype.Nc=function(t){this.Rc.push(t)},t.prototype.Sc=function(t){var e=this.Tc.indexOf(t);this.Tc.splice(e,1)},t}();function Ba(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,i=0,r=["next","error","complete"];i<r.length;i++){var o=r[i];if(o in n&&"function"==typeof n[o])return!0}return!1}(t)}!function(){function t(){this._progressObserver={},this._taskCompletionResolver=new ri,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}t.prototype.onProgress=function(t,e,n){this._progressObserver={next:t,error:e,complete:n}},t.prototype.catch=function(t){return this._taskCompletionResolver.promise.catch(t)},t.prototype.then=function(t,e){return this._taskCompletionResolver.promise.then(t,e)},t.prototype._completeWith=function(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)},t.prototype._failWith=function(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)},t.prototype._updateProgress=function(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Fa=-1,Va=function(t){function e(e,n){var i=this;return(i=t.call(this,e,n)||this)._queue=new ja,i._persistenceKey="name"in e?e.name:"[DEFAULT]",i}return Object(s.b)(e,t),e.prototype._terminate=function(){return this._firestoreClient||Ua(this),this._firestoreClient.terminate()},e}(Ca);function qa(t){return t._firestoreClient||Ua(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function Ua(t){var e=t._freezeSettings(),n=function(t,e,n){return new ha(t,e,n.host,n.ssl,n.experimentalForceLongPolling,n.experimentalAutoDetectLongPolling)}(t._databaseId,t._persistenceKey,e);t._firestoreClient=new Zs(t._credentials,t._queue,n)}function Ha(t,e,n){var i=this,r=new ri;return t.asyncQueue.enqueue((function(){return Object(s.a)(i,void 0,void 0,(function(){var i;return Object(s.c)(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,ta(t,n)];case 1:return o.sent(),[4,ea(t,e)];case 2:return o.sent(),r.resolve(),[3,4];case 3:if(!function(t){return"FirebaseError"===t.name?t.code===C.FAILED_PRECONDITION||t.code===C.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(i=o.sent()))throw i;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+i),r.reject(i),[3,4];case 4:return[2]}}))}))})).then((function(){return r.promise}))}function $a(t){if(t._initialized||t._terminated)throw new A(C.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Wa=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;++n)if(0===t[n].length)throw new A(C.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new L(t)}return t.prototype.isEqual=function(t){return this._internalPath.isEqual(t._internalPath)},t}(),Ka=function(){function t(t){this._byteString=t}return t.fromBase64String=function(e){try{return new t(P.fromBase64String(e))}catch(e){throw new A(C.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}},t.fromUint8Array=function(e){return new t(P.fromUint8Array(e))},t.prototype.toBase64=function(){return this._byteString.toBase64()},t.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this._byteString.isEqual(t._byteString)},t}(),za=function(t){this._methodName=t},Ga=function(){function t(t,e){if(!isFinite(t)||t<-90||t>90)throw new A(C.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new A(C.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this._lat===t._lat&&this._long===t._long},t.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},t.prototype._compareTo=function(t){return b(this._lat,t._lat)||b(this._long,t._long)},t}(),Qa=/^__.*__$/,Ya=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return null!==this.fieldMask?new be(t,this.data,this.fieldMask,e,this.fieldTransforms):new ye(t,this.data,e,this.fieldTransforms)},t}(),Xa=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return new be(t,this.data,this.fieldMask,e,this.fieldTransforms)},t}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ja(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw p()}}var Za=function(){function t(t,e,n,i,r,o){this.settings=t,this.databaseId=e,this.D=n,this.ignoreUndefinedProperties=i,void 0===r&&this.$c(),this.fieldTransforms=r||[],this.fieldMask=o||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Fc",{get:function(){return this.settings.Fc},enumerable:!1,configurable:!0}),t.prototype.Oc=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.D,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},t.prototype.kc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),i=this.Oc({path:n,Mc:!1});return i.Lc(t),i},t.prototype.Bc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),i=this.Oc({path:n,Mc:!1});return i.$c(),i},t.prototype.qc=function(t){return this.Oc({path:void 0,Mc:!0})},t.prototype.Uc=function(t){return bu(t,this.settings.methodName,this.settings.Qc||!1,this.path,this.settings.Kc)},t.prototype.contains=function(t){return void 0!==this.fieldMask.find((function(e){return t.isPrefixOf(e)}))||void 0!==this.fieldTransforms.find((function(e){return t.isPrefixOf(e.field)}))},t.prototype.$c=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.Lc(this.path.get(t))},t.prototype.Lc=function(t){if(0===t.length)throw this.Uc("Document fields must not be empty");if(Ja(this.Fc)&&Qa.test(t))throw this.Uc('Document fields cannot begin and end with "__"')},t}(),tu=function(){function t(t,e,n){this.databaseId=t,this.ignoreUndefinedProperties=e,this.D=n||po(t)}return t.prototype.Wc=function(t,e,n,i){return void 0===i&&(i=!1),new Za({Fc:t,methodName:e,Kc:n,path:L.emptyPath(),Mc:!1,Qc:i},this.databaseId,this.D,this.ignoreUndefinedProperties)},t}();function eu(t){var e=t._freezeSettings(),n=po(t._databaseId);return new tu(t._databaseId,!!e.ignoreUndefinedProperties,n)}function nu(t,e,n,i,r,o){void 0===o&&(o={});var s=t.Wc(o.merge||o.mergeFields?2:0,e,n,r);vu("Data must be an object, but it was:",s,i);var a,u,c=du(i,s);if(o.merge)a=new Ht(s.fieldMask),u=s.fieldTransforms;else if(o.mergeFields){for(var l=[],h=0,f=o.mergeFields;h<f.length;h++){var d=gu(e,f[h],n);if(!s.contains(d))throw new A(C.INVALID_ARGUMENT,"Field '"+d+"' is specified in your field mask but missing from your input data.");wu(l,d)||l.push(d)}a=new Ht(l),u=s.fieldTransforms.filter((function(t){return a.covers(t.field)}))}else a=null,u=s.fieldTransforms;return new Ya(new $t(c),a,u)}var iu=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(s.b)(e,t),e.prototype._toFieldTransform=function(t){if(2!==t.Fc)throw 1===t.Fc?t.Uc(this._methodName+"() can only appear at the top level of your update data"):t.Uc(this._methodName+"() cannot be used with set() unless you pass {merge:true}");return t.fieldMask.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(za);function ru(t,e,n){return new Za({Fc:3,Kc:e.settings.Kc,methodName:t._methodName,Mc:n},e.databaseId,e.D,e.ignoreUndefinedProperties)}var ou=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(s.b)(e,t),e.prototype._toFieldTransform=function(t){return new ue(t.path,new te)},e.prototype.isEqual=function(t){return t instanceof e},e}(za),su=function(t){function e(e,n){var i=this;return(i=t.call(this,e)||this).jc=n,i}return Object(s.b)(e,t),e.prototype._toFieldTransform=function(t){var e=ru(this,t,!0),n=this.jc.map((function(t){return fu(t,e)})),i=new ee(n);return new ue(t.path,i)},e.prototype.isEqual=function(t){return this===t},e}(za),au=function(t){function e(e,n){var i=this;return(i=t.call(this,e)||this).jc=n,i}return Object(s.b)(e,t),e.prototype._toFieldTransform=function(t){var e=ru(this,t,!0),n=this.jc.map((function(t){return fu(t,e)})),i=new ie(n);return new ue(t.path,i)},e.prototype.isEqual=function(t){return this===t},e}(za),uu=function(t){function e(e,n){var i=this;return(i=t.call(this,e)||this).Gc=n,i}return Object(s.b)(e,t),e.prototype._toFieldTransform=function(t){var e=new oe(t.D,Qt(t.D,this.Gc));return new ue(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(za);function cu(t,e,n,i){var r=t.Wc(1,e,n);vu("Data must be an object, but it was:",r,i);var o=[],s=new Wt;k(i,(function(t,i){var a=yu(e,t,n);i instanceof Aa&&(i=i._delegate);var u=r.Bc(a);if(i instanceof iu)o.push(a);else{var c=fu(i,u);null!=c&&(o.push(a),s.set(a,c))}}));var a=new Ht(o);return new Xa(s.v(),a,r.fieldTransforms)}function lu(t,e,n,i,r,o){var s=t.Wc(1,e,n),a=[gu(e,i,n)],u=[r];if(o.length%2!=0)throw new A(C.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<o.length;c+=2)a.push(gu(e,o[c])),u.push(o[c+1]);for(var l=[],h=new Wt,f=a.length-1;f>=0;--f)if(!wu(l,a[f])){var d=a[f],p=u[f];p instanceof Aa&&(p=p._delegate);var v=s.Bc(d);if(p instanceof iu)l.push(d);else{var g=fu(p,v);null!=g&&(l.push(d),h.set(d,g))}}var m=new Ht(l);return new Xa(h.v(),m,s.fieldTransforms)}function hu(t,e,n,i){return void 0===i&&(i=!1),fu(n,t.Wc(i?4:3,e))}function fu(t,e){if(t instanceof Aa&&(t=t._delegate),pu(t))return vu("Unsupported field value:",e,t),du(t,e);if(t instanceof za)return function(t,e){if(!Ja(e.Fc))throw e.Uc(t._methodName+"() can only be used with update() and set()");if(!e.path)throw e.Uc(t._methodName+"() is not currently supported inside arrays");var n=t._toFieldTransform(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Mc&&4!==e.Fc)throw e.Uc("Nested arrays are not supported");return function(t,e){for(var n=[],i=0,r=0,o=t;r<o.length;r++){var s=fu(o[r],e.qc(i));null==s&&(s={nullValue:"NULL_VALUE"}),n.push(s),i++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(t instanceof Aa&&(t=t._delegate),null===t)return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Qt(e.D,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=V.fromDate(t);return{timestampValue:sn(e.D,n)}}if(t instanceof V)return n=new V(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)),{timestampValue:sn(e.D,n)};if(t instanceof Ga)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Ka)return{bytesValue:an(e.D,t._byteString)};if(t instanceof xa){n=e.databaseId;var i=t.firestore._databaseId;if(!i.isEqual(n))throw e.Uc("Document reference is for database "+i.projectId+"/"+i.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:ln(t.firestore._databaseId||e.databaseId,t._key.path)}}throw e.Uc("Unsupported field value: "+Ia(t))}(t,e)}function du(t,e){var n={};return I(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):k(t,(function(t,i){var r=fu(i,e.kc(t));null!=r&&(n[t]=r)})),{mapValue:{fields:n}}}function pu(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof V||t instanceof Ga||t instanceof Ka||t instanceof xa||t instanceof za)}function vu(t,e,n){if(!pu(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){var i=Ia(n);throw"an object"===i?e.Uc(t+" a custom object"):e.Uc(t+" "+i)}}function gu(t,e,n){if(e instanceof Aa&&(e=e._delegate),e instanceof Wa)return e._internalPath;if("string"==typeof e)return yu(t,e);throw bu("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var mu=new RegExp("[~\\*/\\[\\]]");function yu(t,e,n){if(e.search(mu)>=0)throw bu("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return(new(Wa.bind.apply(Wa,Object(s.d)([void 0],e.split(".")))))._internalPath}catch(i){throw bu("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function bu(t,e,n,i,r){var o=i&&!i.isEmpty(),s=void 0!==r,a="Function "+e+"() called with invalid data";n&&(a+=" (via `toFirestore()`)");var u="";return(o||s)&&(u+=" (found",o&&(u+=" in field "+i),s&&(u+=" in document "+r),u+=")"),new A(C.INVALID_ARGUMENT,(a+=". ")+t+u)}function wu(t,e){return t.some((function(t){return t.isEqual(e)}))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _u=function(){function t(t,e,n,i,r){this._firestore=t,this._userDataWriter=e,this._key=n,this._document=i,this._converter=r}return Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new xa(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return null!==this._document},t.prototype.data=function(){if(this._document){if(this._converter){var t=new Eu(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.toProto())}},t.prototype.get=function(t){if(this._document){var e=this._document.data().field(ku("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}},t}(),Eu=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(s.b)(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(_u);function ku(t,e){return"string"==typeof e?yu(t,e):e instanceof Aa?e._delegate._internalPath:e._internalPath}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Iu=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),Tu=function(t){function e(e,n,i,r,o,s){var a=this;return(a=t.call(this,e,n,i,r,s)||this)._firestore=e,a._firestoreImpl=e,a.metadata=o,a}return Object(s.b)(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(t){if(void 0===t&&(t={}),this._document){if(this._converter){var e=new Ou(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.toProto(),t.serverTimestamps)}},e.prototype.get=function(t,e){if(void 0===e&&(e={}),this._document){var n=this._document.data().field(ku("DocumentSnapshot.get",t));if(null!==n)return this._userDataWriter.convertValue(n,e.serverTimestamps)}},e}(_u),Ou=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(s.b)(e,t),e.prototype.data=function(e){return void 0===e&&(e={}),t.prototype.data.call(this,e)},e}(Tu),Su=function(){function t(t,e,n,i){this._firestore=t,this._userDataWriter=e,this._snapshot=i,this.metadata=new Iu(i.hasPendingWrites,i.fromCache),this.query=n}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach((function(e){return t.push(e)})),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;this._snapshot.docs.forEach((function(i){t.call(e,new Ou(n._firestore,n._userDataWriter,i.key,i,new Iu(n._snapshot.mutatedKeys.has(i.key),n._snapshot.fromCache),n.query._converter))}))},t.prototype.docChanges=function(t){void 0===t&&(t={});var e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new A(C.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(t,e){if(t._snapshot.oldDocs.isEmpty()){var n=0;return t._snapshot.docChanges.map((function(e){var i=new Ou(t._firestore,t._userDataWriter,e.doc.key,e.doc,new Iu(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query._converter);return e.doc,{type:"added",doc:i,oldIndex:-1,newIndex:n++}}))}var i=t._snapshot.oldDocs;return t._snapshot.docChanges.filter((function(t){return e||3!==t.type})).map((function(e){var n=new Ou(t._firestore,t._userDataWriter,e.doc.key,e.doc,new Iu(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query._converter),r=-1,o=-1;return 0!==e.type&&(r=i.indexOf(e.doc.key),i=i.delete(e.doc.key)),1!==e.type&&(o=(i=i.add(e.doc)).indexOf(e.doc.key)),{type:Cu(e.type),doc:n,oldIndex:r,newIndex:o}}))}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges},t}();function Cu(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return p()}}function Au(t,e){return t instanceof Tu&&e instanceof Tu?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(null===t._document?null===e._document:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof Su&&e instanceof Su&&t._firestore===e._firestore&&Ra(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xu(t){if(At(t)&&0===t.explicitOrderBy.length)throw new A(C.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Du=function(){};function Mu(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var i=0,r=e;i<r.length;i++){var o=r[i];t=o._apply(t)}return t}var Lu=function(t){function e(e,n,i){var r=this;return(r=t.call(this)||this).zc=e,r.Hc=n,r.Jc=i,r.type="where",r}return Object(s.b)(e,t),e.prototype._apply=function(t){var e=eu(t.firestore),n=function(t,e,n,i,r,o,s){var a;if(r.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new A(C.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){Vu(s,o);for(var u=[],c=0,l=s;c<l.length;c++){var h=l[c];u.push(Fu(i,t,h))}a={arrayValue:{values:u}}}else a=Fu(i,t,s)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||Vu(s,o),a=hu(n,"where",s,"in"===o||"not-in"===o);var f=lt.create(r,o,a);return function(t,e){if(e.g()){var n=Dt(t);if(null!==n&&!n.isEqual(e.field))throw new A(C.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var i=xt(t);null!==i&&qu(t,e.field,i)}var r=function(t,e){for(var n=0,i=t.filters;n<i.length;n++){var r=i[n];if(e.indexOf(r.op)>=0)return r.op}return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==r)throw r===e.op?new A(C.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter."):new A(C.INVALID_ARGUMENT,"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+r.toString()+"' filters.")}(t,f),f}(t._query,0,e,t.firestore._databaseId,this.zc,this.Hc,this.Jc);return new Da(t.firestore,t._converter,function(t,e){var n=t.filters.concat([e]);return new Tt(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}(t._query,n))},e}(Du),Nu=function(t){function e(e,n){var i=this;return(i=t.call(this)||this).zc=e,i.Yc=n,i.type="orderBy",i}return Object(s.b)(e,t),e.prototype._apply=function(t){var e=function(t,e,n){if(null!==t.startAt)throw new A(C.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new A(C.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var i=new _t(e,n);return function(t,e){if(null===xt(t)){var n=Dt(t);null!==n&&qu(t,n,e.field)}}(t,i),i}(t._query,this.zc,this.Yc);return new Da(t.firestore,t._converter,function(t,e){var n=t.explicitOrderBy.concat([e]);return new Tt(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(t._query,e))},e}(Du),Pu=function(t){function e(e,n,i){var r=this;return(r=t.call(this)||this).type=e,r.Xc=n,r.Zc=i,r}return Object(s.b)(e,t),e.prototype._apply=function(t){return new Da(t.firestore,t._converter,Pt(t._query,this.Xc,this.Zc))},e}(Du),Ru=function(t){function e(e,n,i){var r=this;return(r=t.call(this)||this).type=e,r.ta=n,r.ea=i,r}return Object(s.b)(e,t),e.prototype._apply=function(t){var e=Bu(t,this.type,this.ta,this.ea);return new Da(t.firestore,t._converter,function(t,e){return new Tt(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,e,t.endAt)}(t._query,e))},e}(Du),ju=function(t){function e(e,n,i){var r=this;return(r=t.call(this)||this).type=e,r.ta=n,r.ea=i,r}return Object(s.b)(e,t),e.prototype._apply=function(t){var e=Bu(t,this.type,this.ta,this.ea);return new Da(t.firestore,t._converter,function(t,e){return new Tt(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,e)}(t._query,e))},e}(Du);function Bu(t,e,n,i){if(n[0]instanceof Aa&&(n[0]=n[0]._delegate),n[0]instanceof _u)return function(t,e,n,i,r){if(!i)throw new A(C.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],s=0,a=Lt(t);s<a.length;s++){var u=a[s];if(u.field.isKeyField())o.push(Q(e,i.key));else{var c=i.field(u.field);if(q(c))throw new A(C.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.canonicalString();throw new A(C.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}o.push(c)}}return new bt(o,r)}(t._query,t.firestore._databaseId,e,n[0]._document,i);var r=eu(t.firestore);return function(t,e,n,i,r,o){var s=t.explicitOrderBy;if(r.length>s.length)throw new A(C.INVALID_ARGUMENT,"Too many arguments provided to "+i+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var a=[],u=0;u<r.length;u++){var c=r[u];if(s[u].field.isKeyField()){if("string"!=typeof c)throw new A(C.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+i+"(), but got a "+typeof c);if(!Mt(t)&&-1!==c.indexOf("/"))throw new A(C.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+i+"() must be a plain document ID, but '"+c+"' contains a slash.");var l=t.path.child(D.fromString(c));if(!N.isDocumentKey(l))throw new A(C.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+i+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var h=new N(l);a.push(Q(e,h))}else{var f=hu(n,i,c);a.push(f)}}return new bt(a,o)}(t._query,t.firestore._databaseId,r,e,n,i)}function Fu(t,e,n){if(n instanceof Aa&&(n=n._delegate),"string"==typeof n){if(""===n)throw new A(C.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!Mt(e)&&-1!==n.indexOf("/"))throw new A(C.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var i=e.path.child(D.fromString(n));if(!N.isDocumentKey(i))throw new A(C.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+i+"' is not because it has an odd number of segments ("+i.length+").");return Q(t,new N(i))}if(n instanceof xa)return Q(t,n._key);throw new A(C.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+Ia(n)+".")}function Vu(t,e){if(!Array.isArray(t)||0===t.length)throw new A(C.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new A(C.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function qu(t,e,n){if(!n.isEqual(e))throw new A(C.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Uu=function(){function t(){}return t.prototype.convertValue=function(t,e){switch(void 0===e&&(e="none"),H(t)){case 0:return null;case 1:return t.booleanValue;case 2:return B(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(F(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw p()}},t.prototype.convertObject=function(t,e){var n=this,i={};return k(t.fields||{},(function(t,r){i[t]=n.convertValue(r,e)})),i},t.prototype.convertGeoPoint=function(t){return new Ga(B(t.latitude),B(t.longitude))},t.prototype.convertArray=function(t,e){var n=this;return(t.values||[]).map((function(t){return n.convertValue(t,e)}))},t.prototype.convertServerTimestamp=function(t,e){switch(e){case"previous":var n=function t(e){var n=e.mapValue.fields.__previous_value__;return q(n)?t(n):n}(t);return null==n?null:this.convertValue(n,e);case"estimate":return this.convertTimestamp(U(t));default:return null}},t.prototype.convertTimestamp=function(t){var e=j(t);return new V(e.seconds,e.nanos)},t.prototype.convertDocumentKey=function(t,e){var n=D.fromString(t);v(Nn(n));var i=new fa(n.get(1),n.get(3)),r=new N(n.popFirst(5));return i.isEqual(e)||h("Document "+r+" contains a document reference within a different database ("+i.projectId+"/"+i.database+") which is not supported. It will be treated as a reference in the current database ("+e.projectId+"/"+e.database+") instead."),r},t}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hu(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var $u=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(s.b)(e,t),e.prototype.convertBytes=function(t){return new Ka(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new xa(this.firestore,null,e)},e}(Uu),Wu=function(){function t(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=eu(t)}return t.prototype.set=function(t,e,n){this._verifyNotCommitted();var i=Ku(t,this._firestore),r=Hu(i._converter,e,n),o=nu(this._dataReader,"WriteBatch.set",i._key,r,null!==i._converter,n);return this._mutations.push(o.toMutation(i._key,le.none())),this},t.prototype.update=function(t,e,n){for(var i=[],r=3;r<arguments.length;r++)i[r-3]=arguments[r];this._verifyNotCommitted();var o,s=Ku(t,this._firestore);return e instanceof Aa&&(e=e._delegate),o="string"==typeof e||e instanceof Wa?lu(this._dataReader,"WriteBatch.update",s._key,e,n,i):cu(this._dataReader,"WriteBatch.update",s._key,e),this._mutations.push(o.toMutation(s._key,le.exists(!0))),this},t.prototype.delete=function(t){this._verifyNotCommitted();var e=Ku(t,this._firestore);return this._mutations=this._mutations.concat(new Oe(e._key,le.none())),this},t.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},t.prototype._verifyNotCommitted=function(){if(this._committed)throw new A(C.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ku(t,e){if(t instanceof Aa&&(t=t._delegate),t.firestore!==e)throw new A(C.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zu=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(s.b)(e,t),e.prototype.convertBytes=function(t){return new Ka(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new xa(this.firestore,null,e)},e}(Uu);function Gu(t,e,n){for(var i=[],r=3;r<arguments.length;r++)i[r-3]=arguments[r];t=Ta(t,xa);var o=Ta(t.firestore,Va),s=eu(o);return e instanceof Aa&&(e=e._delegate),Yu(o,[("string"==typeof e||e instanceof Wa?lu(s,"updateDoc",t._key,e,n,i):cu(s,"updateDoc",t._key,e)).toMutation(t._key,le.exists(!0))])}function Qu(t){for(var e,n,i,r=[],o=1;o<arguments.length;o++)r[o-1]=arguments[o];t instanceof Aa&&(t=t._delegate);var a={includeMetadataChanges:!1},u=0;"object"!=typeof r[u]||Ba(r[u])||(a=r[u],u++);var c,l,h,f={includeMetadataChanges:a.includeMetadataChanges};if(Ba(r[u])){var d=r[u];r[u]=null===(e=d.next)||void 0===e?void 0:e.bind(d),r[u+1]=null===(n=d.error)||void 0===n?void 0:n.bind(d),r[u+2]=null===(i=d.complete)||void 0===i?void 0:i.bind(d)}if(t instanceof xa)l=Ta(t.firestore,Va),h=St(t._key.path),c={next:function(e){r[u]&&r[u](Xu(l,t,e))},error:r[u+1],complete:r[u+2]};else{var p=Ta(t,Da);l=Ta(p.firestore,Va),h=p._query;var v=new zu(l);c={next:function(t){r[u]&&r[u](new Su(l,v,p,t))},error:r[u+1],complete:r[u+2]},xu(t._query)}return function(t,e,n,i){var r=this,o=new Ys(i),a=new os(e,o,n);return t.asyncQueue.enqueueAndForget((function(){return Object(s.a)(r,void 0,void 0,(function(){var e;return Object(s.c)(this,(function(n){switch(n.label){case 0:return e=ts,[4,ua(t)];case 1:return[2,e.apply(void 0,[n.sent(),a])]}}))}))})),function(){o.Xo(),t.asyncQueue.enqueueAndForget((function(){return Object(s.a)(r,void 0,void 0,(function(){var e;return Object(s.c)(this,(function(n){switch(n.label){case 0:return e=es,[4,ua(t)];case 1:return[2,e.apply(void 0,[n.sent(),a])]}}))}))}))}}(qa(l),h,f,c)}function Yu(t,e){return function(t,e){var n=this,i=new ri;return t.asyncQueue.enqueueAndForget((function(){return Object(s.a)(n,void 0,void 0,(function(){var n;return Object(s.c)(this,(function(r){switch(r.label){case 0:return n=ys,[4,aa(t)];case 1:return[2,n.apply(void 0,[r.sent(),e,i])]}}))}))})),i.promise}(qa(t),e)}function Xu(t,e,n){var i=n.docs.get(e._key),r=new zu(t);return new Tu(t,r,e._key,i,new Iu(n.hasPendingWrites,n.fromCache),e._converter)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ju=function(t){function e(e,n){var i=this;return(i=t.call(this,e,n)||this)._firestore=e,i}return Object(s.b)(e,t),e.prototype.get=function(e){var n=this,i=Ku(e,this._firestore),r=new zu(this._firestore);return t.prototype.get.call(this,e).then((function(t){return new Tu(n._firestore,r,i._key,t._document,new Iu(!1,!1),i._converter)}))},e}(function(){function t(t,e){this._firestore=t,this._transaction=e,this._dataReader=eu(t)}return t.prototype.get=function(t){var e=this,n=Ku(t,this._firestore),i=new $u(this._firestore);return this._transaction.lookup([n._key]).then((function(t){if(!t||1!==t.length)return p();var r=t[0];if(r instanceof it)return new _u(e._firestore,i,n._key,null,n._converter);if(r instanceof nt)return new _u(e._firestore,i,r.key,r,n._converter);throw p()}))},t.prototype.set=function(t,e,n){var i=Ku(t,this._firestore),r=Hu(i._converter,e,n),o=nu(this._dataReader,"Transaction.set",i._key,r,null!==i._converter,n);return this._transaction.set(i._key,o),this},t.prototype.update=function(t,e,n){for(var i=[],r=3;r<arguments.length;r++)i[r-3]=arguments[r];var o,s=Ku(t,this._firestore);return e instanceof Aa&&(e=e._delegate),o="string"==typeof e||e instanceof Wa?lu(this._dataReader,"Transaction.update",s._key,e,n,i):cu(this._dataReader,"Transaction.update",s._key,e),this._transaction.update(s._key,o),this},t.prototype.delete=function(t){var e=Ku(t,this._firestore);return this._transaction.delete(e._key),this},t}());
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zu(){if("undefined"==typeof Uint8Array)throw new A(C.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function tc(){if("undefined"==typeof atob)throw new A(C.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var ec=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(s.b)(e,t),e.fromBase64String=function(t){return tc(),new e(Ka.fromBase64String(t))},e.fromUint8Array=function(t){return Zu(),new e(Ka.fromUint8Array(t))},e.prototype.toBase64=function(){return tc(),this._delegate.toBase64()},e.prototype.toUint8Array=function(){return Zu(),this._delegate.toUint8Array()},e.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(Aa),nc=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(t,e){return function(t,e){$a(t=Ta(t,Va));var n=qa(t),i=t._freezeSettings(),r=new Qs;return Ha(n,r,new zs(r,i.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(t._delegate,{forceOwnership:e})},t.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(t){$a(t=Ta(t,Va));var e=qa(t),n=t._freezeSettings(),i=new Qs;return Ha(e,i,new Gs(i,n.cacheSizeBytes))}(t._delegate)},t.prototype.clearIndexedDbPersistence=function(t){return function(t){var e=this;if(t._initialized&&!t._terminated)throw new A(C.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new ri;return t._queue.enqueueAndForgetEvenWhileRestricted((function(){return Object(s.a)(e,void 0,void 0,(function(){var e;return Object(s.c)(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,function(t){return Object(s.a)(this,void 0,void 0,(function(){var e;return Object(s.c)(this,(function(n){switch(n.label){case 0:return ai.At()?(e=t+"main",[4,ai.delete(e)]):[2,Promise.resolve()];case 1:return n.sent(),[2]}}))}))}(yr(t._databaseId,t._persistenceKey))];case 1:return i.sent(),n.resolve(),[3,3];case 2:return e=i.sent(),n.reject(e),[3,3];case 3:return[2]}}))}))})),n.promise}(t._delegate)},t}(),ic=function(t){function e(e,n,i){var r=this;return(r=t.call(this,n)||this).na=i,r.INTERNAL={delete:function(){return r.terminate()}},e instanceof fa||(r.sa=e),r}return Object(s.b)(e,t),Object.defineProperty(e.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),e.prototype.settings=function(t){t.merge&&delete(t=Object.assign(Object.assign({},this._delegate._getSettings()),t)).merge,this._delegate._setSettings(t)},e.prototype.useEmulator=function(t,e){!function(t,e,n){var i=(t=Ta(t,Ca))._getSettings();"firestore.googleapis.com"!==i.host&&i.host!==e&&f("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},i),{host:e+":"+n,ssl:!1}))}(this._delegate,t,e)},e.prototype.enableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue((function(){return Object(s.a)(e,void 0,void 0,(function(){var e,n;return Object(s.c)(this,(function(i){switch(i.label){case 0:return[4,ra(t)];case 1:return e=i.sent(),[4,sa(t)];case 2:return n=i.sent(),[2,(e.setNetworkEnabled(!0),function(t){var e=g(t);return e.Qr.delete(0),Eo(e)}(n))]}}))}))}))}(qa(Ta(this._delegate,Va)))},e.prototype.disableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue((function(){return Object(s.a)(e,void 0,void 0,(function(){var e,n;return Object(s.c)(this,(function(i){switch(i.label){case 0:return[4,ra(t)];case 1:return e=i.sent(),[4,sa(t)];case 2:return n=i.sent(),[2,(e.setNetworkEnabled(!1),function(t){return Object(s.a)(this,void 0,void 0,(function(){var e;return Object(s.c)(this,(function(n){switch(n.label){case 0:return(e=g(t)).Qr.add(0),[4,ko(e)];case 1:return n.sent(),e.jr.set("Offline"),[2]}}))}))}(n))]}}))}))}))}(qa(Ta(this._delegate,Va)))},e.prototype.enablePersistence=function(t){var e=!1,n=!1;return t&&_a("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",n=!!t.experimentalForceOwningTab),e?this.na.enableMultiTabIndexedDbPersistence(this):this.na.enableIndexedDbPersistence(this,n)},e.prototype.clearPersistence=function(){return this.na.clearIndexedDbPersistence(this)},e.prototype.terminate=function(){return this.sa&&(this.sa._removeServiceInstance("firestore"),this.sa._removeServiceInstance("firestore-exp")),this._delegate._delete()},e.prototype.waitForPendingWrites=function(){return function(t){var e=this,n=new ri;return t.asyncQueue.enqueueAndForget((function(){return Object(s.a)(e,void 0,void 0,(function(){var e;return Object(s.c)(this,(function(i){switch(i.label){case 0:return e=Is,[4,aa(t)];case 1:return[2,e.apply(void 0,[i.sent(),n])]}}))}))})),n.promise}(qa(Ta(this._delegate,Va)))},e.prototype.onSnapshotsInSync=function(t){return function(t,e){return function(t,e){var n=this,i=new Ys(e);return t.asyncQueue.enqueueAndForget((function(){return Object(s.a)(n,void 0,void 0,(function(){var e;return Object(s.c)(this,(function(n){switch(n.label){case 0:return e=function(t,e){g(t).Zr.add(e),e.next()},[4,ua(t)];case 1:return[2,e.apply(void 0,[n.sent(),i])]}}))}))})),function(){i.Xo(),t.asyncQueue.enqueueAndForget((function(){return Object(s.a)(n,void 0,void 0,(function(){var e;return Object(s.c)(this,(function(n){switch(n.label){case 0:return e=function(t,e){g(t).Zr.delete(e)},[4,ua(t)];case 1:return[2,e.apply(void 0,[n.sent(),i])]}}))}))}))}}(qa(t=Ta(t,Va)),Ba(e)?e:{next:e})}(this._delegate,t)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this.sa)throw new A(C.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.sa},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new yc(this,La(this._delegate,t))}catch(t){throw lc(t,"collection()","Firestore.collection()")}},e.prototype.doc=function(t){try{return new cc(this,Na(this._delegate,t))}catch(t){throw lc(t,"doc()","Firestore.doc()")}},e.prototype.collectionGroup=function(t){try{return new vc(this,function(t,e){if(t=Ta(t,Ca),ba("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new A(C.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new Da(t,null,function(t){return new Tt(D.emptyPath(),t)}(e))}(this._delegate,t))}catch(t){throw lc(t,"collectionGroup()","Firestore.collectionGroup()")}},e.prototype.runTransaction=function(t){var e=this;return function(t,e){return function(t,e){var n=this,i=new ri;return t.asyncQueue.enqueueAndForget((function(){return Object(s.a)(n,void 0,void 0,(function(){var n;return Object(s.c)(this,(function(r){switch(r.label){case 0:return[4,function(t){return ia(t).then((function(t){return t.datastore}))}(t)];case 1:return n=r.sent(),new Js(t.asyncQueue,n,e,i).run(),[2]}}))}))})),i.promise}(qa(t),(function(n){return e(new Ju(t,n))}))}(this._delegate,(function(n){return t(new sc(e,n))}))},e.prototype.batch=function(){var t=this;return qa(this._delegate),new ac(new Wu(this._delegate,(function(e){return Yu(t._delegate,e)})))},e.prototype.loadBundle=function(t){throw new A(C.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},e.prototype.namedQuery=function(t){throw new A(C.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},e}(Aa),rc=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(s.b)(e,t),e.prototype.convertBytes=function(t){return new ec(new Ka(t))},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return cc.ia(e,this.firestore,null)},e}(Uu);function oc(t){var e;e=t,u.setLogLevel(e)}var sc=function(t){function e(e,n){var i=this;return(i=t.call(this,n)||this)._firestore=e,i._userDataWriter=new rc(e),i}return Object(s.b)(e,t),e.prototype.get=function(t){var e=this,n=bc(t);return this._delegate.get(n).then((function(t){return new dc(e._firestore,new Tu(e._firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,n._converter))}))},e.prototype.set=function(t,e,n){var i=bc(t);return n?(wa("Transaction.set",n),this._delegate.set(i,e,n)):this._delegate.set(i,e),this},e.prototype.update=function(t,e,n){for(var i,r=[],o=3;o<arguments.length;o++)r[o-3]=arguments[o];var a=bc(t);return 2===arguments.length?this._delegate.update(a,e):(i=this._delegate).update.apply(i,Object(s.d)([a,e,n],r)),this},e.prototype.delete=function(t){var e=bc(t);return this._delegate.delete(e),this},e}(Aa),ac=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(s.b)(e,t),e.prototype.set=function(t,e,n){var i=bc(t);return n?(wa("WriteBatch.set",n),this._delegate.set(i,e,n)):this._delegate.set(i,e),this},e.prototype.update=function(t,e,n){for(var i,r=[],o=3;o<arguments.length;o++)r[o-3]=arguments[o];var a=bc(t);return 2===arguments.length?this._delegate.update(a,e):(i=this._delegate).update.apply(i,Object(s.d)([a,e,n],r)),this},e.prototype.delete=function(t){var e=bc(t);return this._delegate.delete(e),this},e.prototype.commit=function(){return this._delegate.commit()},e}(Aa),uc=function(t){function e(e,n,i){var r=this;return(r=t.call(this,i)||this)._firestore=e,r._userDataWriter=n,r}return Object(s.b)(e,t),e.prototype.fromFirestore=function(t,e){var n=new Ou(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new pc(this._firestore,n),null!=e?e:{})},e.prototype.toFirestore=function(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)},e.ra=function(t,n){var i=e.oa,r=i.get(t);r||(r=new WeakMap,i.set(t,r));var o=r.get(n);return o||(o=new e(t,new rc(t),n),r.set(n,o)),o},e}(Aa);uc.oa=new WeakMap;var cc=function(t){function e(e,n){var i=this;return(i=t.call(this,n)||this).firestore=e,i._userDataWriter=new rc(e),i}return Object(s.b)(e,t),e.ca=function(t,n,i){if(t.length%2!=0)throw new A(C.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.canonicalString()+" has "+t.length);return new e(n,new xa(n._delegate,i,new N(t)))},e.ia=function(t,n,i){return new e(n,new xa(n._delegate,i,t))},Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new yc(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new yc(this.firestore,La(this._delegate,t))}catch(t){throw lc(t,"collection()","DocumentReference.collection()")}},e.prototype.isEqual=function(t){return t instanceof Aa&&(t=t._delegate),t instanceof xa&&Pa(this._delegate,t)},e.prototype.set=function(t,e){e=wa("DocumentReference.set",e);try{return function(t,e,n){t=Ta(t,xa);var i=Ta(t.firestore,Va),r=Hu(t._converter,e,n);return Yu(i,[nu(eu(i),"setDoc",t._key,r,null!==t._converter,n).toMutation(t._key,le.none())])}(this._delegate,t,e)}catch(t){throw lc(t,"setDoc()","DocumentReference.set()")}},e.prototype.update=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];try{return 1===arguments.length?Gu(this._delegate,t):Gu.apply(void 0,Object(s.d)([this._delegate,t,e],n))}catch(t){throw lc(t,"updateDoc()","DocumentReference.update()")}},e.prototype.delete=function(){return Yu(Ta((t=this._delegate).firestore,Va),[new Oe(t._key,le.none())]);var t},e.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var i=hc(e),r=fc(e,(function(e){return new dc(t.firestore,new Tu(t.firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,t._delegate._converter))}));return Qu(this._delegate,i,r)},e.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=Ta(t,xa);var e=Ta(t.firestore,Va),n=qa(e),i=new zu(e);return function(t,e){var n=this,i=new ri;return t.asyncQueue.enqueueAndForget((function(){return Object(s.a)(n,void 0,void 0,(function(){var n;return Object(s.c)(this,(function(r){switch(r.label){case 0:return n=function(t,e,n){return Object(s.a)(this,void 0,void 0,(function(){var i,r;return Object(s.c)(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,function(t,e){var n=g(t);return n.persistence.runTransaction("read document","readonly",(function(t){return n.Kn.In(t,e)}))}(t,e)];case 1:return(r=o.sent())instanceof nt?n.resolve(r):r instanceof it?n.resolve(null):n.reject(new A(C.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return i=o.sent(),r=Go(i,"Failed to get document '"+e+" from cache"),n.reject(r),[3,3];case 3:return[2]}}))}))},[4,oa(t)];case 1:return[2,n.apply(void 0,[r.sent(),e,i])]}}))}))})),i.promise}(n,t._key).then((function(n){return new Tu(e,i,t._key,n,new Iu(n instanceof nt&&n.hasLocalMutations,!0),t._converter)}))}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=Ta(t,xa);var e=Ta(t.firestore,Va);return ca(qa(e),t._key,{source:"server"}).then((function(n){return Xu(e,t,n)}))}(this._delegate):function(t){t=Ta(t,xa);var e=Ta(t.firestore,Va);return ca(qa(e),t._key).then((function(n){return Xu(e,t,n)}))}(this._delegate)).then((function(t){return new dc(e.firestore,new Tu(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate._converter))}))},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(uc.ra(this.firestore,t)):this._delegate.withConverter(null))},e}(Aa);function lc(t,e,n){return t.message=t.message.replace(e,n),t}function hc(t){for(var e=0,n=t;e<n.length;e++){var i=n[e];if("object"==typeof i&&!Ba(i))return i}return{}}function fc(t,e){var n,i,r;return{next:function(t){r.next&&r.next(e(t))},error:null===(n=(r=Ba(t[0])?t[0]:Ba(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)||void 0===n?void 0:n.bind(r),complete:null===(i=r.complete)||void 0===i?void 0:i.bind(r)}}var dc=function(t){function e(e,n){var i=this;return(i=t.call(this,n)||this)._firestore=e,i}return Object(s.b)(e,t),Object.defineProperty(e.prototype,"ref",{get:function(){return new cc(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),e.prototype.data=function(t){return this._delegate.data(t)},e.prototype.get=function(t,e){return this._delegate.get(t,e)},e.prototype.isEqual=function(t){return Au(this._delegate,t._delegate)},e}(Aa),pc=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(s.b)(e,t),e.prototype.data=function(t){return this._delegate.data(t)},e}(dc),vc=function(t){function e(e,n){var i=this;return(i=t.call(this,n)||this).firestore=e,i._userDataWriter=new rc(e),i}return Object(s.b)(e,t),e.prototype.where=function(t,n,i){try{return new e(this.firestore,Mu(this._delegate,function(t,e,n){var i=e,r=ku("where",t);return new Lu(r,i,n)}(t,n,i)))}catch(t){throw lc(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.orderBy=function(t,n){try{return new e(this.firestore,Mu(this._delegate,function(t,e){void 0===e&&(e="asc");var n=e,i=ku("orderBy",t);return new Nu(i,n)}(t,n)))}catch(t){throw lc(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.limit=function(t){try{return new e(this.firestore,Mu(this._delegate,function(t){return Oa("limit",t),new Pu("limit",t,"F")}(t)))}catch(t){throw lc(t,"limit()","Query.limit()")}},e.prototype.limitToLast=function(t){try{return new e(this.firestore,Mu(this._delegate,function(t){return Oa("limitToLast",t),new Pu("limitToLast",t,"L")}(t)))}catch(t){throw lc(t,"limitToLast()","Query.limitToLast()")}},e.prototype.startAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Mu(this._delegate,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Ru("startAt",t,!0)}.apply(void 0,t)))}catch(t){throw lc(t,"startAt()","Query.startAt()")}},e.prototype.startAfter=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Mu(this._delegate,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Ru("startAfter",t,!1)}.apply(void 0,t)))}catch(t){throw lc(t,"startAfter()","Query.startAfter()")}},e.prototype.endBefore=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Mu(this._delegate,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new ju("endBefore",t,!0)}.apply(void 0,t)))}catch(t){throw lc(t,"endBefore()","Query.endBefore()")}},e.prototype.endAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Mu(this._delegate,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new ju("endAt",t,!1)}.apply(void 0,t)))}catch(t){throw lc(t,"endAt()","Query.endAt()")}},e.prototype.isEqual=function(t){return Ra(this._delegate,t._delegate)},e.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=Ta(t,Da);var e=Ta(t.firestore,Va),n=qa(e),i=new zu(e);return function(t,e){var n=this,i=new ri;return t.asyncQueue.enqueueAndForget((function(){return Object(s.a)(n,void 0,void 0,(function(){var n;return Object(s.c)(this,(function(r){switch(r.label){case 0:return n=function(t,e,n){return Object(s.a)(this,void 0,void 0,(function(){var i,r,o,a,u;return Object(s.c)(this,(function(s){switch(s.label){case 0:return s.trys.push([0,2,,3]),[4,Lr(t,e,!0)];case 1:return u=s.sent(),i=new hs(e,u.jn),r=i.Io(u.documents),o=i.applyChanges(r,!1),n.resolve(o.snapshot),[3,3];case 2:return a=s.sent(),u=Go(a,"Failed to execute query '"+e+" against cache"),n.reject(u),[3,3];case 3:return[2]}}))}))},[4,oa(t)];case 1:return[2,n.apply(void 0,[r.sent(),e,i])]}}))}))})),i.promise}(n,t._query).then((function(n){return new Su(e,i,t,n)}))}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=Ta(t,Da);var e=Ta(t.firestore,Va),n=qa(e),i=new zu(e);return la(n,t._query,{source:"server"}).then((function(n){return new Su(e,i,t,n)}))}(this._delegate):function(t){t=Ta(t,Da);var e=Ta(t.firestore,Va),n=qa(e),i=new zu(e);return xu(t._query),la(n,t._query).then((function(n){return new Su(e,i,t,n)}))}(this._delegate)).then((function(t){return new mc(e.firestore,new Su(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}))},e.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var i=hc(e),r=fc(e,(function(e){return new mc(t.firestore,new Su(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))}));return Qu(this._delegate,i,r)},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(uc.ra(this.firestore,t)):this._delegate.withConverter(null))},e}(Aa),gc=function(t){function e(e,n){var i=this;return(i=t.call(this,n)||this)._firestore=e,i}return Object(s.b)(e,t),Object.defineProperty(e.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"doc",{get:function(){return new pc(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),e}(Aa),mc=function(t){function e(e,n){var i=this;return(i=t.call(this,n)||this)._firestore=e,i}return Object(s.b)(e,t),Object.defineProperty(e.prototype,"query",{get:function(){return new vc(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"docs",{get:function(){var t=this;return this._delegate.docs.map((function(e){return new pc(t._firestore,e)}))},enumerable:!1,configurable:!0}),e.prototype.docChanges=function(t){var e=this;return this._delegate.docChanges(t).map((function(t){return new gc(e._firestore,t)}))},e.prototype.forEach=function(t,e){var n=this;this._delegate.forEach((function(i){t.call(e,new pc(n._firestore,i))}))},e.prototype.isEqual=function(t){return Au(this._delegate,t._delegate)},e}(Aa),yc=function(t){function e(e,n){var i=this;return(i=t.call(this,e,n)||this).firestore=e,i._delegate=n,i}return Object(s.b)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._delegate.parent;return t?new cc(this.firestore,t):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){try{return new cc(this.firestore,void 0===t?Na(this._delegate):Na(this._delegate,t))}catch(t){throw lc(t,"doc()","CollectionReference.doc()")}},e.prototype.add=function(t){var e=this;return function(t,e){var n=Ta(t.firestore,Va),i=Na(t),r=Hu(t._converter,e);return Yu(n,[nu(eu(t.firestore),"addDoc",i._key,r,null!==t._converter,{}).toMutation(i._key,le.exists(!1))]).then((function(){return i}))}(this._delegate,t).then((function(t){return new cc(e.firestore,t)}))},e.prototype.isEqual=function(t){return Pa(this._delegate,t._delegate)},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(uc.ra(this.firestore,t)):this._delegate.withConverter(null))},e}(vc);function bc(t){return t instanceof Aa&&(t=t._delegate),Ta(t,xa)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wc=function(t){function e(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.call(this,new(Wa.bind.apply(Wa,Object(s.d)([void 0],e))))||this}return Object(s.b)(e,t),e.documentId=function(){return new e(L.keyField().canonicalString())},e.prototype.isEqual=function(t){return t instanceof Aa&&(t=t._delegate),t instanceof Wa&&this._delegate._internalPath.isEqual(t._internalPath)},e}(Aa),_c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(s.b)(e,t),e.serverTimestamp=function(){var t=new ou("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)},e.delete=function(){var t=new iu("deleteField");return t._methodName="FieldValue.delete",new e(t)},e.arrayUnion=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var i=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new su("arrayUnion",t)}.apply(void 0,t);return i._methodName="FieldValue.arrayUnion",new e(i)},e.arrayRemove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var i=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new au("arrayRemove",t)}.apply(void 0,t);return i._methodName="FieldValue.arrayRemove",new e(i)},e.increment=function(t){var n=function(t){return new uu("increment",t)}(t);return n._methodName="FieldValue.increment",new e(n)},e.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},e}(Aa);
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}).call(this,n("5IsQ"))},"4NM0":function(t,e,n){"use strict";var i=n("JRM0"),r=n("9dC0"),o=n("Qean");i({target:"String",proto:!0,forced:!n("O5TI")("includes")},{includes:function(t){return!!~String(o(this)).indexOf(r(t),arguments.length>1?arguments[1]:void 0)}})},"4ssk":function(t,e,n){var i,r,o,s=n("nEaP"),a=n("+iL7"),u=n("fSIz"),c=n("a72Q"),l=n("R1TW"),h=n("HRgQ"),f=n("s06e"),d=s.location,p=s.setImmediate,v=s.clearImmediate,g=s.process,m=s.MessageChannel,y=s.Dispatch,b=0,w={},_=function(t){if(w.hasOwnProperty(t)){var e=w[t];delete w[t],e()}},E=function(t){return function(){_(t)}},k=function(t){_(t.data)},I=function(t){s.postMessage(t+"",d.protocol+"//"+d.host)};p&&v||(p=function(t){for(var e=[],n=1;arguments.length>n;)e.push(arguments[n++]);return w[++b]=function(){("function"==typeof t?t:Function(t)).apply(void 0,e)},i(b),b},v=function(t){delete w[t]},"process"==u(g)?i=function(t){g.nextTick(E(t))}:y&&y.now?i=function(t){y.now(E(t))}:m&&!f?(o=(r=new m).port2,r.port1.onmessage=k,i=c(o.postMessage,o,1)):!s.addEventListener||"function"!=typeof postMessage||s.importScripts||a(I)||"file:"===d.protocol?i="onreadystatechange"in h("script")?function(t){l.appendChild(h("script")).onreadystatechange=function(){l.removeChild(this),_(t)}}:function(t){setTimeout(E(t),0)}:(i=I,s.addEventListener("message",k,!1))),t.exports={set:p,clear:v}},"4wZq":function(t,e,n){"use strict";e.__esModule=!0,e.createProtoAccessControl=function(t){var e=Object.create(null);e.constructor=!1,e.__defineGetter__=!1,e.__defineSetter__=!1,e.__lookupGetter__=!1;var n=Object.create(null);return n.__proto__=!1,{properties:{whitelist:i.createNewLookupObject(n,t.allowedProtoProperties),defaultValue:t.allowProtoPropertiesByDefault},methods:{whitelist:i.createNewLookupObject(e,t.allowedProtoMethods),defaultValue:t.allowProtoMethodsByDefault}}},e.resultIsAllowed=function(t,e,n){return s("function"==typeof t?e.methods:e.properties,n)},e.resetLoggedProperties=function(){Object.keys(o).forEach((function(t){delete o[t]}))};var i=n("ptwD"),r=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n("jYw0")),o=Object.create(null);function s(t,e){return void 0!==t.whitelist[e]?!0===t.whitelist[e]:void 0!==t.defaultValue?t.defaultValue:(function(t){!0!==o[t]&&(o[t]=!0,r.log("error",'Handlebars: Access has been denied to resolve the property "'+t+'" because it is not an "own property" of its parent.\nYou can add a runtime option to disable the check or this warning:\nSee https://handlebarsjs.com/api-reference/runtime-options.html#options-to-control-prototype-access for details'))}(e),!1)}},"5IsQ":function(t,e){var n,i,r=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function a(t){if(n===setTimeout)return setTimeout(t,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(t){n=o}try{i="function"==typeof clearTimeout?clearTimeout:s}catch(t){i=s}}();var u,c=[],l=!1,h=-1;function f(){l&&u&&(l=!1,u.length?c=u.concat(c):h=-1,c.length&&d())}function d(){if(!l){var t=a(f);l=!0;for(var e=c.length;e;){for(u=c,c=[];++h<e;)u&&u[h].run();h=-1,e=c.length}u=null,l=!1,function(t){if(i===clearTimeout)return clearTimeout(t);if((i===s||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(t);try{i(t)}catch(e){try{return i.call(null,t)}catch(e){return i.call(this,t)}}}(t)}}function p(t,e){this.fun=t,this.array=e}function v(){}r.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];c.push(new p(t,e)),1!==c.length||l||a(d)},p.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=v,r.addListener=v,r.once=v,r.off=v,r.removeListener=v,r.removeAllListeners=v,r.emit=v,r.prependListener=v,r.prependOnceListener=v,r.listeners=function(t){return[]},r.binding=function(t){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(t){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},"5q7I":function(t,e,n){var i=n("a72Q"),r=n("DJGK"),o=n("9pAD"),s=n("zrDt"),a=n("iSxr"),u=[].push,c=function(t){var e=1==t,n=2==t,c=3==t,l=4==t,h=6==t,f=5==t||h;return function(d,p,v,g){for(var m,y,b=o(d),w=r(b),_=i(p,v,3),E=s(w.length),k=0,I=g||a,T=e?I(d,E):n?I(d,0):void 0;E>k;k++)if((f||k in w)&&(y=_(m=w[k],k,b),t))if(e)T[k]=y;else if(y)switch(t){case 3:return!0;case 5:return m;case 6:return k;case 2:u.call(T,m)}else if(l)return!1;return h?-1:c||l?l:T}};t.exports={forEach:c(0),map:c(1),filter:c(2),some:c(3),every:c(4),find:c(5),findIndex:c(6)}},"6+Qq":function(t,e,n){"use strict";(function(n){e.__esModule=!0,e.default=function(t){var e=void 0!==n?n:window,i=e.Handlebars;t.noConflict=function(){return e.Handlebars===t&&(e.Handlebars=i),t}},t.exports=e.default}).call(this,n("pCvA"))},"6+ef":function(t,e,n){var i=n("GHf2"),r=n("q/gS"),o=i("iterator"),s=Array.prototype;t.exports=function(t){return void 0!==t&&(r.Array===t||s[o]===t)}},"6ka5":function(t,e,n){var i=n("gDYM"),r=n("jmUq"),o=n("GHf2")("species");t.exports=function(t,e){var n,s=i(t).constructor;return void 0===s||null==(n=i(s)[o])?e:r(n)}},"7UQM":function(t,e){e.module=function(t,e){"use strict";var n=t.TemplatePaginator=function(e){var n=e.template;if(!n)throw new Error("Template compile to function needed");n.constructor&&n.call&&n.apply||(n=t.TemplateEngine.compile(String(n),e)),t.Paginator.call(this,e),this.renderer=n};e.inherits(n,t.Paginator),n.prototype.render=function(){var e,n,i=this.getPaginationData();for(i.preparedPreLink=this.preparePreLink(i.prelink),i.translations={},e=0,n=t.translationKeys.length;e<n;e++)i.translations[t.translationKeys[e]]=this.options.translator(t.translationKeys[e]);return this.renderer(i)},t.registerFactory("template",n)}},"7UkH":function(t,e,n){"use strict";e.__esModule=!0;var i,r=n("82EY"),o=n("AIJh"),s=(i=o)&&i.__esModule?i:{default:i};e.default=function(t){t.registerHelper("if",(function(t,e){if(2!=arguments.length)throw new s.default("#if requires exactly one argument");return r.isFunction(t)&&(t=t.call(this)),!e.hash.includeZero&&!t||r.isEmpty(t)?e.inverse(this):e.fn(this)})),t.registerHelper("unless",(function(e,n){if(2!=arguments.length)throw new s.default("#unless requires exactly one argument");return t.helpers.if.call(this,e,{fn:n.inverse,inverse:n.fn,hash:n.hash})}))},t.exports=e.default},"7YMQ":function(t,e,n){var i=n("gDYM");t.exports=function(t,e,n,r){try{return r?e(i(n)[0],n[1]):e(n)}catch(e){var o=t.return;throw void 0!==o&&i(o.call(t)),e}}},"82EY":function(t,e,n){"use strict";e.__esModule=!0,e.extend=a,e.indexOf=function(t,e){for(var n=0,i=t.length;n<i;n++)if(t[n]===e)return n;return-1},e.escapeExpression=function(t){if("string"!=typeof t){if(t&&t.toHTML)return t.toHTML();if(null==t)return"";if(!t)return t+"";t=""+t}if(!o.test(t))return t;return t.replace(r,s)},e.isEmpty=function(t){return!t&&0!==t||!(!l(t)||0!==t.length)},e.createFrame=function(t){var e=a({},t);return e._parent=t,e},e.blockParams=function(t,e){return t.path=e,t},e.appendContextPath=function(t,e){return(t?t+".":"")+e};var i={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;","=":"&#x3D;"},r=/[&<>"'`=]/g,o=/[&<>"'`=]/;function s(t){return i[t]}function a(t){for(var e=1;e<arguments.length;e++)for(var n in arguments[e])Object.prototype.hasOwnProperty.call(arguments[e],n)&&(t[n]=arguments[e][n]);return t}var u=Object.prototype.toString;e.toString=u;var c=function(t){return"function"==typeof t};c(/x/)&&(e.isFunction=c=function(t){return"function"==typeof t&&"[object Function]"===u.call(t)}),e.isFunction=c;var l=Array.isArray||function(t){return!(!t||"object"!=typeof t)&&"[object Array]"===u.call(t)};e.isArray=l},"8OJN":function(t,e,n){var i=n("tF07"),r=n("M/tt"),o=n("kMPr").indexOf,s=n("s3NK");t.exports=function(t,e){var n,a=r(t),u=0,c=[];for(n in a)!i(s,n)&&i(a,n)&&c.push(n);for(;e.length>u;)i(a,n=e[u++])&&(~o(c,n)||c.push(n));return c}},"8cZI":function(t,e,n){"use strict";var i=n("JRM0"),r=n("DJGK"),o=n("M/tt"),s=n("fK/z"),a=[].join,u=r!=Object,c=s("join",",");i({target:"Array",proto:!0,forced:u||!c},{join:function(t){return a.call(o(this),void 0===t?",":t)}})},"9dC0":function(t,e,n){var i=n("GrtF");t.exports=function(t){if(i(t))throw TypeError("The method doesn't accept regular expressions");return t}},"9nX2":function(t,e,n){var i=n("+iL7"),r=/#|\.prototype\./,o=function(t,e){var n=a[s(t)];return n==c||n!=u&&("function"==typeof e?i(e):!!e)},s=o.normalize=function(t){return String(t).replace(r,".").toLowerCase()},a=o.data={},u=o.NATIVE="N",c=o.POLYFILL="P";t.exports=o},"9pAD":function(t,e,n){var i=n("Qean");t.exports=function(t){return Object(i(t))}},AIJh:function(t,e,n){"use strict";e.__esModule=!0;var i=["description","fileName","lineNumber","endLineNumber","message","name","number","stack"];function r(t,e){var n=e&&e.loc,o=void 0,s=void 0,a=void 0,u=void 0;n&&(o=n.start.line,s=n.end.line,a=n.start.column,u=n.end.column,t+=" - "+o+":"+a);for(var c=Error.prototype.constructor.call(this,t),l=0;l<i.length;l++)this[i[l]]=c[i[l]];Error.captureStackTrace&&Error.captureStackTrace(this,r);try{n&&(this.lineNumber=o,this.endLineNumber=s,Object.defineProperty?(Object.defineProperty(this,"column",{value:a,enumerable:!0}),Object.defineProperty(this,"endColumn",{value:u,enumerable:!0})):(this.column=a,this.endColumn=u))}catch(t){}}r.prototype=new Error,e.default=r,t.exports=e.default},"B/3V":function(t,e,n){var i=n("clxC");t.exports=i&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},BqYr:function(t,e,n){"use strict";var i=n("+iL7");function r(t,e){return RegExp(t,e)}e.UNSUPPORTED_Y=i((function(){var t=r("a","y");return t.lastIndex=2,null!=t.exec("abcd")})),e.BROKEN_CARET=i((function(){var t=r("^r","gy");return t.lastIndex=2,null!=t.exec("str")}))},"D/wG":function(t,e,n){var i=n("Hvpk"),r=n("nRc6").f,o=Function.prototype,s=o.toString,a=/^\s*function ([^ (]*)/;i&&!("name"in o)&&r(o,"name",{configurable:!0,get:function(){try{return s.call(this).match(a)[1]}catch(t){return""}}})},DJGK:function(t,e,n){var i=n("+iL7"),r=n("fSIz"),o="".split;t.exports=i((function(){return!Object("z").propertyIsEnumerable(0)}))?function(t){return"String"==r(t)?o.call(t,""):Object(t)}:Object},ELjB:function(t,e,n){"use strict";var i,r=n("a9xp"),o=(n("MxOq"),n("1iQ0"),n("VClI"),n("42RW")),s=n("3sWB"),a={Firestore:o.f,GeoPoint:o.r,Timestamp:o.d,Blob:o.e,Transaction:o.n,WriteBatch:o.a,DocumentReference:o.b,DocumentSnapshot:o.j,Query:o.l,QueryDocumentSnapshot:o.q,QuerySnapshot:o.p,CollectionReference:o.m,FieldPath:o.o,FieldValue:o.k,setLogLevel:o.i,CACHE_SIZE_UNLIMITED:o.g};(function(t,e){t.INTERNAL.registerComponent(new s.a("firestore",(function(t){return function(t,e){return new o.f(t,new o.c(t,e),new o.h)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))}),"PUBLIC").setServiceProps(Object.assign({},a)))})(i=r.a),i.registerVersion("@firebase/firestore","2.2.1")},FdtR:function(t,e,n){"use strict";var i,r,o,s,a=n("JRM0"),u=n("PCqT"),c=n("nEaP"),l=n("UVdV"),h=n("hXTI"),f=n("0K2p"),d=n("xxLW"),p=n("1tiZ"),v=n("V2sW"),g=n("fT8P"),m=n("jmUq"),y=n("iBt0"),b=n("fSIz"),w=n("/dUa"),_=n("maYj"),E=n("Ncbx"),k=n("6ka5"),I=n("4ssk").set,T=n("m1e9"),O=n("W2UA"),S=n("OTtX"),C=n("N1hr"),A=n("gmtn"),x=n("SkE4"),D=n("9nX2"),M=n("GHf2"),L=n("G5hJ"),N=M("species"),P="Promise",R=x.get,j=x.set,B=x.getterFor(P),F=h,V=c.TypeError,q=c.document,U=c.process,H=l("fetch"),$=C.f,W=$,K="process"==b(U),z=!!(q&&q.createEvent&&c.dispatchEvent),G=D(P,(function(){if(!(w(F)!==String(F))){if(66===L)return!0;if(!K&&"function"!=typeof PromiseRejectionEvent)return!0}if(u&&!F.prototype.finally)return!0;if(L>=51&&/native code/.test(F))return!1;var t=F.resolve(1),e=function(t){t((function(){}),(function(){}))};return(t.constructor={})[N]=e,!(t.then((function(){}))instanceof e)})),Q=G||!E((function(t){F.all(t).catch((function(){}))})),Y=function(t){var e;return!(!g(t)||"function"!=typeof(e=t.then))&&e},X=function(t,e,n){if(!e.notified){e.notified=!0;var i=e.reactions;T((function(){for(var r=e.value,o=1==e.state,s=0;i.length>s;){var a,u,c,l=i[s++],h=o?l.ok:l.fail,f=l.resolve,d=l.reject,p=l.domain;try{h?(o||(2===e.rejection&&et(t,e),e.rejection=1),!0===h?a=r:(p&&p.enter(),a=h(r),p&&(p.exit(),c=!0)),a===l.promise?d(V("Promise-chain cycle")):(u=Y(a))?u.call(a,f,d):f(a)):d(r)}catch(t){p&&!c&&p.exit(),d(t)}}e.reactions=[],e.notified=!1,n&&!e.rejection&&Z(t,e)}))}},J=function(t,e,n){var i,r;z?((i=q.createEvent("Event")).promise=e,i.reason=n,i.initEvent(t,!1,!0),c.dispatchEvent(i)):i={promise:e,reason:n},(r=c["on"+t])?r(i):"unhandledrejection"===t&&S("Unhandled promise rejection",n)},Z=function(t,e){I.call(c,(function(){var n,i=e.value;if(tt(e)&&(n=A((function(){K?U.emit("unhandledRejection",i,t):J("unhandledrejection",t,i)})),e.rejection=K||tt(e)?2:1,n.error))throw n.value}))},tt=function(t){return 1!==t.rejection&&!t.parent},et=function(t,e){I.call(c,(function(){K?U.emit("rejectionHandled",t):J("rejectionhandled",t,e.value)}))},nt=function(t,e,n,i){return function(r){t(e,n,r,i)}},it=function(t,e,n,i){e.done||(e.done=!0,i&&(e=i),e.value=n,e.state=2,X(t,e,!0))},rt=function(t,e,n,i){if(!e.done){e.done=!0,i&&(e=i);try{if(t===n)throw V("Promise can't be resolved itself");var r=Y(n);r?T((function(){var i={done:!1};try{r.call(n,nt(rt,t,i,e),nt(it,t,i,e))}catch(n){it(t,i,n,e)}})):(e.value=n,e.state=1,X(t,e,!1))}catch(n){it(t,{done:!1},n,e)}}};G&&(F=function(t){y(this,F,P),m(t),i.call(this);var e=R(this);try{t(nt(rt,this,e),nt(it,this,e))}catch(t){it(this,e,t)}},(i=function(t){j(this,{type:P,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=d(F.prototype,{then:function(t,e){var n=B(this),i=$(k(this,F));return i.ok="function"!=typeof t||t,i.fail="function"==typeof e&&e,i.domain=K?U.domain:void 0,n.parent=!0,n.reactions.push(i),0!=n.state&&X(this,n,!1),i.promise},catch:function(t){return this.then(void 0,t)}}),r=function(){var t=new i,e=R(t);this.promise=t,this.resolve=nt(rt,t,e),this.reject=nt(it,t,e)},C.f=$=function(t){return t===F||t===o?new r(t):W(t)},u||"function"!=typeof h||(s=h.prototype.then,f(h.prototype,"then",(function(t,e){var n=this;return new F((function(t,e){s.call(n,t,e)})).then(t,e)}),{unsafe:!0}),"function"==typeof H&&a({global:!0,enumerable:!0,forced:!0},{fetch:function(t){return O(F,H.apply(c,arguments))}}))),a({global:!0,wrap:!0,forced:G},{Promise:F}),p(F,P,!1,!0),v(P),o=l(P),a({target:P,stat:!0,forced:G},{reject:function(t){var e=$(this);return e.reject.call(void 0,t),e.promise}}),a({target:P,stat:!0,forced:u||G},{resolve:function(t){return O(u&&this===o?F:this,t)}}),a({target:P,stat:!0,forced:Q},{all:function(t){var e=this,n=$(e),i=n.resolve,r=n.reject,o=A((function(){var n=m(e.resolve),o=[],s=0,a=1;_(t,(function(t){var u=s++,c=!1;o.push(void 0),a++,n.call(e,t).then((function(t){c||(c=!0,o[u]=t,--a||i(o))}),r)})),--a||i(o)}));return o.error&&r(o.value),n.promise},race:function(t){var e=this,n=$(e),i=n.reject,r=A((function(){var r=m(e.resolve);_(t,(function(t){r.call(e,t).then(n.resolve,i)}))}));return r.error&&i(r.value),n.promise}})},Fup7:function(t,e,n){var i=n("Hvpk"),r=n("41Zj"),o=n("VSW8"),s=n("M/tt"),a=n("W9fh"),u=n("tF07"),c=n("xwiM"),l=Object.getOwnPropertyDescriptor;e.f=i?l:function(t,e){if(t=s(t),e=a(e,!0),c)try{return l(t,e)}catch(t){}if(u(t,e))return o(!r.f.call(t,e),t[e])}},Fx6Z:function(t,e){"function"==typeof Object.create?t.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},G5hJ:function(t,e,n){var i,r,o=n("nEaP"),s=n("rxbk"),a=o.process,u=a&&a.versions,c=u&&u.v8;c?r=(i=c.split("."))[0]+i[1]:s&&(!(i=s.match(/Edge\/(\d+)/))||i[1]>=74)&&(i=s.match(/Chrome\/(\d+)/))&&(r=i[1]),t.exports=r&&+r},GHf2:function(t,e,n){var i=n("nEaP"),r=n("gIo2"),o=n("tF07"),s=n("nrda"),a=n("clxC"),u=n("B/3V"),c=r("wks"),l=i.Symbol,h=u?l:l&&l.withoutSetter||s;t.exports=function(t){return o(c,t)||(a&&o(l,t)?c[t]=l[t]:c[t]=h("Symbol."+t)),c[t]}},GrtF:function(t,e,n){var i=n("fT8P"),r=n("fSIz"),o=n("GHf2")("match");t.exports=function(t){var e;return i(t)&&(void 0!==(e=t[o])?!!e:"RegExp"==r(t))}},H0Ge:function(t,e,n){var i=n("Qean"),r="["+n("VcRG")+"]",o=RegExp("^"+r+r+"*"),s=RegExp(r+r+"*$"),a=function(t){return function(e){var n=String(i(e));return 1&t&&(n=n.replace(o,"")),2&t&&(n=n.replace(s,"")),n}};t.exports={start:a(1),end:a(2),trim:a(3)}},HRgQ:function(t,e,n){var i=n("nEaP"),r=n("fT8P"),o=i.document,s=r(o)&&r(o.createElement);t.exports=function(t){return s?o.createElement(t):{}}},Hvpk:function(t,e,n){var i=n("+iL7");t.exports=!i((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},IVfQ:function(t,e,n){"use strict";e.__esModule=!0,e.default=function(t){t.registerHelper("log",(function(){for(var e=[void 0],n=arguments[arguments.length-1],i=0;i<arguments.length-1;i++)e.push(arguments[i]);var r=1;null!=n.hash.level?r=n.hash.level:n.data&&null!=n.data.level&&(r=n.data.level),e[0]=r,t.log.apply(t,e)}))},t.exports=e.default},IlJM:function(t,e,n){"use strict";var i=n("JRM0"),r=n("5q7I").find,o=n("d5e9"),s=n("p2JK"),a=!0,u=s("find");"find"in[]&&Array(1).find((function(){a=!1})),i({target:"Array",proto:!0,forced:a||!u},{find:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}}),o("find")},IvQZ:function(t,e,n){"use strict";var i=n("JRM0"),r=n("kMPr").includes,o=n("d5e9");i({target:"Array",proto:!0,forced:!n("p2JK")("indexOf",{ACCESSORS:!0,1:0})},{includes:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}}),o("includes")},JBxO:function(t,e,n){var i=n("k2M3"),r=n("0K2p"),o=n("UpYF");i||r(Object.prototype,"toString",o,{unsafe:!0})},JRM0:function(t,e,n){var i=n("nEaP"),r=n("Fup7").f,o=n("nHIk"),s=n("0K2p"),a=n("Ya6V"),u=n("v0JE"),c=n("9nX2");t.exports=function(t,e){var n,l,h,f,d,p=t.target,v=t.global,g=t.stat;if(n=v?i:g?i[p]||a(p,{}):(i[p]||{}).prototype)for(l in e){if(f=e[l],h=t.noTargetGet?(d=r(n,l))&&d.value:n[l],!c(v?l:p+(g?".":"#")+l,t.forced)&&void 0!==h){if(typeof f==typeof h)continue;u(f,h)}(t.sham||h&&h.sham)&&o(f,"sham",!0),s(n,l,f,t)}}},JTw7:function(t,e){e.module=function(t,e){"use strict";var n={CURRENT_PAGE_REPORT:{}},i=t.ItemPaginator=function(e){t.Paginator.call(this,e),this.set("pageLinks",1)};e.inherits(i,t.Paginator),i.prototype.renderCurrentPageReport=function(t,e,i){var r;return this.options.translationCache?(n.CURRENT_PAGE_REPORT.hasOwnProperty(this.options.translationCacheKey)||(r="return '"+this.options.translator("CURRENT_PAGE_REPORT").replace("'","'").replace("{FromResult}","' + fromResult + '").replace("{ToResult}","' + toResult + '").replace("{TotalResult}","' + totalResult + '")+"';",n.CURRENT_PAGE_REPORT[this.options.translationCacheKey]=new Function("fromResult, toResult, totalResult",r)),n.CURRENT_PAGE_REPORT[this.options.translationCacheKey](t,e,i)):this.options.translator("CURRENT_PAGE_REPORT").replace("{FromResult}",t).replace("{ToResult}",e).replace("{TotalResult}",i)},i.prototype.render=function(){var t=this.getPaginationData(),e=this.preparePreLink(t.prelink),n='<div class="paginator">';return n+='<span class="paginator-current-report">',n+=this.renderCurrentPageReport(t.fromResult,t.toResult,t.totalResult),n+="</span>",t.first?n+='<a href="'+e+t.first+'" class="paginator-first">'+this.options.translator("FIRST")+"</a>":n+='<span class="paginator-first">'+this.options.translator("FIRST")+"</span>",t.previous?n+='<a href="'+e+t.previous+'" class="paginator-previous">'+this.options.translator("PREVIOUS")+"</a>":n+='<span class="paginator-previous">'+this.options.translator("PREVIOUS")+"</span>",t.next?n+='<a href="'+e+t.next+'" class="paginator-next">'+this.options.translator("NEXT")+"</a>":n+='<span class="paginator-next">'+this.options.translator("NEXT")+"</span>",t.last?n+='<a href="'+e+t.last+'" class="paginator-last">'+this.options.translator("LAST")+"</a>":n+='<span class="paginator-last">'+this.options.translator("LAST")+"</span>",n+="</div>"},t.registerFactory("item",i)}},Jikt:function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}e.__esModule=!0;var o=r(n("dJlP")),s=i(n("l3gt")),a=i(n("AIJh")),u=r(n("82EY")),c=r(n("co8E")),l=i(n("6+Qq"));function h(){var t=new o.HandlebarsEnvironment;return u.extend(t,o),t.SafeString=s.default,t.Exception=a.default,t.Utils=u,t.escapeExpression=u.escapeExpression,t.VM=c,t.template=function(e){return c.template(e,t)},t}var f=h();f.create=h,l.default(f),f.default=f,e.default=f,t.exports=e.default},JtDR:function(t,e,n){"use strict";var i=n("z+V7").charAt;t.exports=function(t,e,n){return e+(n?i(t,e).length:1)}},LMdw:function(t,e,n){var i=n("UVdV"),r=n("OVha"),o=n("rk7W"),s=n("gDYM");t.exports=i("Reflect","ownKeys")||function(t){var e=r.f(s(t)),n=o.f;return n?e.concat(n(t)):e}},"M/tt":function(t,e,n){var i=n("DJGK"),r=n("Qean");t.exports=function(t){return i(r(t))}},MoOl:function(t,e,n){var i=n("nEaP"),r=n("Ya6V"),o=i["__core-js_shared__"]||r("__core-js_shared__",{});t.exports=o},Muwe:function(t,e,n){"use strict";var i=n("JRM0"),r=n("hVpg");i({target:"RegExp",proto:!0,forced:/./.exec!==r},{exec:r})},MxOq:function(t,e,n){"use strict";
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
function i(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var i=Array(t),r=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,r++)i[r]=o[s];return i}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var r;n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return h})),n.d(e,"c",(function(){return f})),n.d(e,"d",(function(){return d}));var o,s=[];!function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"}(o||(o={}));var a={debug:o.DEBUG,verbose:o.VERBOSE,info:o.INFO,warn:o.WARN,error:o.ERROR,silent:o.SILENT},u=o.INFO,c=((r={})[o.DEBUG]="log",r[o.VERBOSE]="log",r[o.INFO]="info",r[o.WARN]="warn",r[o.ERROR]="error",r),l=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!(e<t.logLevel)){var o=(new Date).toISOString(),s=c[e];if(!s)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[s].apply(console,i(["["+o+"]  "+t.name+":"],n))}},h=function(){function t(t){this.name=t,this._logLevel=u,this._logHandler=l,this._userLogHandler=null,s.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in o))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?a[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,i([this,o.DEBUG],t)),this._logHandler.apply(this,i([this,o.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,i([this,o.VERBOSE],t)),this._logHandler.apply(this,i([this,o.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,i([this,o.INFO],t)),this._logHandler.apply(this,i([this,o.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,i([this,o.WARN],t)),this._logHandler.apply(this,i([this,o.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,i([this,o.ERROR],t)),this._logHandler.apply(this,i([this,o.ERROR],t))},t}();function f(t){s.forEach((function(e){e.setLogLevel(t)}))}function d(t,e){for(var n=function(n){var i=null;e&&e.level&&(i=a[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var r=[],s=2;s<arguments.length;s++)r[s-2]=arguments[s];var a=r.map((function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(t){return null}})).filter((function(t){return t})).join(" ");n>=(null!=i?i:e.logLevel)&&t({level:o[n].toLowerCase(),message:a,args:r,type:e.name})}},i=0,r=s;i<r.length;i++){n(r[i])}}},N1hr:function(t,e,n){"use strict";var i=n("jmUq"),r=function(t){var e,n;this.promise=new t((function(t,i){if(void 0!==e||void 0!==n)throw TypeError("Bad Promise constructor");e=t,n=i})),this.resolve=i(e),this.reject=i(n)};t.exports.f=function(t){return new r(t)}},NXRp:function(t,e){e.module=function(t,e){"use strict";var n={},i=function(t,e){var n,i,r,o,s,a,u,c,l=(e=e||{}).open||"<%",h=e.close||"%>",f=["var buf = [];","\nwith (paginationData) {","\n  buf.push('"];for(r=0,s=t.length;r<s;++r)if(t.slice(r,l.length+r)===l){switch(r+=l.length,t.substr(r,1)){case"=":n="', escape(",i="), '",++r;break;case"-":n="', (",i="), '",++r;break;default:n="');",i="; buf.push('"}for(o=t.indexOf(h,r),a=t.substring(r,o),u=r,c=0;~(c=a.indexOf("\n",c));)c++;f.push(n,a,i),r+=o-u+h.length-1}else"\\"===t.substr(r,1)?f.push("\\\\"):"'"===t.substr(r,1)?f.push("\\'"):"\r"===t.substr(r,1)?f.push(" "):"\n"===t.substr(r,1)?f.push("\\n"):f.push(t.substr(r,1));return f.push("');\n}\nreturn buf.join('');"),f.join("")},r=function(t){return String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")},o=function(t,e){var n=new Function("paginationData, escape",i(t,e));return function(t){return n.call(this,t,r)}};t.TemplateEngine={parse:i,compile:function(t,e){var i;if((e=e||{}).cache){if(!e.id)throw new Error('"cache" option requires "id"');i=n[e.id]||(n[e.id]=o(t,e))}else i=o(t,e);return i}}}},Ncbx:function(t,e,n){var i=n("GHf2")("iterator"),r=!1;try{var o=0,s={next:function(){return{done:!!o++}},return:function(){r=!0}};s[i]=function(){return this},Array.from(s,(function(){throw 2}))}catch(t){}t.exports=function(t,e){if(!e&&!r)return!1;var n=!1;try{var o={};o[i]=function(){return{next:function(){return{done:n=!0}}}},t(o)}catch(t){}return n}},Np6Y:function(t,e,n){var i=n("spsd"),r=n("YXJX");n("JTw7").module(r,i),n("ozP9").module(r,i),n("7UQM").module(r,i),n("NXRp").module(r,i),t.exports=r},O2Ja:function(t,e,n){"use strict";var i=n("gDYM");t.exports=function(){var t=i(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},O5TI:function(t,e,n){var i=n("GHf2")("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(n){try{return e[i]=!1,"/./"[t](e)}catch(t){}}return!1}},OTtX:function(t,e,n){var i=n("nEaP");t.exports=function(t,e){var n=i.console;n&&n.error&&(1===arguments.length?n.error(t):n.error(t,e))}},OVha:function(t,e,n){var i=n("8OJN"),r=n("ek/P").concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return i(t,r)}},P2u4:function(t,e,n){var i=n("nEaP"),r=n("/dUa"),o=i.WeakMap;t.exports="function"==typeof o&&/native code/.test(r(o))},PCqT:function(t,e){t.exports=!1},QYi2:function(t,e,n){var i=n("fshm"),r=n("q/gS"),o=n("GHf2")("iterator");t.exports=function(t){if(null!=t)return t[o]||t["@@iterator"]||r[i(t)]}},Qean:function(t,e){t.exports=function(t){if(null==t)throw TypeError("Can't call method on "+t);return t}},R1TW:function(t,e,n){var i=n("UVdV");t.exports=i("document","documentElement")},RtS0:function(t,e,n){"use strict";var i=n("JRM0"),r=n("3PYW");i({target:"Array",proto:!0,forced:[].forEach!=r},{forEach:r})},SgDD:function(t,e,n){"use strict";var i=n("JRM0"),r=n("H0Ge").trim;i({target:"String",proto:!0,forced:n("UkaN")("trim")},{trim:function(){return r(this)}})},SkE4:function(t,e,n){var i,r,o,s=n("P2u4"),a=n("nEaP"),u=n("fT8P"),c=n("nHIk"),l=n("tF07"),h=n("3pC9"),f=n("s3NK"),d=a.WeakMap;if(s){var p=new d,v=p.get,g=p.has,m=p.set;i=function(t,e){return m.call(p,t,e),e},r=function(t){return v.call(p,t)||{}},o=function(t){return g.call(p,t)}}else{var y=h("state");f[y]=!0,i=function(t,e){return c(t,y,e),e},r=function(t){return l(t,y)?t[y]:{}},o=function(t){return l(t,y)}}t.exports={set:i,get:r,has:o,enforce:function(t){return o(t)?r(t):i(t,{})},getterFor:function(t){return function(e){var n;if(!u(e)||(n=r(e)).type!==t)throw TypeError("Incompatible receiver, "+t+" required");return n}}}},SmY9:function(t,e,n){var i=n("jmUq"),r=n("9pAD"),o=n("DJGK"),s=n("zrDt"),a=function(t){return function(e,n,a,u){i(n);var c=r(e),l=o(c),h=s(c.length),f=t?h-1:0,d=t?-1:1;if(a<2)for(;;){if(f in l){u=l[f],f+=d;break}if(f+=d,t?f<0:h<=f)throw TypeError("Reduce of empty array with no initial value")}for(;t?f>=0:h>f;f+=d)f in l&&(u=n(u,l[f],f,c));return u}};t.exports={left:a(!1),right:a(!0)}},SzhR:function(t,e,n){"use strict";var i=n("a9xp");n.d(e,"a",(function(){return i.a}));
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
i.a.registerVersion("firebase","8.3.1","app")},UVdV:function(t,e,n){var i=n("lUv3"),r=n("nEaP"),o=function(t){return"function"==typeof t?t:void 0};t.exports=function(t,e){return arguments.length<2?o(i[t])||o(r[t]):i[t]&&i[t][e]||r[t]&&r[t][e]}},UkaN:function(t,e,n){var i=n("+iL7"),r=n("VcRG");t.exports=function(t){return i((function(){return!!r[t]()||""!=""[t]()||r[t].name!==t}))}},UpYF:function(t,e,n){"use strict";var i=n("k2M3"),r=n("fshm");t.exports=i?{}.toString:function(){return"[object "+r(this)+"]"}},V2sW:function(t,e,n){"use strict";var i=n("UVdV"),r=n("nRc6"),o=n("GHf2"),s=n("Hvpk"),a=o("species");t.exports=function(t){var e=i(t),n=r.f;s&&e&&!e[a]&&n(e,a,{configurable:!0,get:function(){return this}})}},VClI:function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return ii})),n.d(e,"b",(function(){return oi})),n.d(e,"c",(function(){return ri})),n.d(e,"d",(function(){return si})),n.d(e,"e",(function(){return ai})),n.d(e,"f",(function(){return ui})),n.d(e,"g",(function(){return ei})),n.d(e,"h",(function(){return ni}));
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function r(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var o,s="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:{},a=a||{},u=s||self;function c(){}function l(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function h(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var f="closure_uid_"+(1e9*Math.random()>>>0),d=0;function p(t,e,n){return t.call.apply(t.bind,arguments)}function v(t,e,n){if(!t)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,i),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function g(t,e,n){return(g=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?p:v).apply(null,arguments)}function m(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function y(){return Date.now()}function b(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Kb=function(t,n,i){for(var r=Array(arguments.length-2),o=2;o<arguments.length;o++)r[o-2]=arguments[o];return e.prototype[n].apply(t,r)}}function w(){this.j=this.j,this.i=this.i}w.prototype.j=!1,w.prototype.ja=function(){if(!this.j&&(this.j=!0,this.G(),0))(function(t){Object.prototype.hasOwnProperty.call(t,f)&&t[f]||(t[f]=++d)})(this)},w.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var _=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},E=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var i=t.length,r="string"==typeof t?t.split(""):t,o=0;o<i;o++)o in r&&e.call(n,r[o],o,t)};function k(t){return Array.prototype.concat.apply([],arguments)}function I(t){var e=t.length;if(0<e){for(var n=Array(e),i=0;i<e;i++)n[i]=t[i];return n}return[]}function T(t){return/^[\s\xa0]*$/.test(t)}var O,S=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function C(t,e){return-1!=t.indexOf(e)}function A(t,e){return t<e?-1:t>e?1:0}t:{var x=u.navigator;if(x){var D=x.userAgent;if(D){O=D;break t}}O=""}function M(t,e,n){for(var i in t)e.call(n,t[i],i,t)}function L(t){var e={};for(var n in t)e[n]=t[n];return e}var N="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function P(t,e){for(var n,i,r=1;r<arguments.length;r++){for(n in i=arguments[r])t[n]=i[n];for(var o=0;o<N.length;o++)n=N[o],Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}}function R(t){return R[" "](t),t}R[" "]=c;var j,B,F=C(O,"Opera"),V=C(O,"Trident")||C(O,"MSIE"),q=C(O,"Edge"),U=q||V,H=C(O,"Gecko")&&!(C(O.toLowerCase(),"webkit")&&!C(O,"Edge"))&&!(C(O,"Trident")||C(O,"MSIE"))&&!C(O,"Edge"),$=C(O.toLowerCase(),"webkit")&&!C(O,"Edge");function W(){var t=u.document;return t?t.documentMode:void 0}t:{var K="",z=(B=O,H?/rv:([^\);]+)(\)|;)/.exec(B):q?/Edge\/([\d\.]+)/.exec(B):V?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(B):$?/WebKit\/(\S+)/.exec(B):F?/(?:Version)[ \/]?(\S+)/.exec(B):void 0);if(z&&(K=z?z[1]:""),V){var G=W();if(null!=G&&G>parseFloat(K)){j=String(G);break t}}j=K}var Q,Y={};function X(t){return function(t,e){var n=Y;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}(t,(function(){for(var e=0,n=S(String(j)).split("."),i=S(String(t)).split("."),r=Math.max(n.length,i.length),o=0;0==e&&o<r;o++){var s=n[o]||"",a=i[o]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==s[0].length&&0==a[0].length)break;e=A(0==s[1].length?0:parseInt(s[1],10),0==a[1].length?0:parseInt(a[1],10))||A(0==s[2].length,0==a[2].length)||A(s[2],a[2]),s=s[3],a=a[3]}while(0==e)}return 0<=e}))}if(u.document&&V){var J=W();Q=J||(parseInt(j,10)||void 0)}else Q=void 0;var Z=Q,tt=!V||9<=Number(Z),et=V&&!X("9"),nt=function(){if(!u.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{u.addEventListener("test",c,e),u.removeEventListener("test",c,e)}catch(t){}return t}();function it(t,e){this.type=t,this.a=this.target=e,this.defaultPrevented=!1}function rt(t,e){if(it.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,i=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(H){t:{try{R(e.nodeName);var r=!0;break t}catch(t){}r=!1}r||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:ot[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}it.prototype.b=function(){this.defaultPrevented=!0},b(rt,it);var ot={2:"touch",3:"pen",4:"mouse"};rt.prototype.b=function(){rt.X.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,et)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(t){}};var st="closure_listenable_"+(1e6*Math.random()|0),at=0;function ut(t,e,n,i,r){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!i,this.ca=r,this.key=++at,this.Y=this.Z=!1}function ct(t){t.Y=!0,t.listener=null,t.proxy=null,t.src=null,t.ca=null}function lt(t){this.src=t,this.a={},this.b=0}function ht(t,e){var n=e.type;if(n in t.a){var i,r=t.a[n],o=_(r,e);(i=0<=o)&&Array.prototype.splice.call(r,o,1),i&&(ct(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function ft(t,e,n,i){for(var r=0;r<t.length;++r){var o=t[r];if(!o.Y&&o.listener==e&&o.capture==!!n&&o.ca==i)return r}return-1}lt.prototype.add=function(t,e,n,i,r){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var s=ft(t,e,i,r);return-1<s?(e=t[s],n||(e.Z=!1)):((e=new ut(e,this.src,o,!!i,r)).Z=n,t.push(e)),e};var dt="closure_lm_"+(1e6*Math.random()|0),pt={};function vt(t,e,n,i,r){if(i&&i.once)return function t(e,n,i,r,o){if(Array.isArray(n)){for(var s=0;s<n.length;s++)t(e,n[s],i,r,o);return null}return i=kt(i),e&&e[st]?e.wa(n,i,h(r)?!!r.capture:!!r,o):gt(e,n,i,!0,r,o)}(t,e,n,i,r);if(Array.isArray(e)){for(var o=0;o<e.length;o++)vt(t,e[o],n,i,r);return null}return n=kt(n),t&&t[st]?t.va(e,n,h(i)?!!i.capture:!!i,r):gt(t,e,n,!1,i,r)}function gt(t,e,n,i,r,o){if(!e)throw Error("Invalid event type");var s=h(r)?!!r.capture:!!r;if(s&&!tt)return null;var a=_t(t);if(a||(t[dt]=a=new lt(t)),(n=a.add(e,n,i,s,o)).proxy)return n;if(i=function(){var t=wt,e=tt?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=i,i.src=t,i.listener=n,t.addEventListener)nt||(r=s),void 0===r&&(r=!1),t.addEventListener(e.toString(),i,r);else if(t.attachEvent)t.attachEvent(yt(e.toString()),i);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(i)}return n}function mt(t){if("number"!=typeof t&&t&&!t.Y){var e=t.src;if(e&&e[st])ht(e.c,t);else{var n=t.type,i=t.proxy;e.removeEventListener?e.removeEventListener(n,i,t.capture):e.detachEvent?e.detachEvent(yt(n),i):e.addListener&&e.removeListener&&e.removeListener(i),(n=_t(e))?(ht(n,t),0==n.b&&(n.src=null,e[dt]=null)):ct(t)}}}function yt(t){return t in pt?pt[t]:pt[t]="on"+t}function bt(t,e){var n=t.listener,i=t.ca||t.src;return t.Z&&mt(t),n.call(i,e)}function wt(t,e){if(t.Y)return!0;if(!tt){if(!e)t:{e=["window","event"];for(var n=u,i=0;i<e.length;i++)if(null==(n=n[e[i]])){e=null;break t}e=n}return bt(t,e=new rt(e,this))}return bt(t,new rt(e,this))}function _t(t){return(t=t[dt])instanceof lt?t:null}var Et="__closure_events_fn_"+(1e9*Math.random()>>>0);function kt(t){return"function"==typeof t?t:(t[Et]||(t[Et]=function(e){return t.handleEvent(e)}),t[Et])}function It(){w.call(this),this.c=new lt(this),this.J=this,this.C=null}function Tt(t,e){var n,i=t.C;if(i)for(n=[];i;i=i.C)n.push(i);if(t=t.J,i=e.type||e,"string"==typeof e)e=new it(e,t);else if(e instanceof it)e.target=e.target||t;else{var r=e;P(e=new it(i,t),r)}if(r=!0,n)for(var o=n.length-1;0<=o;o--){var s=e.a=n[o];r=Ot(s,i,!0,e)&&r}if(r=Ot(s=e.a=t,i,!0,e)&&r,r=Ot(s,i,!1,e)&&r,n)for(o=0;o<n.length;o++)r=Ot(s=e.a=n[o],i,!1,e)&&r}function Ot(t,e,n,i){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var r=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.Y&&s.capture==n){var a=s.listener,u=s.ca||s.src;s.Z&&ht(t.c,s),r=!1!==a.call(u,i)&&r}}return r&&!i.defaultPrevented}b(It,w),It.prototype[st]=!0,(o=It.prototype).addEventListener=function(t,e,n,i){vt(this,t,e,n,i)},o.removeEventListener=function(t,e,n,i){!function t(e,n,i,r,o){if(Array.isArray(n))for(var s=0;s<n.length;s++)t(e,n[s],i,r,o);else r=h(r)?!!r.capture:!!r,i=kt(i),e&&e[st]?(e=e.c,(n=String(n).toString())in e.a&&(-1<(i=ft(s=e.a[n],i,r,o))&&(ct(s[i]),Array.prototype.splice.call(s,i,1),0==s.length&&(delete e.a[n],e.b--)))):e&&(e=_t(e))&&(n=e.a[n.toString()],e=-1,n&&(e=ft(n,i,r,o)),(i=-1<e?n[e]:null)&&mt(i))}(this,t,e,n,i)},o.G=function(){if(It.X.G.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],i=0;i<n.length;i++)ct(n[i]);delete e.a[t],e.b--}}this.C=null},o.va=function(t,e,n,i){return this.c.add(String(t),e,!1,n,i)},o.wa=function(t,e,n,i){return this.c.add(String(t),e,!0,n,i)};var St=u.JSON.stringify;function Ct(){this.b=this.a=null}var At,xt=new(function(){function t(t,e){this.c=t,this.f=e,this.b=0,this.a=null}return t.prototype.get=function(){var t;return 0<this.b?(this.b--,t=this.a,this.a=t.next,t.next=null):t=this.c(),t},t}())((function(){return new Mt}),(function(t){t.reset()}));function Dt(){var t=Rt,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function Mt(){this.next=this.b=this.a=null}function Lt(t){u.setTimeout((function(){throw t}),0)}function Nt(t,e){At||function(){var t=u.Promise.resolve(void 0);At=function(){t.then(jt)}}(),Pt||(At(),Pt=!0),Rt.add(t,e)}Ct.prototype.add=function(t,e){var n=xt.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},Mt.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},Mt.prototype.reset=function(){this.next=this.b=this.a=null};var Pt=!1,Rt=new Ct;function jt(){for(var t;t=Dt();){try{t.a.call(t.b)}catch(t){Lt(t)}var e=xt;e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}Pt=!1}function Bt(t,e){It.call(this),this.b=t||1,this.a=e||u,this.f=g(this.Za,this),this.g=y()}function Ft(t){t.aa=!1,t.M&&(t.a.clearTimeout(t.M),t.M=null)}function Vt(t,e,n){if("function"==typeof t)n&&(t=g(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=g(t.handleEvent,t)}return 2147483647<Number(e)?-1:u.setTimeout(t,e||0)}function qt(t){t.a=Vt((function(){t.a=null,t.c&&(t.c=!1,qt(t))}),t.h);var e=t.b;t.b=null,t.g.apply(null,e)}b(Bt,It),(o=Bt.prototype).aa=!1,o.M=null,o.Za=function(){if(this.aa){var t=y()-this.g;0<t&&t<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-t):(this.M&&(this.a.clearTimeout(this.M),this.M=null),Tt(this,"tick"),this.aa&&(Ft(this),this.start()))}},o.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=y())},o.G=function(){Bt.X.G.call(this),Ft(this),delete this.a};var Ut=function(t){function e(e,n){var i=t.call(this)||this;return i.g=e,i.h=n,i.b=null,i.c=!1,i.a=null,i}return function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.f=function(t){this.b=arguments,this.a?this.c=!0:qt(this)},e.prototype.G=function(){t.prototype.G.call(this),this.a&&(u.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},e}(w);function Ht(t){w.call(this),this.b=t,this.a={}}b(Ht,w);var $t=[];function Wt(t,e,n,i){Array.isArray(n)||(n&&($t[0]=n.toString()),n=$t);for(var r=0;r<n.length;r++){var o=vt(e,n[r],i||t.handleEvent,!1,t.b||t);if(!o)break;t.a[o.key]=o}}function Kt(t){M(t.a,(function(t,e){this.a.hasOwnProperty(e)&&mt(t)}),t),t.a={}}function zt(){this.a=!0}function Gt(t,e,n,i){t.info((function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.a)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var i=n[t];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var o=r[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<r.length;s++)r[s]=""}}}return St(n)}catch(t){return e}}(t,n)+(i?" "+i:"")}))}Ht.prototype.G=function(){Ht.X.G.call(this),Kt(this)},Ht.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},zt.prototype.info=function(){};var Qt={},Yt=null;function Xt(){return Yt=Yt||new It}function Jt(t){it.call(this,Qt.Fa,t)}function Zt(t){var e=Xt();Tt(e,new Jt(e,t))}function te(t,e){it.call(this,Qt.STAT_EVENT,t),this.stat=e}function ee(t){var e=Xt();Tt(e,new te(e,t))}function ne(t){it.call(this,Qt.Ga,t)}function ie(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return u.setTimeout((function(){t()}),e)}Qt.Fa="serverreachability",b(Jt,it),Qt.STAT_EVENT="statevent",b(te,it),Qt.Ga="timingevent",b(ne,it);var re={NO_ERROR:0,$a:1,nb:2,mb:3,hb:4,lb:5,ob:6,Da:7,TIMEOUT:8,rb:9},oe={fb:"complete",Bb:"success",Ea:"error",Da:"abort",tb:"ready",ub:"readystatechange",TIMEOUT:"timeout",pb:"incrementaldata",sb:"progress",ib:"downloadprogress",Jb:"uploadprogress"};function se(){}function ae(t){var e;return(e=t.a)||(e=t.a={}),e}function ue(){}se.prototype.a=null;var ce,le={OPEN:"a",eb:"b",Ea:"c",qb:"d"};function he(){it.call(this,"d")}function fe(){it.call(this,"c")}function de(){}function pe(t,e,n,i){this.g=t,this.c=e,this.f=n,this.S=i||1,this.J=new Ht(this),this.P=ve,t=U?125:void 0,this.R=new Bt(t),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.T=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.V=this.C=this.U=this.I=!1}b(he,it),b(fe,it),b(de,se),ce=new de;var ve=45e3,ge={},me={};function ye(t,e,n){t.H=1,t.i=Ve(Ne(e)),t.j=n,t.I=!0,be(t,null)}function be(t,e){t.u=y(),Ee(t),t.l=Ne(t.i);var n=t.l,i=t.S;Array.isArray(i)||(i=[String(i)]),Ze(n.b,"t",i),t.D=0,t.a=Gn(t.g,t.g.C?e:null),0<t.O&&(t.F=new Ut(g(t.Ca,t,t.a),t.O)),Wt(t.J,t.a,"readystatechange",t.Xa),e=t.B?L(t.B):{},t.j?(t.m||(t.m="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ba(t.l,t.m,t.j,e)):(t.m="GET",t.a.ba(t.l,t.m,null,e)),Zt(1),function(t,e,n,i,r,o){t.info((function(){if(t.a)if(o)for(var s="",a=o.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var h=l.split("_");s=2<=h.length&&"type"==h[1]?s+(l+"=")+c+"&":s+(l+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+e+"\n"+n+"\n"+s}))}(t.c,t.m,t.l,t.f,t.S,t.j)}function we(t,e,n){for(var i=!0;!t.A&&t.D<n.length;){var r=_e(t,n);if(r==me){4==e&&(t.h=4,ee(14),i=!1),Gt(t.c,t.f,null,"[Incomplete Response]");break}if(r==ge){t.h=4,ee(15),Gt(t.c,t.f,n,"[Invalid Chunk]"),i=!1;break}Gt(t.c,t.f,r,null),Se(t,r)}4==e&&0==n.length&&(t.h=1,ee(16),i=!1),t.b=t.b&&i,i?0<n.length&&!t.V&&(t.V=!0,(e=t.g).a==t&&e.U&&!e.F&&(e.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),Vn(e),e.F=!0,ee(11))):(Gt(t.c,t.f,n,"[Invalid Chunked Response]"),Oe(t),Te(t))}function _e(t,e){var n=t.D,i=e.indexOf("\n",n);return-1==i?me:(n=Number(e.substring(n,i)),isNaN(n)?ge:(i+=1)+n>e.length?me:(e=e.substr(i,n),t.D=i+n,e))}function Ee(t){t.T=y()+t.P,ke(t,t.P)}function ke(t,e){if(null!=t.o)throw Error("WatchDog timer not null");t.o=ie(g(t.Va,t),e)}function Ie(t){t.o&&(u.clearTimeout(t.o),t.o=null)}function Te(t){0==t.g.v||t.A||Hn(t.g,t)}function Oe(t){Ie(t);var e=t.F;e&&"function"==typeof e.ja&&e.ja(),t.F=null,Ft(t.R),Kt(t.J),t.a&&(e=t.a,t.a=null,e.abort(),e.ja())}function Se(t,e){try{var n=t.g;if(0!=n.v&&(n.a==t||an(n.b,t)))if(n.I=t.N,!t.C&&an(n.b,t)&&3==n.v){try{var i=n.ka.a.parse(e)}catch(t){i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0]){t:if(!n.j){if(n.a){if(!(n.a.u+3e3<t.u))break t;Un(n),Dn(n)}Fn(n),ee(18)}}else n.oa=r[1],0<n.oa-n.P&&37500>r[2]&&n.H&&0==n.o&&!n.m&&(n.m=ie(g(n.Sa,n),6e3));if(1>=sn(n.b)&&n.ea){try{n.ea()}catch(t){}n.ea=void 0}}else Wn(n,11)}else if((t.C||n.a==t)&&Un(n),!T(e))for(e=i=n.ka.a.parse(e),i=0;i<e.length;i++)if(r=e[i],n.P=r[0],r=r[1],2==n.v)if("c"==r[0]){n.J=r[1],n.ga=r[2];var o=r[3];null!=o&&(n.ha=o,n.c.info("VER="+n.ha));var s=r[4];null!=s&&(n.pa=s,n.c.info("SVER="+n.pa));var a=r[5];if(null!=a&&"number"==typeof a&&0<a){var u=1.5*a;n.D=u,n.c.info("backChannelRequestTimeoutMs_="+u)}u=n;var c=t.a;if(c){var l=c.a?c.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var h=u.b;!h.a&&(C(l,"spdy")||C(l,"quic")||C(l,"h2"))&&(h.f=h.g,h.a=new Set,h.b&&(un(h,h.b),h.b=null))}if(u.A){var f=c.a?c.a.getResponseHeader("X-HTTP-Session-Id"):null;f&&(u.na=f,Fe(u.B,u.A,f))}}n.v=3,n.f&&n.f.ta(),n.U&&(n.N=y()-t.u,n.c.info("Handshake RTT: "+n.N+"ms"));var d=t;if((u=n).la=zn(u,u.C?u.ga:null,u.fa),d.C){cn(u.b,d);var p=d,v=u.D;v&&p.setTimeout(v),p.o&&(Ie(p),Ee(p)),u.a=d}else Bn(u);0<n.g.length&&Nn(n)}else"stop"!=r[0]&&"close"!=r[0]||Wn(n,7);else 3==n.v&&("stop"==r[0]||"close"==r[0]?"stop"==r[0]?Wn(n,7):xn(n):"noop"!=r[0]&&n.f&&n.f.sa(r),n.o=0);Zt(4)}catch(t){}}function Ce(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(l(t)||"string"==typeof t)E(t,e,void 0);else{if(t.L&&"function"==typeof t.L)var n=t.L();else if(t.K&&"function"==typeof t.K)n=void 0;else if(l(t)||"string"==typeof t){n=[];for(var i=t.length,r=0;r<i;r++)n.push(r)}else for(r in n=[],i=0,t)n[i++]=r;r=(i=function(t){if(t.K&&"function"==typeof t.K)return t.K();if("string"==typeof t)return t.split("");if(l(t)){for(var e=[],n=t.length,i=0;i<n;i++)e.push(t[i]);return e}for(i in e=[],n=0,t)e[n++]=t[i];return e}(t)).length;for(var o=0;o<r;o++)e.call(void 0,i[o],n&&n[o],t)}}function Ae(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var i=0;i<n;i+=2)this.set(arguments[i],arguments[i+1])}else if(t)if(t instanceof Ae)for(n=t.L(),i=0;i<n.length;i++)this.set(n[i],t.get(n[i]));else for(i in t)this.set(i,t[i])}function xe(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var i=t.a[e];De(t.b,i)&&(t.a[n++]=i),e++}t.a.length=n}if(t.c!=t.a.length){var r={};for(n=e=0;e<t.a.length;)De(r,i=t.a[e])||(t.a[n++]=i,r[i]=1),e++;t.a.length=n}}function De(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(o=pe.prototype).setTimeout=function(t){this.P=t},o.Xa=function(t){t=t.target;var e=this.F;e&&3==On(t)?e.f():this.Ca(t)},o.Ca=function(t){try{if(t==this.a)t:{var e=On(this.a),n=this.a.ua(),i=this.a.W();if(!(3>e||3==e&&!U&&!this.a.$())){this.A||4!=e||7==n||Zt(8==n||0>=i?3:2),Ie(this);var r=this.a.W();this.N=r;var o=this.a.$();if(this.b=200==r,function(t,e,n,i,r,o,s){t.info((function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+e+"\n"+n+"\n"+o+" "+s}))}(this.c,this.m,this.l,this.f,this.S,e,r),this.b){if(this.U&&!this.C){e:{if(this.a){var s,a=this.a;if((s=a.a?a.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!T(s)){var u=s;break e}}u=null}if(!u){this.b=!1,this.h=3,ee(12),Oe(this),Te(this);break t}Gt(this.c,this.f,u,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,Se(this,u)}this.I?(we(this,e,o),U&&this.b&&3==e&&(Wt(this.J,this.R,"tick",this.Wa),this.R.start())):(Gt(this.c,this.f,o,null),Se(this,o)),4==e&&Oe(this),this.b&&!this.A&&(4==e?Hn(this.g,this):(this.b=!1,Ee(this)))}else 400==r&&0<o.indexOf("Unknown SID")?(this.h=3,ee(12)):(this.h=0,ee(13)),Oe(this),Te(this)}}}catch(t){}},o.Wa=function(){if(this.a){var t=On(this.a),e=this.a.$();this.D<e.length&&(Ie(this),we(this,t,e),this.b&&4!=t&&Ee(this))}},o.cancel=function(){this.A=!0,Oe(this)},o.Va=function(){this.o=null;var t=y();0<=t-this.T?(function(t,e){t.info((function(){return"TIMEOUT: "+e}))}(this.c,this.l),2!=this.H&&(Zt(3),ee(17)),Oe(this),this.h=2,Te(this)):ke(this,this.T-t)},(o=Ae.prototype).K=function(){xe(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},o.L=function(){return xe(this),this.a.concat()},o.get=function(t,e){return De(this.b,t)?this.b[t]:e},o.set=function(t,e){De(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},o.forEach=function(t,e){for(var n=this.L(),i=0;i<n.length;i++){var r=n[i],o=this.get(r);t.call(e,o,r,this)}};var Me=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Le(t,e){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,t instanceof Le){this.a=void 0!==e?e:t.a,Pe(this,t.f),this.j=t.j,Re(this,t.c),je(this,t.h),this.g=t.g,e=t.b;var n=new Qe;n.c=e.c,e.a&&(n.a=new Ae(e.a),n.b=e.b),Be(this,n),this.i=t.i}else t&&(n=String(t).match(Me))?(this.a=!!e,Pe(this,n[1]||"",!0),this.j=qe(n[2]||""),Re(this,n[3]||"",!0),je(this,n[4]),this.g=qe(n[5]||"",!0),Be(this,n[6]||"",!0),this.i=qe(n[7]||"")):(this.a=!!e,this.b=new Qe(null,this.a))}function Ne(t){return new Le(t)}function Pe(t,e,n){t.f=n?qe(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function Re(t,e,n){t.c=n?qe(e,!0):e}function je(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.h=e}else t.h=null}function Be(t,e,n){e instanceof Qe?(t.b=e,function(t,e){e&&!t.f&&(Ye(t),t.c=null,t.a.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(Xe(this,e),Ze(this,n,t))}),t)),t.f=e}(t.b,t.a)):(n||(e=Ue(e,ze)),t.b=new Qe(e,t.a))}function Fe(t,e,n){t.b.set(e,n)}function Ve(t){return Fe(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^y()).toString(36)),t}function qe(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Ue(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,He),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function He(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Le.prototype.toString=function(){var t=[],e=this.f;e&&t.push(Ue(e,$e,!0),":");var n=this.c;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push(Ue(e,$e,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&t.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&t.push("/"),t.push(Ue(n,"/"==n.charAt(0)?Ke:We,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.i)&&t.push("#",Ue(n,Ge)),t.join("")};var $e=/[#\/\?@]/g,We=/[#\?:]/g,Ke=/[#\?]/g,ze=/[#\?@]/g,Ge=/#/g;function Qe(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function Ye(t){t.a||(t.a=new Ae,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var i=t[n].indexOf("="),r=null;if(0<=i){var o=t[n].substring(0,i);r=t[n].substring(i+1)}else o=t[n];e(o,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(t.c,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function Xe(t,e){Ye(t),e=tn(t,e),De(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,De((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&xe(t)))}function Je(t,e){return Ye(t),e=tn(t,e),De(t.a.b,e)}function Ze(t,e,n){Xe(t,e),0<n.length&&(t.c=null,t.a.set(tn(t,e),I(n)),t.b+=n.length)}function tn(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}(o=Qe.prototype).add=function(t,e){Ye(this),this.c=null,t=tn(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},o.forEach=function(t,e){Ye(this),this.a.forEach((function(n,i){E(n,(function(n){t.call(e,n,i,this)}),this)}),this)},o.L=function(){Ye(this);for(var t=this.a.K(),e=this.a.L(),n=[],i=0;i<e.length;i++)for(var r=t[i],o=0;o<r.length;o++)n.push(e[i]);return n},o.K=function(t){Ye(this);var e=[];if("string"==typeof t)Je(this,t)&&(e=k(e,this.a.get(tn(this,t))));else{t=this.a.K();for(var n=0;n<t.length;n++)e=k(e,t[n])}return e},o.set=function(t,e){return Ye(this),this.c=null,Je(this,t=tn(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},o.get=function(t,e){return t&&0<(t=this.K(t)).length?String(t[0]):e},o.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.L(),n=0;n<e.length;n++){var i=e[n],r=encodeURIComponent(String(i));i=this.K(i);for(var o=0;o<i.length;o++){var s=r;""!==i[o]&&(s+="="+encodeURIComponent(String(i[o]))),t.push(s)}}return this.c=t.join("&")};var en=function(t,e){this.b=t,this.a=e};function nn(t){this.g=t||rn,u.PerformanceNavigationTiming?t=0<(t=u.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):t=!!(u.ia&&u.ia.ya&&u.ia.ya()&&u.ia.ya().Lb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}var rn=10;function on(t){return!!t.b||!!t.a&&t.a.size>=t.f}function sn(t){return t.b?1:t.a?t.a.size:0}function an(t,e){return t.b?t.b==e:!!t.a&&t.a.has(e)}function un(t,e){t.a?t.a.add(e):t.b=e}function cn(t,e){t.b&&t.b==e?t.b=null:t.a&&t.a.has(e)&&t.a.delete(e)}function ln(t){var e,n;if(null!=t.b)return t.c.concat(t.b.s);if(null!=t.a&&0!==t.a.size){var i=t.c;try{for(var o=r(t.a.values()),s=o.next();!s.done;s=o.next()){var a=s.value;i=i.concat(a.s)}}catch(t){e={error:t}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return i}return I(t.c)}function hn(){}function fn(){this.a=new hn}function dn(t,e,n){var i=n||"";try{Ce(t,(function(t,n){var r=t;h(t)&&(r=St(t)),e.push(i+n+"="+encodeURIComponent(r))}))}catch(t){throw e.push(i+"type="+encodeURIComponent("_badmap")),t}}function pn(t,e,n,i,r){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,r(i)}catch(t){}}nn.prototype.cancel=function(){var t,e;if(this.c=ln(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=r(this.a.values()),i=n.next();!i.done;i=n.next()){i.value.cancel()}}catch(e){t={error:e}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.a.clear()}},hn.prototype.stringify=function(t){return u.JSON.stringify(t,void 0)},hn.prototype.parse=function(t){return u.JSON.parse(t,void 0)};var vn=u.JSON.parse;function gn(t){It.call(this),this.headers=new Ae,this.H=t||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=mn,this.D=this.F=!1}b(gn,It);var mn="",yn=/^https?$/i,bn=["POST","PUT"];function wn(t){return"content-type"==t.toLowerCase()}function _n(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,En(t),In(t)}function En(t){t.u||(t.u=!0,Tt(t,"complete"),Tt(t,"error"))}function kn(t){if(t.b&&void 0!==a&&(!t.s[1]||4!=On(t)||2!=t.W()))if(t.l&&4==On(t))Vt(t.za,0,t);else if(Tt(t,"readystatechange"),4==On(t)){t.b=!1;try{var e,n=t.W();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var i=!0;break t;default:i=!1}if(!(e=i)){var r;if(r=0===n){var o=String(t.B).match(Me)[1]||null;if(!o&&u.self&&u.self.location){var s=u.self.location.protocol;o=s.substr(0,s.length-1)}r=!yn.test(o?o.toLowerCase():"")}e=r}if(e)Tt(t,"complete"),Tt(t,"success");else{t.h=6;try{var c=2<On(t)?t.a.statusText:""}catch(n){c=""}t.f=c+" ["+t.W()+"]",En(t)}}finally{In(t)}}}function In(t,e){if(t.a){Tn(t);var n=t.a,i=t.s[0]?c:null;t.a=null,t.s=null,e||Tt(t,"ready");try{n.onreadystatechange=i}catch(t){}}}function Tn(t){t.a&&t.D&&(t.a.ontimeout=null),t.m&&(u.clearTimeout(t.m),t.m=null)}function On(t){return t.a?t.a.readyState:0}function Sn(t,e,n){t:{for(i in n){var i=!1;break t}i=!0}i||(n=function(t){var e="";return M(t,(function(t,n){e+=n,e+=":",e+=t,e+="\r\n"})),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):Fe(t,e,n))}function Cn(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function An(t){this.pa=0,this.g=[],this.c=new zt,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.V=this.i=this.O=this.l=null,this.Oa=this.R=0,this.La=Cn("failFast",!1,t),this.H=this.m=this.j=this.h=this.f=null,this.S=!0,this.I=this.oa=this.P=-1,this.T=this.o=this.u=0,this.Ha=Cn("baseRetryDelayMs",5e3,t),this.Ra=Cn("retryDelaySeedMs",1e4,t),this.Ma=Cn("forwardChannelMaxRetries",2,t),this.ma=Cn("forwardChannelRequestTimeoutMs",2e4,t),this.Na=t&&t.g||void 0,this.D=void 0,this.C=t&&t.supportsCrossDomainXhr||!1,this.J="",this.b=new nn(t&&t.concurrentRequestLimit),this.ka=new fn,this.da=t&&t.fastHandshake||!1,this.Ia=t&&t.b||!1,t&&t.f&&(this.c.a=!1),t&&t.forceLongPolling&&(this.S=!1),this.U=!this.da&&this.S&&t&&t.detectBufferingProxy||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null,(this.Ka=t&&t.c||!1)&&this.c.info("Opt-in to enable Chrome Origin Trials.")}function xn(t){if(Mn(t),3==t.v){var e=t.R++,n=Ne(t.B);Fe(n,"SID",t.J),Fe(n,"RID",e),Fe(n,"TYPE","terminate"),Rn(t,n),(e=new pe(t,t.c,e,void 0)).H=2,e.i=Ve(Ne(n)),n=!1,u.navigator&&u.navigator.sendBeacon&&(n=u.navigator.sendBeacon(e.i.toString(),"")),!n&&u.Image&&((new Image).src=e.i,n=!0),n||(e.a=Gn(e.g,null),e.a.ba(e.i)),e.u=y(),Ee(e)}Kn(t)}function Dn(t){t.a&&(Vn(t),t.a.cancel(),t.a=null)}function Mn(t){Dn(t),t.j&&(u.clearTimeout(t.j),t.j=null),Un(t),t.b.cancel(),t.h&&("number"==typeof t.h&&u.clearTimeout(t.h),t.h=null)}function Ln(t,e){t.g.push(new en(t.Oa++,e)),3==t.v&&Nn(t)}function Nn(t){on(t.b)||t.h||(t.h=!0,Nt(t.Ba,t),t.u=0)}function Pn(t,e){var n;n=e?e.f:t.R++;var i=Ne(t.B);Fe(i,"SID",t.J),Fe(i,"RID",n),Fe(i,"AID",t.P),Rn(t,i),t.i&&t.l&&Sn(i,t.i,t.l),n=new pe(t,t.c,n,t.u+1),null===t.i&&(n.B=t.l),e&&(t.g=e.s.concat(t.g)),e=jn(t,n,1e3),n.setTimeout(Math.round(.5*t.ma)+Math.round(.5*t.ma*Math.random())),un(t.b,n),ye(n,i,e)}function Rn(t,e){t.f&&Ce({},(function(t,n){Fe(e,n,t)}))}function jn(t,e,n){n=Math.min(t.g.length,n);var i=t.f?g(t.f.Ja,t.f,t):null;t:for(var r=t.g,o=-1;;){var s=["count="+n];-1==o?0<n?(o=r[0].b,s.push("ofs="+o)):o=0:s.push("ofs="+o);for(var a=!0,u=0;u<n;u++){var c=r[u].b,l=r[u].a;if(0>(c-=o))o=Math.max(0,r[u].b-100),a=!1;else try{dn(l,s,"req"+c+"_")}catch(t){i&&i(l)}}if(a){i=s.join("&");break t}}return t=t.g.splice(0,n),e.s=t,i}function Bn(t){t.a||t.j||(t.T=1,Nt(t.Aa,t),t.o=0)}function Fn(t){return!(t.a||t.j||3<=t.o)&&(t.T++,t.j=ie(g(t.Aa,t),$n(t,t.o)),t.o++,!0)}function Vn(t){null!=t.s&&(u.clearTimeout(t.s),t.s=null)}function qn(t){t.a=new pe(t,t.c,"rpc",t.T),null===t.i&&(t.a.B=t.l),t.a.O=0;var e=Ne(t.la);Fe(e,"RID","rpc"),Fe(e,"SID",t.J),Fe(e,"CI",t.H?"0":"1"),Fe(e,"AID",t.P),Rn(t,e),Fe(e,"TYPE","xmlhttp"),t.i&&t.l&&Sn(e,t.i,t.l),t.D&&t.a.setTimeout(t.D);var n=t.a;t=t.ga,n.H=1,n.i=Ve(Ne(e)),n.j=null,n.I=!0,be(n,t)}function Un(t){null!=t.m&&(u.clearTimeout(t.m),t.m=null)}function Hn(t,e){var n=null;if(t.a==e){Un(t),Vn(t),t.a=null;var i=2}else{if(!an(t.b,e))return;n=e.s,cn(t.b,e),i=1}if(t.I=e.N,0!=t.v)if(e.b)if(1==i){n=e.j?e.j.length:0,e=y()-e.u;var r=t.u;Tt(i=Xt(),new ne(i,n,e,r)),Nn(t)}else Bn(t);else if(3==(r=e.h)||0==r&&0<t.I||!(1==i&&function(t,e){return!(sn(t.b)>=t.b.f-(t.h?1:0))&&(t.h?(t.g=e.s.concat(t.g),!0):!(1==t.v||2==t.v||t.u>=(t.La?0:t.Ma))&&(t.h=ie(g(t.Ba,t,e),$n(t,t.u)),t.u++,!0))}(t,e)||2==i&&Fn(t)))switch(n&&0<n.length&&(e=t.b,e.c=e.c.concat(n)),r){case 1:Wn(t,5);break;case 4:Wn(t,10);break;case 3:Wn(t,6);break;default:Wn(t,2)}}function $n(t,e){var n=t.Ha+Math.floor(Math.random()*t.Ra);return t.f||(n*=2),n*e}function Wn(t,e){if(t.c.info("Error code "+e),2==e){var n=null;t.f&&(n=null);var i=g(t.Ya,t);n||(n=new Le("//www.google.com/images/cleardot.gif"),u.location&&"http"==u.location.protocol||Pe(n,"https"),Ve(n)),function(t,e){var n=new zt;if(u.Image){var i=new Image;i.onload=m(pn,n,i,"TestLoadImage: loaded",!0,e),i.onerror=m(pn,n,i,"TestLoadImage: error",!1,e),i.onabort=m(pn,n,i,"TestLoadImage: abort",!1,e),i.ontimeout=m(pn,n,i,"TestLoadImage: timeout",!1,e),u.setTimeout((function(){i.ontimeout&&i.ontimeout()}),1e4),i.src=t}else e(!1)}(n.toString(),i)}else ee(2);t.v=0,t.f&&t.f.ra(e),Kn(t),Mn(t)}function Kn(t){t.v=0,t.I=-1,t.f&&(0==ln(t.b).length&&0==t.g.length||(t.b.c.length=0,I(t.g),t.g.length=0),t.f.qa())}function zn(t,e,n){var i=function(t){return t instanceof Le?Ne(t):new Le(t,void 0)}(n);if(""!=i.c)e&&Re(i,e+"."+i.c),je(i,i.h);else{var r=u.location;i=function(t,e,n,i){var r=new Le(null,void 0);return t&&Pe(r,t),e&&Re(r,e),n&&je(r,n),i&&(r.g=i),r}(r.protocol,e?e+"."+r.hostname:r.hostname,+r.port,n)}return t.V&&M(t.V,(function(t,e){Fe(i,e,t)})),e=t.A,n=t.na,e&&n&&Fe(i,e,n),Fe(i,"VER",t.ha),Rn(t,i),i}function Gn(t,e){if(e&&!t.C)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new gn(t.Na)).F=t.C,e}function Qn(){}function Yn(){if(V&&!(10<=Number(Z)))throw Error("Environmental error: no available transport.")}function Xn(t,e){It.call(this),this.a=new An(e),this.o=t,this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.l=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.a&&(t?t["X-WebChannel-Client-Profile"]=e.a:t={"X-WebChannel-Client-Profile":e.a}),this.a.O=t,(t=e&&e.httpHeadersOverwriteParam)&&!T(t)&&(this.a.i=t),this.m=e&&e.supportsCrossDomainXhr||!1,this.l=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!T(e)&&(this.a.A=e,null!==(t=this.b)&&e in t&&(e in(t=this.b)&&delete t[e])),this.f=new ti(this)}function Jn(t){he.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function Zn(){fe.call(this),this.status=1}function ti(t){this.a=t}(o=gn.prototype).ba=function(t,e,n,i){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+t);e=e?e.toUpperCase():"GET",this.B=t,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=this.H?ae(this.H):ae(ce),this.a.onreadystatechange=g(this.za,this);try{this.A=!0,this.a.open(e,String(t),!0),this.A=!1}catch(t){return void _n(this,t)}t=n||"";var r=new Ae(this.headers);i&&Ce(i,(function(t,e){r.set(e,t)})),i=function(t){t:{for(var e=wn,n=t.length,i="string"==typeof t?t.split(""):t,r=0;r<n;r++)if(r in i&&e.call(void 0,i[r],r,t)){e=r;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(r.L()),n=u.FormData&&t instanceof u.FormData,!(0<=_(bn,e))||i||n||r.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),r.forEach((function(t,e){this.a.setRequestHeader(e,t)}),this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{Tn(this),0<this.o&&((this.D=function(t){return V&&X(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=g(this.xa,this)):this.m=Vt(this.xa,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(t){_n(this,t)}},o.xa=function(){void 0!==a&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,Tt(this,"timeout"),this.abort(8))},o.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,Tt(this,"complete"),Tt(this,"abort"),In(this))},o.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),In(this,!0)),gn.X.G.call(this)},o.za=function(){this.j||(this.A||this.l||this.g?kn(this):this.Ua())},o.Ua=function(){kn(this)},o.W=function(){try{return 2<On(this)?this.a.status:-1}catch(t){return-1}},o.$=function(){try{return this.a?this.a.responseText:""}catch(t){return""}},o.Pa=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),vn(e)}},o.ua=function(){return this.h},o.Qa=function(){return"string"==typeof this.f?this.f:String(this.f)},(o=An.prototype).ha=8,o.v=1,o.Ba=function(t){if(this.h)if(this.h=null,1==this.v){if(!t){this.R=Math.floor(1e5*Math.random()),t=this.R++;var e,n=new pe(this,this.c,t,void 0),i=this.l;if(this.O&&(i?P(i=L(i),this.O):i=this.O),null===this.i&&(n.B=i),this.da)t:{for(var r=e=0;r<this.g.length;r++){var o=this.g[r];if(void 0===(o="__data__"in o.a&&"string"==typeof(o=o.a.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=r;break t}if(4096===e||r===this.g.length-1){e=r+1;break t}}e=1e3}else e=1e3;e=jn(this,n,e),Fe(r=Ne(this.B),"RID",t),Fe(r,"CVER",22),this.A&&Fe(r,"X-HTTP-Session-Id",this.A),Rn(this,r),this.i&&i&&Sn(r,this.i,i),un(this.b,n),this.Ia&&Fe(r,"TYPE","init"),this.da?(Fe(r,"$req",e),Fe(r,"SID","null"),n.U=!0,ye(n,r,null)):ye(n,r,e),this.v=2}}else 3==this.v&&(t?Pn(this,t):0==this.g.length||on(this.b)||Pn(this))},o.Aa=function(){if(this.j=null,qn(this),this.U&&!(this.F||null==this.a||0>=this.N)){var t=2*this.N;this.c.info("BP detection timer enabled: "+t),this.s=ie(g(this.Ta,this),t)}},o.Ta=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,ee(10),Dn(this),qn(this))},o.Sa=function(){null!=this.m&&(this.m=null,Dn(this),Fn(this),ee(19))},o.Ya=function(t){t?(this.c.info("Successfully pinged google.com"),ee(2)):(this.c.info("Failed to ping google.com"),ee(1))},(o=Qn.prototype).ta=function(){},o.sa=function(){},o.ra=function(){},o.qa=function(){},o.Ja=function(){},Yn.prototype.a=function(t,e){return new Xn(t,e)},b(Xn,It),Xn.prototype.g=function(){this.a.f=this.f,this.m&&(this.a.C=!0);var t=this.a,e=this.o,n=this.b||void 0;ee(0),t.fa=e,t.V=n||{},t.H=t.S,t.B=zn(t,null,t.fa),Nn(t)},Xn.prototype.close=function(){xn(this.a)},Xn.prototype.h=function(t){if("string"==typeof t){var e={};e.__data__=t,Ln(this.a,e)}else this.l?((e={}).__data__=St(t),Ln(this.a,e)):Ln(this.a,t)},Xn.prototype.G=function(){this.a.f=null,delete this.f,xn(this.a),delete this.a,Xn.X.G.call(this)},b(Jn,he),b(Zn,fe),b(ti,Qn),ti.prototype.ta=function(){Tt(this.a,"a")},ti.prototype.sa=function(t){Tt(this.a,new Jn(t))},ti.prototype.ra=function(t){Tt(this.a,new Zn(t))},ti.prototype.qa=function(){Tt(this.a,"b")},Yn.prototype.createWebChannel=Yn.prototype.a,Xn.prototype.send=Xn.prototype.h,Xn.prototype.open=Xn.prototype.g,Xn.prototype.close=Xn.prototype.close,re.NO_ERROR=0,re.TIMEOUT=8,re.HTTP_ERROR=6,oe.COMPLETE="complete",ue.EventType=le,le.OPEN="a",le.CLOSE="b",le.ERROR="c",le.MESSAGE="d",It.prototype.listen=It.prototype.va,gn.prototype.listenOnce=gn.prototype.wa,gn.prototype.getLastError=gn.prototype.Qa,gn.prototype.getLastErrorCode=gn.prototype.ua,gn.prototype.getStatus=gn.prototype.W,gn.prototype.getResponseJson=gn.prototype.Pa,gn.prototype.getResponseText=gn.prototype.$,gn.prototype.send=gn.prototype.ba;var ei=function(){return new Yn},ni=function(){return Xt()},ii=re,ri=oe,oi=Qt,si={gb:0,jb:1,kb:2,Db:3,Ib:4,Fb:5,Gb:6,Eb:7,Cb:8,Hb:9,PROXY:10,NOPROXY:11,Ab:12,wb:13,xb:14,vb:15,yb:16,zb:17,bb:18,ab:19,cb:20},ai=ue,ui=gn}).call(this,n("pCvA"))},VSW8:function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},VcRG:function(t,e){t.exports="\t\n\v\f\r \u2028\u2029\ufeff"},VwVG:function(t,e,n){"use strict";n("abW9")},W2UA:function(t,e,n){var i=n("gDYM"),r=n("fT8P"),o=n("N1hr");t.exports=function(t,e){if(i(t),r(e)&&e.constructor===t)return e;var n=o.f(t);return(0,n.resolve)(e),n.promise}},W9fh:function(t,e,n){var i=n("fT8P");t.exports=function(t,e){if(!i(t))return t;var n,r;if(e&&"function"==typeof(n=t.toString)&&!i(r=n.call(t)))return r;if("function"==typeof(n=t.valueOf)&&!i(r=n.call(t)))return r;if(!e&&"function"==typeof(n=t.toString)&&!i(r=n.call(t)))return r;throw TypeError("Can't convert object to primitive value")}},WB5j:function(t,e,n){"use strict";var i=n("JRM0"),r=n("fT8P"),o=n("h/Mk"),s=n("glsI"),a=n("zrDt"),u=n("M/tt"),c=n("ztTQ"),l=n("GHf2"),h=n("WCig"),f=n("p2JK"),d=h("slice"),p=f("slice",{ACCESSORS:!0,0:0,1:2}),v=l("species"),g=[].slice,m=Math.max;i({target:"Array",proto:!0,forced:!d||!p},{slice:function(t,e){var n,i,l,h=u(this),f=a(h.length),d=s(t,f),p=s(void 0===e?f:e,f);if(o(h)&&("function"!=typeof(n=h.constructor)||n!==Array&&!o(n.prototype)?r(n)&&null===(n=n[v])&&(n=void 0):n=void 0,n===Array||void 0===n))return g.call(h,d,p);for(i=new(void 0===n?Array:n)(m(p-d,0)),l=0;d<p;d++,l++)d in h&&c(i,l,h[d]);return i.length=l,i}})},WCig:function(t,e,n){var i=n("+iL7"),r=n("GHf2"),o=n("G5hJ"),s=r("species");t.exports=function(t){return o>=51||!i((function(){var e=[];return(e.constructor={})[s]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}},X5mX:function(t,e,n){"use strict";var i=n("+5TE"),r=n("gDYM"),o=n("Qean"),s=n("mvOm"),a=n("a59c");i("search",1,(function(t,e,n){return[function(e){var n=o(this),i=null==e?void 0:e[t];return void 0!==i?i.call(e,n):new RegExp(e)[t](String(n))},function(t){var i=n(e,t,this);if(i.done)return i.value;var o=r(t),u=String(this),c=o.lastIndex;s(c,0)||(o.lastIndex=0);var l=a(o,u);return s(o.lastIndex,c)||(o.lastIndex=c),null===l?-1:l.index}]}))},"Xlt+":function(t,e,n){"use strict";var i=n("JRM0"),r=n("glsI"),o=n("wTAb"),s=n("zrDt"),a=n("9pAD"),u=n("iSxr"),c=n("ztTQ"),l=n("WCig"),h=n("p2JK"),f=l("splice"),d=h("splice",{ACCESSORS:!0,0:0,1:2}),p=Math.max,v=Math.min;i({target:"Array",proto:!0,forced:!f||!d},{splice:function(t,e){var n,i,l,h,f,d,g=a(this),m=s(g.length),y=r(t,m),b=arguments.length;if(0===b?n=i=0:1===b?(n=0,i=m-y):(n=b-2,i=v(p(o(e),0),m-y)),m+n-i>9007199254740991)throw TypeError("Maximum allowed length exceeded");for(l=u(g,i),h=0;h<i;h++)(f=y+h)in g&&c(l,h,g[f]);if(l.length=i,n<i){for(h=y;h<m-i;h++)d=h+n,(f=h+i)in g?g[d]=g[f]:delete g[d];for(h=m;h>m-i+n;h--)delete g[h-1]}else if(n>i)for(h=m-i;h>y;h--)d=h+n-1,(f=h+i-1)in g?g[d]=g[f]:delete g[d];for(h=0;h<n;h++)g[h+y]=arguments[h+2];return g.length=m-i+n,l}})},YXJX:function(t,e){!function(t){"use strict";var e={},n={NEXT:"Next",PREVIOUS:"Previous",FIRST:"First",LAST:"Last",CURRENT_PAGE_REPORT:"Results {FromResult} - {ToResult} of {TotalResult}"},i=(t.translationKeys=Object.keys(n),function(t){return n[t]}),r=function(t){var e,n,r;for(this.options={totalResult:0,prelink:"",rowsPerPage:10,pageLinks:5,current:1,translator:i,translationCache:!1,translationCacheKey:"en",pageParamName:"page",slashSeparator:!1},n=0,r=(e=Object.keys(t)).length;n<r;n++)this.set(e[n],t[e[n]]);this._result=null};t.Paginator=r,r.prototype={getPaginationData:function(){return this._result||(this._result=this.calc()),this._result},calc:function(){var t,e,n,i,r,o=this.options.totalResult,s=this.options.pageLinks,a=this.options.rowsPerPage,u=this.options.current,c=s%2==0?1:0,l={prelink:this.options.prelink,current:u,previous:null,next:null,first:null,last:null,range:[],fromResult:null,toResult:null,totalResult:o,pageCount:null};if(a<=0)return l;if(n=Math.ceil(o/a),l.pageCount=n,n<2)return l.fromResult=1,l.toResult=o,l;for(u>n&&(u=n,l.current=u),e=u+(r=Math.floor(s/2))-c,(t=u-r)<1&&(e=(t=1)+s-1)>n&&(e=n),e>n&&(t=(e=n)-s+1)<1&&(t=1),i=t;i<=e;i++)l.range.push(i);return u>1&&(l.first=1,l.previous=u-1),u<n&&(l.last=n,l.next=u+1),l.fromResult=(u-1)*a+1,l.toResult=u===n?o:l.fromResult+a-1,l},set:function(t,e){if(this.options.hasOwnProperty(t)){switch(t){case"current":case"totalResult":case"pageLinks":case"rowsPerPage":if(e=parseInt(e,10),isNaN(e))throw new Error('Invalid value for "'+t+'", expected an integer');break;case"translator":if(!(e&&e.constructor&&e.call&&e.apply))throw new Error("Translator must be a function");break;case"translationCacheKey":case"pageParamName":case"prelink":e=String(e)}this.options[t]=e,this._result&&(this._result=null)}},preparePreLink:function(t){return this.options.slashSeparator?("/"!==t[t.length-1]&&(t+="/"),t+this.options.pageParamName+"/"):(-1!==t.indexOf("?")?"?"!==t[t.length-1]&&"&"!==t[t.length-1]&&(t+="&"):t+="?",t+this.options.pageParamName+"=")},render:function(){throw new Error("Implement")}},t.registerFactory=function(t,n){if(e.hasOwnProperty(t))throw new Error(t+" already exists");e[t]=n},t.create=function(t,n){if(e.hasOwnProperty(t))return new e[t](n);throw new Error("Paginator type"+t+" not found in register")}}(e)},Ya6V:function(t,e,n){var i=n("nEaP"),r=n("nHIk");t.exports=function(t,e){try{r(i,t,e)}catch(n){i[t]=e}return e}},ZyKY:function(t,e,n){"use strict";e.__esModule=!0;var i=n("82EY");e.default=function(t){t.registerHelper("blockHelperMissing",(function(e,n){var r=n.inverse,o=n.fn;if(!0===e)return o(this);if(!1===e||null==e)return r(this);if(i.isArray(e))return e.length>0?(n.ids&&(n.ids=[n.name]),t.helpers.each(e,n)):r(this);if(n.data&&n.ids){var s=i.createFrame(n.data);s.contextPath=i.appendContextPath(n.data.contextPath,n.name),n={data:s}}return o(e,n)}))},t.exports=e.default},a59c:function(t,e,n){var i=n("fSIz"),r=n("hVpg");t.exports=function(t,e){var n=t.exec;if("function"==typeof n){var o=n.call(t,e);if("object"!=typeof o)throw TypeError("RegExp exec method returned something other than an Object or null");return o}if("RegExp"!==i(t))throw TypeError("RegExp#exec called on incompatible receiver");return r.call(t,e)}},a72Q:function(t,e,n){var i=n("jmUq");t.exports=function(t,e,n){if(i(t),void 0===e)return t;switch(n){case 0:return function(){return t.call(e)};case 1:return function(n){return t.call(e,n)};case 2:return function(n,i){return t.call(e,n,i)};case 3:return function(n,i,r){return t.call(e,n,i,r)}}return function(){return t.apply(e,arguments)}}},a9xp:function(t,e,n){"use strict";
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var i=function(){return(i=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};Object.create;Object.create;var r,o,s=n("1iQ0"),a=n("3sWB"),u=n("MxOq"),c=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),l=new s.b("app","Firebase",c),h=((o={})["@firebase/app"]="fire-core",o["@firebase/analytics"]="fire-analytics",o["@firebase/auth"]="fire-auth",o["@firebase/database"]="fire-rtdb",o["@firebase/functions"]="fire-fn",o["@firebase/installations"]="fire-iid",o["@firebase/messaging"]="fire-fcm",o["@firebase/performance"]="fire-perf",o["@firebase/remote-config"]="fire-rc",o["@firebase/storage"]="fire-gcs",o["@firebase/firestore"]="fire-fst",o["fire-js"]="fire-js",o["firebase-wrapper"]="fire-js-all",o),f=new u.b("@firebase/app"),d=function(){function t(t,e,n){var i=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=Object(s.e)(t),this.container=new a.b(e.name),this._addComponent(new a.a("app",(function(){return i}),"PUBLIC")),this.firebase_.INTERNAL.components.forEach((function(t){return i._addComponent(t)}))}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise((function(e){t.checkDestroyed_(),e()})).then((function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map((function(t){return t.delete()})))})).then((function(){t.isDeleted_=!0}))},t.prototype._getService=function(t,e){return void 0===e&&(e="[DEFAULT]"),this.checkDestroyed_(),this.container.getProvider(t).getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e="[DEFAULT]"),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){f.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw l.create("app-deleted",{appName:this.name_})},t}();d.prototype.name&&d.prototype.options||d.prototype.delete||console.log("dc");var p=
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function t(){var e=
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function(t){var e={},n=new Map,i={__esModule:!0,initializeApp:function(n,r){void 0===r&&(r={});if("object"!=typeof r||null===r){r={name:r}}var o=r;void 0===o.name&&(o.name="[DEFAULT]");var a=o.name;if("string"!=typeof a||!a)throw l.create("bad-app-name",{appName:String(a)});if(Object(s.c)(e,a))throw l.create("duplicate-app",{appName:a});var u=new t(n,o,i);return e[a]=u,u},app:r,registerVersion:function(t,e,n){var i,r=null!==(i=h[t])&&void 0!==i?i:t;n&&(r+="-"+n);var s=r.match(/\s|\//),u=e.match(/\s|\//);if(s||u){var c=['Unable to register library "'+r+'" with version "'+e+'":'];return s&&c.push('library name "'+r+'" contains illegal characters (whitespace or "/")'),s&&u&&c.push("and"),u&&c.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void f.warn(c.join(" "))}o(new a.a(r+"-version",(function(){return{library:r,version:e}}),"VERSION"))},setLogLevel:u.c,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw l.create("invalid-log-argument");Object(u.d)(t,e)},apps:null,SDK_VERSION:"8.3.1",INTERNAL:{registerComponent:o,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){if("serverAuth"===e)return null;return e}}};function r(t){if(t=t||"[DEFAULT]",!Object(s.c)(e,t))throw l.create("no-app",{appName:t});return e[t]}function o(o){var a=o.name;if(n.has(a))return f.debug("There were multiple attempts to register component "+a+"."),"PUBLIC"===o.type?i[a]:null;if(n.set(a,o),"PUBLIC"===o.type){var u=function(t){if(void 0===t&&(t=r()),"function"!=typeof t[a])throw l.create("invalid-app-argument",{appName:a});return t[a]()};void 0!==o.serviceProps&&Object(s.f)(u,o.serviceProps),i[a]=u,t.prototype[a]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this._getService.bind(this,a);return n.apply(this,o.multipleInstances?t:[])}}for(var c=0,h=Object.keys(e);c<h.length;c++){var d=h[c];e[d]._addComponent(o)}return"PUBLIC"===o.type?i[a]:null}return i.default=i,Object.defineProperty(i,"apps",{get:function(){return Object.keys(e).map((function(t){return e[t]}))}}),r.App=t,i}(d);return e.INTERNAL=i(i({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){Object(s.f)(e,t)},createSubscribe:s.d,ErrorFactory:s.b,deepExtend:s.f}),e}(),v=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null})).filter((function(t){return t})).join(" ")},t}();
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
if(Object(s.h)()&&void 0!==self.firebase){f.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var g=self.firebase.SDK_VERSION;g&&g.indexOf("LITE")>=0&&f.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var m=p.initializeApp;p.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Object(s.m)()&&f.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),m.apply(void 0,t)};var y,b,w=p;(y=w).INTERNAL.registerComponent(new a.a("platform-logger",(function(t){return new v(t)}),"PRIVATE")),y.registerVersion("@firebase/app","0.6.17",b),y.registerVersion("fire-js","");e.a=w},aZFp:function(t,e,n){"use strict";var i=n("+5TE"),r=n("GrtF"),o=n("gDYM"),s=n("Qean"),a=n("6ka5"),u=n("JtDR"),c=n("zrDt"),l=n("a59c"),h=n("hVpg"),f=n("+iL7"),d=[].push,p=Math.min,v=!f((function(){return!RegExp(4294967295,"y")}));i("split",2,(function(t,e,n){var i;return i="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(t,n){var i=String(s(this)),o=void 0===n?4294967295:n>>>0;if(0===o)return[];if(void 0===t)return[i];if(!r(t))return e.call(i,t,o);for(var a,u,c,l=[],f=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),p=0,v=new RegExp(t.source,f+"g");(a=h.call(v,i))&&!((u=v.lastIndex)>p&&(l.push(i.slice(p,a.index)),a.length>1&&a.index<i.length&&d.apply(l,a.slice(1)),c=a[0].length,p=u,l.length>=o));)v.lastIndex===a.index&&v.lastIndex++;return p===i.length?!c&&v.test("")||l.push(""):l.push(i.slice(p)),l.length>o?l.slice(0,o):l}:"0".split(void 0,0).length?function(t,n){return void 0===t&&0===n?[]:e.call(this,t,n)}:e,[function(e,n){var r=s(this),o=null==e?void 0:e[t];return void 0!==o?o.call(e,r,n):i.call(String(r),e,n)},function(t,r){var s=n(i,t,this,r,i!==e);if(s.done)return s.value;var h=o(t),f=String(this),d=a(h,RegExp),g=h.unicode,m=(h.ignoreCase?"i":"")+(h.multiline?"m":"")+(h.unicode?"u":"")+(v?"y":"g"),y=new d(v?h:"^(?:"+h.source+")",m),b=void 0===r?4294967295:r>>>0;if(0===b)return[];if(0===f.length)return null===l(y,f)?[f]:[];for(var w=0,_=0,E=[];_<f.length;){y.lastIndex=v?_:0;var k,I=l(y,v?f:f.slice(_));if(null===I||(k=p(c(y.lastIndex+(v?0:_)),f.length))===w)_=u(f,_,g);else{if(E.push(f.slice(w,_)),E.length===b)return E;for(var T=1;T<=I.length-1;T++)if(E.push(I[T]),E.length===b)return E;_=w=k}}return E.push(f.slice(w)),E}]}),!v)},abW9:function(t,e,n){"use strict";(function(t){var e=n("a9xp");(function(){var n,i="function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,n){t!=Array.prototype&&t!=Object.prototype&&(t[e]=n.value)};var r=function(e){e=["object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof t&&t,e];for(var n=0;n<e.length;++n){var i=e[n];if(i&&i.Math==Math)return i}return globalThis}(this);function o(t){var e=0;return function(){return e<t.length?{done:!1,value:t[e++]}:{done:!0}}}function s(t){var e="undefined"!=typeof Symbol&&Symbol.iterator&&t[Symbol.iterator];return e?e.call(t):{next:o(t)}}!function(t,e){if(e){var n=r;t=t.split(".");for(var o=0;o<t.length-1;o++){var s=t[o];s in n||(n[s]={}),n=n[s]}(e=e(o=n[t=t[t.length-1]]))!=o&&null!=e&&i(n,t,{configurable:!0,writable:!0,value:e})}}("Promise",(function(t){function e(t){this.b=0,this.c=void 0,this.a=[];var e=this.f();try{t(e.resolve,e.reject)}catch(t){e.reject(t)}}function n(){this.a=null}function i(t){return t instanceof e?t:new e((function(e){e(t)}))}if(t)return t;n.prototype.b=function(t){if(null==this.a){this.a=[];var e=this;this.c((function(){e.g()}))}this.a.push(t)};var o=r.setTimeout;n.prototype.c=function(t){o(t,0)},n.prototype.g=function(){for(;this.a&&this.a.length;){var t=this.a;this.a=[];for(var e=0;e<t.length;++e){var n=t[e];t[e]=null;try{n()}catch(t){this.f(t)}}}this.a=null},n.prototype.f=function(t){this.c((function(){throw t}))},e.prototype.f=function(){function t(t){return function(i){n||(n=!0,t.call(e,i))}}var e=this,n=!1;return{resolve:t(this.m),reject:t(this.g)}},e.prototype.m=function(t){if(t===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(t instanceof e)this.s(t);else{t:switch(typeof t){case"object":var n=null!=t;break t;case"function":n=!0;break t;default:n=!1}n?this.v(t):this.h(t)}},e.prototype.v=function(t){var e=void 0;try{e=t.then}catch(t){return void this.g(t)}"function"==typeof e?this.u(e,t):this.h(t)},e.prototype.g=function(t){this.i(2,t)},e.prototype.h=function(t){this.i(1,t)},e.prototype.i=function(t,e){if(0!=this.b)throw Error("Cannot settle("+t+", "+e+"): Promise already settled in state"+this.b);this.b=t,this.c=e,this.l()},e.prototype.l=function(){if(null!=this.a){for(var t=0;t<this.a.length;++t)a.b(this.a[t]);this.a=null}};var a=new n;return e.prototype.s=function(t){var e=this.f();t.Qa(e.resolve,e.reject)},e.prototype.u=function(t,e){var n=this.f();try{t.call(e,n.resolve,n.reject)}catch(t){n.reject(t)}},e.prototype.then=function(t,n){function i(t,e){return"function"==typeof t?function(e){try{r(t(e))}catch(t){o(t)}}:e}var r,o,s=new e((function(t,e){r=t,o=e}));return this.Qa(i(t,r),i(n,o)),s},e.prototype.catch=function(t){return this.then(void 0,t)},e.prototype.Qa=function(t,e){function n(){switch(i.b){case 1:t(i.c);break;case 2:e(i.c);break;default:throw Error("Unexpected state: "+i.b)}}var i=this;null==this.a?a.b(n):this.a.push(n)},e.resolve=i,e.reject=function(t){return new e((function(e,n){n(t)}))},e.race=function(t){return new e((function(e,n){for(var r=s(t),o=r.next();!o.done;o=r.next())i(o.value).Qa(e,n)}))},e.all=function(t){var n=s(t),r=n.next();return r.done?i([]):new e((function(t,e){function o(e){return function(n){s[e]=n,0==--a&&t(s)}}var s=[],a=0;do{s.push(void 0),a++,i(r.value).Qa(o(s.length-1),e),r=n.next()}while(!r.done)}))},e}));var a=a||{},u=this||self,c=/^[\w+/_-]+[=]{0,2}$/,l=null;function h(t){return(t=t.querySelector&&t.querySelector("script[nonce]"))&&(t=t.nonce||t.getAttribute("nonce"))&&c.test(t)?t:""}function f(){}function d(t){var e=typeof t;return"object"!=e?e:t?Array.isArray(t)?"array":e:"null"}function p(t){var e=d(t);return"array"==e||"object"==e&&"number"==typeof t.length}function v(t){return"function"==d(t)}function g(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}function m(t){return Object.prototype.hasOwnProperty.call(t,y)&&t[y]||(t[y]=++b)}var y="closure_uid_"+(1e9*Math.random()>>>0),b=0;function w(t,e,n){return t.call.apply(t.bind,arguments)}function _(t,e,n){if(!t)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,i),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function E(t,e,n){return(E=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?w:_).apply(null,arguments)}function k(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}var I=Date.now;function T(t,e){function n(){}n.prototype=e.prototype,t.ab=e.prototype,t.prototype=new n,t.prototype.constructor=t}function O(t){return t}function S(t,e,n){this.code=x+t,this.message=e||D[t]||"",this.a=n||null}function C(t){var e=t&&t.code;return e?new S(e.substring(x.length),t.message,t.serverResponse):null}T(S,Error),S.prototype.w=function(){var t={code:this.code,message:this.message};return this.a&&(t.serverResponse=this.a),t},S.prototype.toJSON=function(){return this.w()};var A,x="auth/",D={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},M={ld:{Ta:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Za:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Wa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},sd:{Ta:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",Za:"https://securetoken.googleapis.com/v1/token",Wa:"https://identitytoolkit.googleapis.com/v2/",id:"p"},ud:{Ta:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Za:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Wa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},vd:{Ta:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",Za:"https://test-securetoken.sandbox.googleapis.com/v1/token",Wa:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function L(t){for(var e in M)if(M[e].id===t)return{firebaseEndpoint:(t=M[e]).Ta,secureTokenEndpoint:t.Za,identityPlatformEndpoint:t.Wa};return null}function N(t){if(!t)return!1;try{return!!t.$goog_Thenable}catch(t){return!1}}function P(t){if(Error.captureStackTrace)Error.captureStackTrace(this,P);else{var e=Error().stack;e&&(this.stack=e)}t&&(this.message=String(t))}function R(t,e){for(var n="",i=(t=t.split("%s")).length-1,r=0;r<i;r++)n+=t[r]+(r<e.length?e[r]:"%s");P.call(this,n+t[i])}function j(t,e){throw new R("Failure"+(t?": "+t:""),Array.prototype.slice.call(arguments,1))}function B(t,e){this.c=t,this.f=e,this.b=0,this.a=null}function F(t,e){t.f(e),100>t.b&&(t.b++,e.next=t.a,t.a=e)}function V(){this.b=this.a=null}A=L("__EID__")?"__EID__":void 0,T(P,Error),P.prototype.name="CustomError",T(R,P),R.prototype.name="AssertionError",B.prototype.get=function(){if(0<this.b){this.b--;var t=this.a;this.a=t.next,t.next=null}else t=this.c();return t};var q=new B((function(){return new H}),(function(t){t.reset()}));function U(){var t=_e,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function H(){this.next=this.b=this.a=null}V.prototype.add=function(t,e){var n=q.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},H.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},H.prototype.reset=function(){this.next=this.b=this.a=null};var $=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},W=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var i=t.length,r="string"==typeof t?t.split(""):t,o=0;o<i;o++)o in r&&e.call(n,r[o],o,t)};var K=Array.prototype.filter?function(t,e){return Array.prototype.filter.call(t,e,void 0)}:function(t,e){for(var n=t.length,i=[],r=0,o="string"==typeof t?t.split(""):t,s=0;s<n;s++)if(s in o){var a=o[s];e.call(void 0,a,s,t)&&(i[r++]=a)}return i},z=Array.prototype.map?function(t,e){return Array.prototype.map.call(t,e,void 0)}:function(t,e){for(var n=t.length,i=Array(n),r="string"==typeof t?t.split(""):t,o=0;o<n;o++)o in r&&(i[o]=e.call(void 0,r[o],o,t));return i},G=Array.prototype.some?function(t,e){return Array.prototype.some.call(t,e,void 0)}:function(t,e){for(var n=t.length,i="string"==typeof t?t.split(""):t,r=0;r<n;r++)if(r in i&&e.call(void 0,i[r],r,t))return!0;return!1};function Q(t,e){return 0<=$(t,e)}function Y(t,e){var n;return(n=0<=(e=$(t,e)))&&Array.prototype.splice.call(t,e,1),n}function X(t,e){!function(t,e){for(var n="string"==typeof t?t.split(""):t,i=t.length-1;0<=i;--i)i in n&&e.call(void 0,n[i],i,t)}(t,(function(n,i){e.call(void 0,n,i,t)&&1==Array.prototype.splice.call(t,i,1).length&&0}))}function J(t){return Array.prototype.concat.apply([],arguments)}function Z(t){var e=t.length;if(0<e){for(var n=Array(e),i=0;i<e;i++)n[i]=t[i];return n}return[]}var tt,et=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]},nt=/&/g,it=/</g,rt=/>/g,ot=/"/g,st=/'/g,at=/\x00/g,ut=/[\x00&<>"']/;function ct(t,e){return-1!=t.indexOf(e)}function lt(t,e){return t<e?-1:t>e?1:0}t:{var ht=u.navigator;if(ht){var ft=ht.userAgent;if(ft){tt=ft;break t}}tt=""}function dt(t){return ct(tt,t)}function pt(t,e){for(var n in t)e.call(void 0,t[n],n,t)}function vt(t){for(var e in t)return!1;return!0}function gt(t){var e,n={};for(e in t)n[e]=t[e];return n}var mt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function yt(t,e){for(var n,i,r=1;r<arguments.length;r++){for(n in i=arguments[r])t[n]=i[n];for(var o=0;o<mt.length;o++)n=mt[o],Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}}function bt(t,e){t:{try{var n=t&&t.ownerDocument,i=n&&(n.defaultView||n.parentWindow);if((i=i||u).Element&&i.Location){var r=i;break t}}catch(t){}r=null}if(r&&void 0!==r[e]&&(!t||!(t instanceof r[e])&&(t instanceof r.Location||t instanceof r.Element))){if(g(t))try{var o=t.constructor.displayName||t.constructor.name||Object.prototype.toString.call(t)}catch(t){o="<object could not be stringified>"}else o=void 0===t?"undefined":null===t?"null":typeof t;j("Argument is not a %s (or a non-Element, non-Location mock); got: %s",e,o)}}function wt(t,e){this.a=t===It&&e||"",this.b=kt}function _t(t){return t instanceof wt&&t.constructor===wt&&t.b===kt?t.a:(j("expected object of type Const, got '"+t+"'"),"type_error:Const")}wt.prototype.sa=!0,wt.prototype.ra=function(){return this.a},wt.prototype.toString=function(){return"Const{"+this.a+"}"};var Et,kt={},It={};function Tt(){if(void 0===Et){var t=null,e=u.trustedTypes;if(e&&e.createPolicy){try{t=e.createPolicy("goog#html",{createHTML:O,createScript:O,createScriptURL:O})}catch(t){u.console&&u.console.error(t.message)}Et=t}else Et=t}return Et}function Ot(t,e){this.a=e===Dt?t:""}function St(t){return t instanceof Ot&&t.constructor===Ot?t.a:(j("expected object of type TrustedResourceUrl, got '"+t+"' of type "+d(t)),"type_error:TrustedResourceUrl")}function Ct(t,e){var n=_t(t);if(!xt.test(n))throw Error("Invalid TrustedResourceUrl format: "+n);return function(t){var e=Tt();return new Ot(t=e?e.createScriptURL(t):t,Dt)}(t=n.replace(At,(function(t,i){if(!Object.prototype.hasOwnProperty.call(e,i))throw Error('Found marker, "'+i+'", in format string, "'+n+'", but no valid label mapping found in args: '+JSON.stringify(e));return(t=e[i])instanceof wt?_t(t):encodeURIComponent(String(t))})))}Ot.prototype.sa=!0,Ot.prototype.ra=function(){return this.a.toString()},Ot.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var At=/%{(\w+)}/g,xt=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,Dt={};function Mt(t,e){this.a=e===Ft?t:""}function Lt(t){return t instanceof Mt&&t.constructor===Mt?t.a:(j("expected object of type SafeUrl, got '"+t+"' of type "+d(t)),"type_error:SafeUrl")}Mt.prototype.sa=!0,Mt.prototype.ra=function(){return this.a.toString()},Mt.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var Nt=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|font\/\w+|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\w+=(?:\w+|"[\w;,= ]+"))*$/i,Pt=/^data:(.*);base64,[a-z0-9+\/]+=*$/i,Rt=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function jt(t){if(t instanceof Mt)return t;if(t="object"==typeof t&&t.sa?t.ra():String(t),Rt.test(t))t=new Mt(t,Ft);else{var e=(t=(t=String(t)).replace(/(%0A|%0D)/g,"")).match(Pt);t=e&&Nt.test(e[1])?new Mt(t,Ft):null}return t}function Bt(t){return t instanceof Mt?t:(t="object"==typeof t&&t.sa?t.ra():String(t),Rt.test(t)||(t="about:invalid#zClosurez"),new Mt(t,Ft))}var Ft={},Vt=new Mt("about:invalid#zClosurez",Ft);function qt(t,e,n){this.a=n===Ut?t:""}qt.prototype.sa=!0,qt.prototype.ra=function(){return this.a.toString()},qt.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var Ut={};function Ht(t,e,n,i){return t=t instanceof Mt?t:Bt(t),e=e||u,n=n instanceof wt?_t(n):n||"",e.open(Lt(t),n,i,void 0)}function $t(t,e){for(var n=t.split("%s"),i="",r=Array.prototype.slice.call(arguments,1);r.length&&1<n.length;)i+=n.shift()+r.shift();return i+n.join("%s")}function Wt(t){return ut.test(t)&&(-1!=t.indexOf("&")&&(t=t.replace(nt,"&amp;")),-1!=t.indexOf("<")&&(t=t.replace(it,"&lt;")),-1!=t.indexOf(">")&&(t=t.replace(rt,"&gt;")),-1!=t.indexOf('"')&&(t=t.replace(ot,"&quot;")),-1!=t.indexOf("'")&&(t=t.replace(st,"&#39;")),-1!=t.indexOf("\0")&&(t=t.replace(at,"&#0;"))),t}function Kt(t){return Kt[" "](t),t}Kt[" "]=f;var zt,Gt,Qt=dt("Opera"),Yt=dt("Trident")||dt("MSIE"),Xt=dt("Edge"),Jt=Xt||Yt,Zt=dt("Gecko")&&!(ct(tt.toLowerCase(),"webkit")&&!dt("Edge"))&&!(dt("Trident")||dt("MSIE"))&&!dt("Edge"),te=ct(tt.toLowerCase(),"webkit")&&!dt("Edge");function ee(){var t=u.document;return t?t.documentMode:void 0}t:{var ne="",ie=(Gt=tt,Zt?/rv:([^\);]+)(\)|;)/.exec(Gt):Xt?/Edge\/([\d\.]+)/.exec(Gt):Yt?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Gt):te?/WebKit\/(\S+)/.exec(Gt):Qt?/(?:Version)[ \/]?(\S+)/.exec(Gt):void 0);if(ie&&(ne=ie?ie[1]:""),Yt){var re=ee();if(null!=re&&re>parseFloat(ne)){zt=String(re);break t}}zt=ne}var oe,se={};function ae(t){return function(t,e){var n=se;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}(t,(function(){for(var e=0,n=et(String(zt)).split("."),i=et(String(t)).split("."),r=Math.max(n.length,i.length),o=0;0==e&&o<r;o++){var s=n[o]||"",a=i[o]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==s[0].length&&0==a[0].length)break;e=lt(0==s[1].length?0:parseInt(s[1],10),0==a[1].length?0:parseInt(a[1],10))||lt(0==s[2].length,0==a[2].length)||lt(s[2],a[2]),s=s[3],a=a[3]}while(0==e)}return 0<=e}))}if(u.document&&Yt){var ue=ee();oe=ue||(parseInt(zt,10)||void 0)}else oe=void 0;var ce=oe;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch(Gt){}var le=!Yt||9<=Number(ce);function he(t){var e=document;return"string"==typeof t?e.getElementById(t):t}function fe(t,e){pt(e,(function(e,n){e&&"object"==typeof e&&e.sa&&(e=e.ra()),"style"==n?t.style.cssText=e:"class"==n?t.className=e:"for"==n?t.htmlFor=e:ve.hasOwnProperty(n)?t.setAttribute(ve[n],e):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?t.setAttribute(n,e):t[n]=e}))}var de,pe,ve={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function ge(t,e,n){function i(n){n&&e.appendChild("string"==typeof n?t.createTextNode(n):n)}for(var r=2;r<n.length;r++){var o=n[r];if(!p(o)||g(o)&&0<o.nodeType)i(o);else{t:{if(o&&"number"==typeof o.length){if(g(o)){var s="function"==typeof o.item||"string"==typeof o.item;break t}if(v(o)){s="function"==typeof o.item;break t}}s=!1}W(s?Z(o):o,i)}}}function me(t,e){return e=String(e),"application/xhtml+xml"===t.contentType&&(e=e.toLowerCase()),t.createElement(e)}function ye(t){u.setTimeout((function(){throw t}),0)}function be(t,e){pe||function(){if(u.Promise&&u.Promise.resolve){var t=u.Promise.resolve(void 0);pe=function(){t.then(Ee)}}else pe=function(){var t=Ee;!v(u.setImmediate)||u.Window&&u.Window.prototype&&!dt("Edge")&&u.Window.prototype.setImmediate==u.setImmediate?(de||(de=function(){var t=u.MessageChannel;if(void 0===t&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!dt("Presto")&&(t=function(){var t=me(document,"IFRAME");t.style.display="none",document.documentElement.appendChild(t);var e=t.contentWindow;(t=e.document).open(),t.close();var n="callImmediate"+Math.random(),i="file:"==e.location.protocol?"*":e.location.protocol+"//"+e.location.host;t=E((function(t){"*"!=i&&t.origin!=i||t.data!=n||this.port1.onmessage()}),this),e.addEventListener("message",t,!1),this.port1={},this.port2={postMessage:function(){e.postMessage(n,i)}}}),void 0!==t&&!dt("Trident")&&!dt("MSIE")){var e=new t,n={},i=n;return e.port1.onmessage=function(){if(void 0!==n.next){var t=(n=n.next).Gb;n.Gb=null,t()}},function(t){i.next={Gb:t},i=i.next,e.port2.postMessage(0)}}return function(t){u.setTimeout(t,0)}}()),de(t)):u.setImmediate(t)}}(),we||(pe(),we=!0),_e.add(t,e)}var we=!1,_e=new V;function Ee(){for(var t;t=U();){try{t.a.call(t.b)}catch(t){ye(t)}F(q,t)}we=!1}function ke(t,e){if(this.a=Ie,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,t!=f)try{var n=this;t.call(e,(function(t){Re(n,Te,t)}),(function(t){if(!(t instanceof He))try{if(t instanceof Error)throw t;throw Error("Promise rejected.")}catch(t){}Re(n,Oe,t)}))}catch(t){Re(this,Oe,t)}}var Ie=0,Te=2,Oe=3;function Se(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}Se.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var Ce=new B((function(){return new Se}),(function(t){t.reset()}));function Ae(t,e,n){var i=Ce.get();return i.g=t,i.b=e,i.f=n,i}function xe(t){if(t instanceof ke)return t;var e=new ke(f);return Re(e,Te,t),e}function De(t){return new ke((function(e,n){n(t)}))}function Me(t,e,n){je(t,e,n,null)||be(k(e,t))}function Le(t){return new ke((function(e){var n=t.length,i=[];if(n)for(var r=function(t,r,o){n--,i[t]=r?{Pb:!0,value:o}:{Pb:!1,reason:o},0==n&&e(i)},o=0;o<t.length;o++)Me(t[o],k(r,o,!0),k(r,o,!1));else e(i)}))}function Ne(t,e){t.b||t.a!=Te&&t.a!=Oe||Be(t),t.f?t.f.next=e:t.b=e,t.f=e}function Pe(t,e,n,i){var r=Ae(null,null,null);return r.a=new ke((function(t,o){r.g=e?function(n){try{var r=e.call(i,n);t(r)}catch(t){o(t)}}:t,r.b=n?function(e){try{var r=n.call(i,e);void 0===r&&e instanceof He?o(e):t(r)}catch(t){o(t)}}:o})),r.a.c=t,Ne(t,r),r.a}function Re(t,e,n){t.a==Ie&&(t===n&&(e=Oe,n=new TypeError("Promise cannot resolve to itself")),t.a=1,je(n,t.$c,t.ad,t)||(t.i=n,t.a=e,t.c=null,Be(t),e!=Oe||n instanceof He||function(t,e){t.g=!0,be((function(){t.g&&Ue.call(null,e)}))}(t,n)))}function je(t,e,n,i){if(t instanceof ke)return Ne(t,Ae(e||f,n||null,i)),!0;if(N(t))return t.then(e,n,i),!0;if(g(t))try{var r=t.then;if(v(r))return function(t,e,n,i,r){function o(t){s||(s=!0,i.call(r,t))}var s=!1;try{e.call(t,(function(t){s||(s=!0,n.call(r,t))}),o)}catch(t){o(t)}}(t,r,e,n,i),!0}catch(t){return n.call(i,t),!0}return!1}function Be(t){t.h||(t.h=!0,be(t.gc,t))}function Fe(t){var e=null;return t.b&&(e=t.b,t.b=e.next,e.next=null),t.b||(t.f=null),e}function Ve(t,e,n,i){if(n==Oe&&e.b&&!e.c)for(;t&&t.g;t=t.c)t.g=!1;if(e.a)e.a.c=null,qe(e,n,i);else try{e.c?e.g.call(e.f):qe(e,n,i)}catch(t){Ue.call(null,t)}F(Ce,e)}function qe(t,e,n){e==Te?t.g.call(t.f,n):t.b&&t.b.call(t.f,n)}ke.prototype.then=function(t,e,n){return Pe(this,v(t)?t:null,v(e)?e:null,n)},ke.prototype.$goog_Thenable=!0,(n=ke.prototype).oa=function(t,e){return(t=Ae(t,t,e)).c=!0,Ne(this,t),this},n.o=function(t,e){return Pe(this,null,t,e)},n.cancel=function(t){if(this.a==Ie){var e=new He(t);be((function(){!function t(e,n){if(e.a==Ie)if(e.c){var i=e.c;if(i.b){for(var r=0,o=null,s=null,a=i.b;a&&(a.c||(r++,a.a==e&&(o=a),!(o&&1<r)));a=a.next)o||(s=a);o&&(i.a==Ie&&1==r?t(i,n):(s?((r=s).next==i.f&&(i.f=r),r.next=r.next.next):Fe(i),Ve(i,o,Oe,n)))}e.c=null}else Re(e,Oe,n)}(this,e)}),this)}},n.$c=function(t){this.a=Ie,Re(this,Te,t)},n.ad=function(t){this.a=Ie,Re(this,Oe,t)},n.gc=function(){for(var t;t=Fe(this);)Ve(this,t,this.a,this.i);this.h=!1};var Ue=ye;function He(t){P.call(this,t)}function $e(){0!=We&&(Ke[m(this)]=this),this.xa=this.xa,this.pa=this.pa}T(He,P),He.prototype.name="cancel";var We=0,Ke={};function ze(t){if(!t.xa&&(t.xa=!0,t.Da(),0!=We)){var e=m(t);if(0!=We&&t.pa&&0<t.pa.length)throw Error(t+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete Ke[e]}}$e.prototype.xa=!1,$e.prototype.Da=function(){if(this.pa)for(;this.pa.length;)this.pa.shift()()};var Ge=Object.freeze||function(t){return t},Qe=!Yt||9<=Number(ce),Ye=Yt&&!ae("9"),Xe=function(){if(!u.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{u.addEventListener("test",f,e),u.removeEventListener("test",f,e)}catch(t){}return t}();function Je(t,e){this.type=t,this.b=this.target=e,this.defaultPrevented=!1}function Ze(t,e){if(Je.call(this,t?t.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,t){var n=this.type=t.type,i=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.b=e,e=t.relatedTarget){if(Zt){t:{try{Kt(e.nodeName);var r=!0;break t}catch(t){}r=!1}r||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:tn[t.pointerType]||"",this.a=t,t.defaultPrevented&&this.preventDefault()}}Je.prototype.preventDefault=function(){this.defaultPrevented=!0},T(Ze,Je);var tn=Ge({2:"touch",3:"pen",4:"mouse"});Ze.prototype.preventDefault=function(){Ze.ab.preventDefault.call(this);var t=this.a;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,Ye)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(t){}},Ze.prototype.g=function(){return this.a};var en="closure_listenable_"+(1e6*Math.random()|0),nn=0;function rn(t,e,n,i,r){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!i,this.Va=r,this.key=++nn,this.va=this.Pa=!1}function on(t){t.va=!0,t.listener=null,t.proxy=null,t.src=null,t.Va=null}function sn(t){this.src=t,this.a={},this.b=0}function an(t,e){var n=e.type;n in t.a&&Y(t.a[n],e)&&(on(e),0==t.a[n].length&&(delete t.a[n],t.b--))}function un(t,e,n,i){for(var r=0;r<t.length;++r){var o=t[r];if(!o.va&&o.listener==e&&o.capture==!!n&&o.Va==i)return r}return-1}sn.prototype.add=function(t,e,n,i,r){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var s=un(t,e,i,r);return-1<s?(e=t[s],n||(e.Pa=!1)):((e=new rn(e,this.src,o,!!i,r)).Pa=n,t.push(e)),e};var cn="closure_lm_"+(1e6*Math.random()|0),ln={};function hn(t,e,n,i,r){if(i&&i.once)dn(t,e,n,i,r);else if(Array.isArray(e))for(var o=0;o<e.length;o++)hn(t,e[o],n,i,r);else n=En(n),t&&t[en]?In(t,e,n,g(i)?!!i.capture:!!i,r):fn(t,e,n,!1,i,r)}function fn(t,e,n,i,r,o){if(!e)throw Error("Invalid event type");var s=g(r)?!!r.capture:!!r,a=wn(t);if(a||(t[cn]=a=new sn(t)),!(n=a.add(e,n,i,s,o)).proxy){if(i=function(){var t=bn,e=Qe?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=i,i.src=t,i.listener=n,t.addEventListener)Xe||(r=s),void 0===r&&(r=!1),t.addEventListener(e.toString(),i,r);else if(t.attachEvent)t.attachEvent(gn(e.toString()),i);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(i)}0}}function dn(t,e,n,i,r){if(Array.isArray(e))for(var o=0;o<e.length;o++)dn(t,e[o],n,i,r);else n=En(n),t&&t[en]?Tn(t,e,n,g(i)?!!i.capture:!!i,r):fn(t,e,n,!0,i,r)}function pn(t,e,n,i,r){if(Array.isArray(e))for(var o=0;o<e.length;o++)pn(t,e[o],n,i,r);else i=g(i)?!!i.capture:!!i,n=En(n),t&&t[en]?(t=t.v,(e=String(e).toString())in t.a&&(-1<(n=un(o=t.a[e],n,i,r))&&(on(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--)))):t&&(t=wn(t))&&(e=t.a[e.toString()],t=-1,e&&(t=un(e,n,i,r)),(n=-1<t?e[t]:null)&&vn(n))}function vn(t){if("number"!=typeof t&&t&&!t.va){var e=t.src;if(e&&e[en])an(e.v,t);else{var n=t.type,i=t.proxy;e.removeEventListener?e.removeEventListener(n,i,t.capture):e.detachEvent?e.detachEvent(gn(n),i):e.addListener&&e.removeListener&&e.removeListener(i),(n=wn(e))?(an(n,t),0==n.b&&(n.src=null,e[cn]=null)):on(t)}}}function gn(t){return t in ln?ln[t]:ln[t]="on"+t}function mn(t,e,n,i){var r=!0;if((t=wn(t))&&(e=t.a[e.toString()]))for(e=e.concat(),t=0;t<e.length;t++){var o=e[t];o&&o.capture==n&&!o.va&&(o=yn(o,i),r=r&&!1!==o)}return r}function yn(t,e){var n=t.listener,i=t.Va||t.src;return t.Pa&&vn(t),n.call(i,e)}function bn(t,e){if(t.va)return!0;if(!Qe){if(!e)t:{e=["window","event"];for(var n=u,i=0;i<e.length;i++)if(null==(n=n[e[i]])){e=null;break t}e=n}if(e=new Ze(i=e,this),n=!0,!(0>i.keyCode||null!=i.returnValue)){t:{var r=!1;if(0==i.keyCode)try{i.keyCode=-1;break t}catch(t){r=!0}(r||null==i.returnValue)&&(i.returnValue=!0)}for(i=[],r=e.b;r;r=r.parentNode)i.push(r);for(t=t.type,r=i.length-1;0<=r;r--){e.b=i[r];var o=mn(i[r],t,!0,e);n=n&&o}for(r=0;r<i.length;r++)e.b=i[r],o=mn(i[r],t,!1,e),n=n&&o}return n}return yn(t,new Ze(e,this))}function wn(t){return(t=t[cn])instanceof sn?t:null}var _n="__closure_events_fn_"+(1e9*Math.random()>>>0);function En(t){return v(t)?t:(t[_n]||(t[_n]=function(e){return t.handleEvent(e)}),t[_n])}function kn(){$e.call(this),this.v=new sn(this),this.ac=this,this.gb=null}function In(t,e,n,i,r){t.v.add(String(e),n,!1,i,r)}function Tn(t,e,n,i,r){t.v.add(String(e),n,!0,i,r)}function On(t,e,n,i){if(!(e=t.v.a[String(e)]))return!0;e=e.concat();for(var r=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.va&&s.capture==n){var a=s.listener,u=s.Va||s.src;s.Pa&&an(t.v,s),r=!1!==a.call(u,i)&&r}}return r&&!i.defaultPrevented}function Sn(t,e,n){if(v(t))n&&(t=E(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=E(t.handleEvent,t)}return 2147483647<Number(e)?-1:u.setTimeout(t,e||0)}function Cn(t){var e=null;return new ke((function(n,i){-1==(e=Sn((function(){n(void 0)}),t))&&i(Error("Failed to schedule timer."))})).o((function(t){throw u.clearTimeout(e),t}))}function An(t){if(t.W&&"function"==typeof t.W)return t.W();if("string"==typeof t)return t.split("");if(p(t)){for(var e=[],n=t.length,i=0;i<n;i++)e.push(t[i]);return e}for(i in e=[],n=0,t)e[n++]=t[i];return e}function xn(t){if(t.Y&&"function"==typeof t.Y)return t.Y();if(!t.W||"function"!=typeof t.W){if(p(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}for(var i in e=[],n=0,t)e[n++]=i;return e}}function Dn(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var i=0;i<n;i+=2)this.set(arguments[i],arguments[i+1])}else if(t)if(t instanceof Dn)for(n=t.Y(),i=0;i<n.length;i++)this.set(n[i],t.get(n[i]));else for(i in t)this.set(i,t[i])}function Mn(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var i=t.a[e];Ln(t.b,i)&&(t.a[n++]=i),e++}t.a.length=n}if(t.c!=t.a.length){var r={};for(n=e=0;e<t.a.length;)Ln(r,i=t.a[e])||(t.a[n++]=i,r[i]=1),e++;t.a.length=n}}function Ln(t,e){return Object.prototype.hasOwnProperty.call(t,e)}T(kn,$e),kn.prototype[en]=!0,kn.prototype.addEventListener=function(t,e,n,i){hn(this,t,e,n,i)},kn.prototype.removeEventListener=function(t,e,n,i){pn(this,t,e,n,i)},kn.prototype.dispatchEvent=function(t){var e,n=this.gb;if(n)for(e=[];n;n=n.gb)e.push(n);n=this.ac;var i=t.type||t;if("string"==typeof t)t=new Je(t,n);else if(t instanceof Je)t.target=t.target||n;else{var r=t;yt(t=new Je(i,n),r)}if(r=!0,e)for(var o=e.length-1;0<=o;o--){var s=t.b=e[o];r=On(s,i,!0,t)&&r}if(r=On(s=t.b=n,i,!0,t)&&r,r=On(s,i,!1,t)&&r,e)for(o=0;o<e.length;o++)r=On(s=t.b=e[o],i,!1,t)&&r;return r},kn.prototype.Da=function(){if(kn.ab.Da.call(this),this.v){var t,e=this.v;for(t in e.a){for(var n=e.a[t],i=0;i<n.length;i++)on(n[i]);delete e.a[t],e.b--}}this.gb=null},(n=Dn.prototype).W=function(){Mn(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},n.Y=function(){return Mn(this),this.a.concat()},n.clear=function(){this.b={},this.c=this.a.length=0},n.get=function(t,e){return Ln(this.b,t)?this.b[t]:e},n.set=function(t,e){Ln(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},n.forEach=function(t,e){for(var n=this.Y(),i=0;i<n.length;i++){var r=n[i],o=this.get(r);t.call(e,o,r,this)}};var Nn=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Pn(t,e){var n;this.a=this.l=this.c="",this.g=null,this.h=this.f="",this.i=!1,t instanceof Pn?(this.i=void 0!==e?e:t.i,Rn(this,t.c),this.l=t.l,this.a=t.a,jn(this,t.g),this.f=t.f,Bn(this,ii(t.b)),this.h=t.h):t&&(n=String(t).match(Nn))?(this.i=!!e,Rn(this,n[1]||"",!0),this.l=Hn(n[2]||""),this.a=Hn(n[3]||"",!0),jn(this,n[4]),this.f=Hn(n[5]||"",!0),Bn(this,n[6]||"",!0),this.h=Hn(n[7]||"")):(this.i=!!e,this.b=new Xn(null,this.i))}function Rn(t,e,n){t.c=n?Hn(e,!0):e,t.c&&(t.c=t.c.replace(/:$/,""))}function jn(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.g=e}else t.g=null}function Bn(t,e,n){e instanceof Xn?(t.b=e,function(t,e){e&&!t.f&&(Jn(t),t.c=null,t.a.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(ti(this,e),ni(this,n,t))}),t)),t.f=e}(t.b,t.i)):(n||(e=$n(e,Qn)),t.b=new Xn(e,t.i))}function Fn(t,e,n){t.b.set(e,n)}function Vn(t,e){return t.b.get(e)}function qn(t){return t instanceof Pn?new Pn(t):new Pn(t,void 0)}function Un(t,e,n,i){var r=new Pn(null,void 0);return t&&Rn(r,t),e&&(r.a=e),n&&jn(r,n),i&&(r.f=i),r}function Hn(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function $n(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,Wn),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Wn(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Pn.prototype.toString=function(){var t=[],e=this.c;e&&t.push($n(e,Kn,!0),":");var n=this.a;return(n||"file"==e)&&(t.push("//"),(e=this.l)&&t.push($n(e,Kn,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.g)&&t.push(":",String(n))),(n=this.f)&&(this.a&&"/"!=n.charAt(0)&&t.push("/"),t.push($n(n,"/"==n.charAt(0)?Gn:zn,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.h)&&t.push("#",$n(n,Yn)),t.join("")},Pn.prototype.resolve=function(t){var e=new Pn(this),n=!!t.c;n?Rn(e,t.c):n=!!t.l,n?e.l=t.l:n=!!t.a,n?e.a=t.a:n=null!=t.g;var i=t.f;if(n)jn(e,t.g);else if(n=!!t.f){if("/"!=i.charAt(0))if(this.a&&!this.f)i="/"+i;else{var r=e.f.lastIndexOf("/");-1!=r&&(i=e.f.substr(0,r+1)+i)}if(".."==(r=i)||"."==r)i="";else if(ct(r,"./")||ct(r,"/.")){i=0==r.lastIndexOf("/",0),r=r.split("/");for(var o=[],s=0;s<r.length;){var a=r[s++];"."==a?i&&s==r.length&&o.push(""):".."==a?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),i&&s==r.length&&o.push("")):(o.push(a),i=!0)}i=o.join("/")}else i=r}return n?e.f=i:n=""!==t.b.toString(),n?Bn(e,ii(t.b)):n=!!t.h,n&&(e.h=t.h),e};var Kn=/[#\/\?@]/g,zn=/[#\?:]/g,Gn=/[#\?]/g,Qn=/[#\?@]/g,Yn=/#/g;function Xn(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function Jn(t){t.a||(t.a=new Dn,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var i=t[n].indexOf("="),r=null;if(0<=i){var o=t[n].substring(0,i);r=t[n].substring(i+1)}else o=t[n];e(o,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(t.c,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function Zn(t){var e=xn(t);if(void 0===e)throw Error("Keys are undefined");var n=new Xn(null,void 0);t=An(t);for(var i=0;i<e.length;i++){var r=e[i],o=t[i];Array.isArray(o)?ni(n,r,o):n.add(r,o)}return n}function ti(t,e){Jn(t),e=ri(t,e),Ln(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,Ln((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&Mn(t)))}function ei(t,e){return Jn(t),e=ri(t,e),Ln(t.a.b,e)}function ni(t,e,n){ti(t,e),0<n.length&&(t.c=null,t.a.set(ri(t,e),Z(n)),t.b+=n.length)}function ii(t){var e=new Xn;return e.c=t.c,t.a&&(e.a=new Dn(t.a),e.b=t.b),e}function ri(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}function oi(t){var e=[];return function t(e,n,i){if(null==n)i.push("null");else{if("object"==typeof n){if(Array.isArray(n)){var r=n;n=r.length,i.push("[");for(var o="",s=0;s<n;s++)i.push(o),t(e,r[s],i),o=",";return void i.push("]")}if(!(n instanceof String||n instanceof Number||n instanceof Boolean)){for(r in i.push("{"),o="",n)Object.prototype.hasOwnProperty.call(n,r)&&("function"!=typeof(s=n[r])&&(i.push(o),ci(r,i),i.push(":"),t(e,s,i),o=","));return void i.push("}")}n=n.valueOf()}switch(typeof n){case"string":ci(n,i);break;case"number":i.push(isFinite(n)&&!isNaN(n)?String(n):"null");break;case"boolean":i.push(String(n));break;case"function":i.push("null");break;default:throw Error("Unknown type: "+typeof n)}}}(new si,t,e),e.join("")}function si(){}(n=Xn.prototype).add=function(t,e){Jn(this),this.c=null,t=ri(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},n.clear=function(){this.a=this.c=null,this.b=0},n.forEach=function(t,e){Jn(this),this.a.forEach((function(n,i){W(n,(function(n){t.call(e,n,i,this)}),this)}),this)},n.Y=function(){Jn(this);for(var t=this.a.W(),e=this.a.Y(),n=[],i=0;i<e.length;i++)for(var r=t[i],o=0;o<r.length;o++)n.push(e[i]);return n},n.W=function(t){Jn(this);var e=[];if("string"==typeof t)ei(this,t)&&(e=J(e,this.a.get(ri(this,t))));else{t=this.a.W();for(var n=0;n<t.length;n++)e=J(e,t[n])}return e},n.set=function(t,e){return Jn(this),this.c=null,ei(this,t=ri(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},n.get=function(t,e){return t&&0<(t=this.W(t)).length?String(t[0]):e},n.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.Y(),n=0;n<e.length;n++){var i=e[n],r=encodeURIComponent(String(i));i=this.W(i);for(var o=0;o<i.length;o++){var s=r;""!==i[o]&&(s+="="+encodeURIComponent(String(i[o]))),t.push(s)}}return this.c=t.join("&")};var ai={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},ui=/\uffff/.test("")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function ci(t,e){e.push('"',t.replace(ui,(function(t){var e=ai[t];return e||(e="\\u"+(65536|t.charCodeAt(0)).toString(16).substr(1),ai[t]=e),e})),'"')}function li(){var t=Ai();return Yt&&!!ce&&11==ce||/Edge\/\d+/.test(t)}function hi(){return u.window&&u.window.location.href||self&&self.location&&self.location.href||""}function fi(t,e){e=e||u.window;var n="about:blank";t&&(n=Lt(jt(t)||Vt)),e.location.href=n}function di(t){return!!((t=(t||Ai()).toLowerCase()).match(/android/)||t.match(/webos/)||t.match(/iphone|ipad|ipod/)||t.match(/blackberry/)||t.match(/windows phone/)||t.match(/iemobile/))}function pi(t){t=t||u.window;try{t.close()}catch(t){}}function vi(t,e,n){var i=Math.floor(1e9*Math.random()).toString();e=e||500,n=n||600;var r=(window.screen.availHeight-n)/2,o=(window.screen.availWidth-e)/2;for(s in e={width:e,height:n,top:0<r?r:0,left:0<o?o:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},n=Ai().toLowerCase(),i&&(e.target=i,ct(n,"crios/")&&(e.target="_blank")),Oi(Ai())==Ii&&(t=t||"http://localhost",e.scrollbars=!0),n=t||"",(t=e)||(t={}),i=window,e=n instanceof Mt?n:jt(void 0!==n.href?n.href:String(n))||Vt,n=t.target||n.target,r=[],t)switch(s){case"width":case"height":case"top":case"left":r.push(s+"="+t[s]);break;case"target":case"noopener":case"noreferrer":break;default:r.push(s+"="+(t[s]?1:0))}var s=r.join(",");if((dt("iPhone")&&!dt("iPod")&&!dt("iPad")||dt("iPad")||dt("iPod"))&&i.navigator&&i.navigator.standalone&&n&&"_self"!=n?(bt(s=me(document,"A"),"HTMLAnchorElement"),e=e instanceof Mt?e:Bt(e),s.href=Lt(e),s.setAttribute("target",n),t.noreferrer&&s.setAttribute("rel","noreferrer"),(t=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,i,1),s.dispatchEvent(t),s={}):t.noreferrer?(s=Ht("",i,n,s),t=Lt(e),s&&(Jt&&ct(t,";")&&(t="'"+t.replace(/'/g,"%27")+"'"),s.opener=null,t='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+Wt(t)+'">',t=new qt(t=(i=Tt())?i.createHTML(t):t,null,Ut),i=s.document)&&(i.write(function(t){return t instanceof qt&&t.constructor===qt?t.a:(j("expected object of type SafeHtml, got '"+t+"' of type "+d(t)),"type_error:SafeHtml")}(t)),i.close())):(s=Ht(e,i,n,s))&&t.noopener&&(s.opener=null),s)try{s.focus()}catch(t){}return s}var gi=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,mi=/^[^@]+@[^@]+$/;function yi(){var t=null;return new ke((function(e){"complete"==u.document.readyState?e():(t=function(){e()},dn(window,"load",t))})).o((function(e){throw pn(window,"load",t),e}))}function bi(t){return t=t||Ai(),!("file:"!==Ni()&&"ionic:"!==Ni()||!t.toLowerCase().match(/iphone|ipad|ipod|android/))}function wi(){var t=u.window;try{return!(!t||t==t.top)}catch(t){return!1}}function _i(){return void 0!==u.WorkerGlobalScope&&"function"==typeof u.importScripts}function Ei(){return e.a.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":e.a.INTERNAL.hasOwnProperty("node")?"Node":_i()?"Worker":"Browser"}function ki(){var t=Ei();return"ReactNative"===t||"Node"===t}var Ii="Firefox",Ti="Chrome";function Oi(t){var e=t.toLowerCase();return ct(e,"opera/")||ct(e,"opr/")||ct(e,"opios/")?"Opera":ct(e,"iemobile")?"IEMobile":ct(e,"msie")||ct(e,"trident/")?"IE":ct(e,"edge/")?"Edge":ct(e,"firefox/")?Ii:ct(e,"silk/")?"Silk":ct(e,"blackberry")?"Blackberry":ct(e,"webos")?"Webos":!ct(e,"safari/")||ct(e,"chrome/")||ct(e,"crios/")||ct(e,"android")?!ct(e,"chrome/")&&!ct(e,"crios/")||ct(e,"edge/")?ct(e,"android")?"Android":(t=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==t.length?t[1]:"Other":Ti:"Safari"}var Si={md:"FirebaseCore-web",od:"FirebaseUI-web"};function Ci(t,e){e=e||[];var n,i=[],r={};for(n in Si)r[Si[n]]=!0;for(n=0;n<e.length;n++)void 0!==r[e[n]]&&(delete r[e[n]],i.push(e[n]));return i.sort(),(e=i).length||(e=["FirebaseCore-web"]),"Browser"===(i=Ei())?i=Oi(r=Ai()):"Worker"===i&&(i=Oi(r=Ai())+"-"+i),i+"/JsCore/"+t+"/"+e.join(",")}function Ai(){return u.navigator&&u.navigator.userAgent||""}function xi(t,e){t=t.split("."),e=e||u;for(var n=0;n<t.length&&"object"==typeof e&&null!=e;n++)e=e[t[n]];return n!=t.length&&(e=void 0),e}function Di(){try{var t=u.localStorage,e=Fi();if(t)return t.setItem(e,"1"),t.removeItem(e),!li()||!!u.indexedDB}catch(t){return _i()&&!!u.indexedDB}return!1}function Mi(){return(Li()||"chrome-extension:"===Ni()||bi())&&!ki()&&Di()&&!_i()}function Li(){return"http:"===Ni()||"https:"===Ni()}function Ni(){return u.location&&u.location.protocol||null}function Pi(t){return!di(t=t||Ai())&&Oi(t)!=Ii}function Ri(t){return void 0===t?null:oi(t)}function ji(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&null!==t[e]&&void 0!==t[e]&&(n[e]=t[e]);return n}function Bi(t){if(null!==t)return JSON.parse(t)}function Fi(t){return t||Math.floor(1e9*Math.random()).toString()}function Vi(t){return"Safari"!=Oi(t=t||Ai())&&!t.toLowerCase().match(/iphone|ipad|ipod/)}function qi(){var t=u.___jsl;if(t&&t.H)for(var e in t.H)if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=t.H[e].L.concat(),t.CP)for(var n=0;n<t.CP.length;n++)t.CP[n]=null}function Ui(t,e){if(t>e)throw Error("Short delay should be less than long delay!");this.a=t,this.c=e,t=Ai(),e=Ei(),this.b=di(t)||"ReactNative"===e}function Hi(){var t=u.document;return!t||void 0===t.visibilityState||"visible"==t.visibilityState}function $i(t){try{var e=new Date(parseInt(t,10));if(!isNaN(e.getTime())&&!/[^0-9]/.test(t))return e.toUTCString()}catch(t){}return null}function Wi(){return!(!xi("fireauth.oauthhelper",u)&&!xi("fireauth.iframe",u))}Ui.prototype.get=function(){var t=u.navigator;return!t||"boolean"!=typeof t.onLine||!Li()&&"chrome-extension:"!==Ni()&&void 0===t.connection||t.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};var Ki,zi={};function Gi(t){zi[t]||(zi[t]=!0,"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(t))}try{var Qi={};Object.defineProperty(Qi,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(Qi,"abcd",{configurable:!0,enumerable:!0,value:2}),Ki=2==Qi.abcd}catch(Gt){Ki=!1}function Yi(t,e,n){Ki?Object.defineProperty(t,e,{configurable:!0,enumerable:!0,value:n}):t[e]=n}function Xi(t,e){if(e)for(var n in e)e.hasOwnProperty(n)&&Yi(t,n,e[n])}function Ji(t){var e={};return Xi(e,t),e}function Zi(t){var e=t;if("object"==typeof t&&null!=t)for(var n in e="length"in t?[]:{},t)Yi(e,n,Zi(t[n]));return e}function tr(t){var e=t&&(t[or]?"phone":null);if(!(e&&t&&t[rr]))throw new S("internal-error","Internal assert: invalid MultiFactorInfo object");Yi(this,"uid",t[rr]),Yi(this,"displayName",t[nr]||null);var n=null;t[ir]&&(n=new Date(t[ir]).toUTCString()),Yi(this,"enrollmentTime",n),Yi(this,"factorId",e)}function er(t){try{var e=new sr(t)}catch(t){e=null}return e}tr.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};var nr="displayName",ir="enrolledAt",rr="mfaEnrollmentId",or="phoneInfo";function sr(t){tr.call(this,t),Yi(this,"phoneNumber",t[or])}function ar(t){var e={},n=t[hr],i=t[dr],r=t[pr];if(t=er(t[fr]),!r||r!=cr&&r!=lr&&!n||r==lr&&!i||r==ur&&!t)throw Error("Invalid checkActionCode response!");r==lr?(e[gr]=n||null,e[yr]=n||null,e[vr]=i):(e[gr]=i||null,e[yr]=i||null,e[vr]=n||null),e[mr]=t||null,Yi(this,wr,r),Yi(this,br,Zi(e))}T(sr,tr),sr.prototype.w=function(){var t=sr.ab.w.call(this);return t.phoneNumber=this.phoneNumber,t};var ur="REVERT_SECOND_FACTOR_ADDITION",cr="EMAIL_SIGNIN",lr="VERIFY_AND_CHANGE_EMAIL",hr="email",fr="mfaInfo",dr="newEmail",pr="requestType",vr="email",gr="fromEmail",mr="multiFactorInfo",yr="previousEmail",br="data",wr="operation";function _r(t){var e=Vn(t=qn(t),Er)||null,n=Vn(t,kr)||null,i=Vn(t,Or)||null;if(i=i&&Cr[i]||null,!e||!n||!i)throw new S("argument-error",Er+", "+kr+"and "+Or+" are required in a valid action code URL.");Xi(this,{apiKey:e,operation:i,code:n,continueUrl:Vn(t,Ir)||null,languageCode:Vn(t,Tr)||null,tenantId:Vn(t,Sr)||null})}var Er="apiKey",kr="oobCode",Ir="continueUrl",Tr="languageCode",Or="mode",Sr="tenantId",Cr={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:ur,signIn:cr,verifyAndChangeEmail:lr,verifyEmail:"VERIFY_EMAIL"};function Ar(t){try{return new _r(t)}catch(t){return null}}function xr(t){var e=t[Pr];if(void 0===e)throw new S("missing-continue-uri");if("string"!=typeof e||"string"==typeof e&&!e.length)throw new S("invalid-continue-uri");this.h=e,this.b=this.a=null,this.g=!1;var n=t[Dr];if(n&&"object"==typeof n){e=n[Br];var i=n[Rr];if(n=n[jr],"string"==typeof e&&e.length){if(this.a=e,void 0!==i&&"boolean"!=typeof i)throw new S("argument-error",Rr+" property must be a boolean when specified.");if(this.g=!!i,void 0!==n&&("string"!=typeof n||"string"==typeof n&&!n.length))throw new S("argument-error",jr+" property must be a non empty string when specified.");this.b=n||null}else{if(void 0!==e)throw new S("argument-error",Br+" property must be a non empty string when specified.");if(void 0!==i||void 0!==n)throw new S("missing-android-pkg-name")}}else if(void 0!==n)throw new S("argument-error",Dr+" property must be a non null object when specified.");if(this.f=null,(e=t[Nr])&&"object"==typeof e){if("string"==typeof(e=e[Fr])&&e.length)this.f=e;else if(void 0!==e)throw new S("argument-error",Fr+" property must be a non empty string when specified.")}else if(void 0!==e)throw new S("argument-error",Nr+" property must be a non null object when specified.");if(void 0!==(e=t[Lr])&&"boolean"!=typeof e)throw new S("argument-error",Lr+" property must be a boolean when specified.");if(this.c=!!e,void 0!==(t=t[Mr])&&("string"!=typeof t||"string"==typeof t&&!t.length))throw new S("argument-error",Mr+" property must be a non empty string when specified.");this.i=t||null}var Dr="android",Mr="dynamicLinkDomain",Lr="handleCodeInApp",Nr="iOS",Pr="url",Rr="installApp",jr="minimumVersion",Br="packageName",Fr="bundleId";function Vr(t){var e={};for(var n in e.continueUrl=t.h,e.canHandleCodeInApp=t.c,(e.androidPackageName=t.a)&&(e.androidMinimumVersion=t.b,e.androidInstallApp=t.g),e.iOSBundleId=t.f,e.dynamicLinkDomain=t.i,e)null===e[n]&&delete e[n];return e}var qr=null;function Ur(t){var e=[];return function(t,e){function n(e){for(;i<t.length;){var n=t.charAt(i++),r=qr[n];if(null!=r)return r;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return e}!function(){if(!qr){qr={};for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),e=["+/=","+/","-_=","-_.","-_"],n=0;5>n;n++)for(var i=t.concat(e[n].split("")),r=0;r<i.length;r++){var o=i[r];void 0===qr[o]&&(qr[o]=r)}}}();for(var i=0;;){var r=n(-1),o=n(0),s=n(64),a=n(64);if(64===a&&-1===r)break;e(r<<2|o>>4),64!=s&&(e(o<<4&240|s>>2),64!=a&&e(s<<6&192|a))}}(t,(function(t){e.push(t)})),e}function Hr(t){var e=Wr(t);if(!(e&&e.sub&&e.iss&&e.aud&&e.exp))throw Error("Invalid JWT");this.h=t,this.a=e.exp,this.i=e.sub,t=Date.now()/1e3,this.g=e.iat||(t>this.a?this.a:t),this.b=e.provider_id||e.firebase&&e.firebase.sign_in_provider||null,this.f=e.firebase&&e.firebase.tenant||null,this.c=!!e.is_anonymous||"anonymous"==this.b}function $r(t){try{return new Hr(t)}catch(t){return null}}function Wr(t){if(!t)return null;if(3!=(t=t.split(".")).length)return null;for(var e=(4-(t=t[1]).length%4)%4,n=0;n<e;n++)t+=".";try{var i=Ur(t);for(t=[],n=e=0;e<i.length;){var r=i[e++];if(128>r)t[n++]=String.fromCharCode(r);else if(191<r&&224>r){var o=i[e++];t[n++]=String.fromCharCode((31&r)<<6|63&o)}else if(239<r&&365>r){o=i[e++];var s=i[e++],a=((7&r)<<18|(63&o)<<12|(63&s)<<6|63&i[e++])-65536;t[n++]=String.fromCharCode(55296+(a>>10)),t[n++]=String.fromCharCode(56320+(1023&a))}else o=i[e++],s=i[e++],t[n++]=String.fromCharCode((15&r)<<12|(63&o)<<6|63&s)}return JSON.parse(t.join(""))}catch(t){}return null}Hr.prototype.T=function(){return this.f},Hr.prototype.l=function(){return this.c},Hr.prototype.toString=function(){return this.h};var Kr="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),zr=["client_id","response_type","scope","redirect_uri","state"],Gr={nd:{Ja:"locale",ua:700,ta:600,fa:"facebook.com",Xa:zr},pd:{Ja:null,ua:500,ta:750,fa:"github.com",Xa:zr},qd:{Ja:"hl",ua:515,ta:680,fa:"google.com",Xa:zr},wd:{Ja:"lang",ua:485,ta:705,fa:"twitter.com",Xa:Kr},kd:{Ja:"locale",ua:640,ta:600,fa:"apple.com",Xa:[]}};function Qr(t){for(var e in Gr)if(Gr[e].fa==t)return Gr[e];return null}function Yr(t){var e={};e["facebook.com"]=eo,e["google.com"]=io,e["github.com"]=no,e["twitter.com"]=ro;var n=t&&t[Jr];try{if(n)return e[n]?new e[n](t):new to(t);if(void 0!==t[Xr])return new Zr(t)}catch(t){}return null}var Xr="idToken",Jr="providerId";function Zr(t){var e=t[Jr];if(!e&&t[Xr]){var n=$r(t[Xr]);n&&n.b&&(e=n.b)}if(!e)throw Error("Invalid additional user info!");"anonymous"!=e&&"custom"!=e||(e=null),n=!1,void 0!==t.isNewUser?n=!!t.isNewUser:"identitytoolkit#SignupNewUserResponse"===t.kind&&(n=!0),Yi(this,"providerId",e),Yi(this,"isNewUser",n)}function to(t){Zr.call(this,t),Yi(this,"profile",Zi((t=Bi(t.rawUserInfo||"{}"))||{}))}function eo(t){if(to.call(this,t),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function no(t){if(to.call(this,t),"github.com"!=this.providerId)throw Error("Invalid provider ID!");Yi(this,"username",this.profile&&this.profile.login||null)}function io(t){if(to.call(this,t),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function ro(t){if(to.call(this,t),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");Yi(this,"username",t.screenName||null)}function oo(t){var e=qn(t),n=Vn(e,"link"),i=Vn(qn(n),"link");return e=Vn(e,"deep_link_id"),Vn(qn(e),"link")||e||i||n||t}function so(t,e){if(!t&&!e)throw new S("internal-error","Internal assert: no raw session string available");if(t&&e)throw new S("internal-error","Internal assert: unable to determine the session type");this.a=t||null,this.b=e||null,this.type=this.a?ao:uo}T(to,Zr),T(eo,to),T(no,to),T(io,to),T(ro,to);var ao="enroll",uo="signin";function co(){}function lo(t,e){return t.then((function(t){if(t[Js]){var n=$r(t[Js]);if(!n||e!=n.i)throw new S("user-mismatch");return t}throw new S("user-mismatch")})).o((function(t){throw t&&t.code&&t.code==x+"user-not-found"?new S("user-mismatch"):t}))}function ho(t,e){if(!e)throw new S("internal-error","failed to construct a credential");this.a=e,Yi(this,"providerId",t),Yi(this,"signInMethod",t)}function fo(t){return{pendingToken:t.a,requestUri:"http://localhost"}}function po(t){if(t&&t.providerId&&t.signInMethod&&0==t.providerId.indexOf("saml.")&&t.pendingToken)try{return new ho(t.providerId,t.pendingToken)}catch(t){}return null}function vo(t,e,n){if(this.a=null,e.idToken||e.accessToken)e.idToken&&Yi(this,"idToken",e.idToken),e.accessToken&&Yi(this,"accessToken",e.accessToken),e.nonce&&!e.pendingToken&&Yi(this,"nonce",e.nonce),e.pendingToken&&(this.a=e.pendingToken);else{if(!e.oauthToken||!e.oauthTokenSecret)throw new S("internal-error","failed to construct a credential");Yi(this,"accessToken",e.oauthToken),Yi(this,"secret",e.oauthTokenSecret)}Yi(this,"providerId",t),Yi(this,"signInMethod",n)}function go(t){var e={};return t.idToken&&(e.id_token=t.idToken),t.accessToken&&(e.access_token=t.accessToken),t.secret&&(e.oauth_token_secret=t.secret),e.providerId=t.providerId,t.nonce&&!t.a&&(e.nonce=t.nonce),e={postBody:Zn(e).toString(),requestUri:"http://localhost"},t.a&&(delete e.postBody,e.pendingToken=t.a),e}function mo(t){if(t&&t.providerId&&t.signInMethod){var e={idToken:t.oauthIdToken,accessToken:t.oauthTokenSecret?null:t.oauthAccessToken,oauthTokenSecret:t.oauthTokenSecret,oauthToken:t.oauthTokenSecret&&t.oauthAccessToken,nonce:t.nonce,pendingToken:t.pendingToken};try{return new vo(t.providerId,e,t.signInMethod)}catch(t){}}return null}function yo(t,e){this.Qc=e||[],Xi(this,{providerId:t,isOAuthProvider:!0}),this.Ib={},this.pb=(Qr(t)||{}).Ja||null,this.ob=null}function bo(t){if("string"!=typeof t||0!=t.indexOf("saml."))throw new S("argument-error",'SAML provider IDs must be prefixed with "saml."');yo.call(this,t,[])}function wo(t){yo.call(this,t,zr),this.a=[]}function _o(){wo.call(this,"facebook.com")}function Eo(t){if(!t)throw new S("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return g(t)&&(e=t.accessToken),(new _o).credential({accessToken:e})}function ko(){wo.call(this,"github.com")}function Io(t){if(!t)throw new S("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return g(t)&&(e=t.accessToken),(new ko).credential({accessToken:e})}function To(){wo.call(this,"google.com"),this.Ca("profile")}function Oo(t,e){var n=t;return g(t)&&(n=t.idToken,e=t.accessToken),(new To).credential({idToken:n,accessToken:e})}function So(){yo.call(this,"twitter.com",Kr)}function Co(t,e){var n=t;if(g(n)||(n={oauthToken:t,oauthTokenSecret:e}),!n.oauthToken||!n.oauthTokenSecret)throw new S("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new vo("twitter.com",n,"twitter.com")}function Ao(t,e,n){this.a=t,this.f=e,Yi(this,"providerId","password"),Yi(this,"signInMethod",n===Do.EMAIL_LINK_SIGN_IN_METHOD?Do.EMAIL_LINK_SIGN_IN_METHOD:Do.EMAIL_PASSWORD_SIGN_IN_METHOD)}function xo(t){return t&&t.email&&t.password?new Ao(t.email,t.password,t.signInMethod):null}function Do(){Xi(this,{providerId:"password",isOAuthProvider:!1})}function Mo(t,e){if(!(e=Lo(e)))throw new S("argument-error","Invalid email link!");return new Ao(t,e.code,Do.EMAIL_LINK_SIGN_IN_METHOD)}function Lo(t){return(t=Ar(t=oo(t)))&&t.operation===cr?t:null}function No(t){if(!(t.eb&&t.cb||t.La&&t.ea))throw new S("internal-error");this.a=t,Yi(this,"providerId","phone"),this.fa="phone",Yi(this,"signInMethod","phone")}function Po(t){if(t&&"phone"===t.providerId&&(t.verificationId&&t.verificationCode||t.temporaryProof&&t.phoneNumber)){var e={};return W(["verificationId","verificationCode","temporaryProof","phoneNumber"],(function(n){t[n]&&(e[n]=t[n])})),new No(e)}return null}function Ro(t){return t.a.La&&t.a.ea?{temporaryProof:t.a.La,phoneNumber:t.a.ea}:{sessionInfo:t.a.eb,code:t.a.cb}}function jo(t){try{this.a=t||e.a.auth()}catch(t){throw new S("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}Xi(this,{providerId:"phone",isOAuthProvider:!1})}function Bo(t,e){if(!t)throw new S("missing-verification-id");if(!e)throw new S("missing-verification-code");return new No({eb:t,cb:e})}function Fo(t){if(t.temporaryProof&&t.phoneNumber)return new No({La:t.temporaryProof,ea:t.phoneNumber});var e=t&&t.providerId;if(!e||"password"===e)return null;var n=t&&t.oauthAccessToken,i=t&&t.oauthTokenSecret,r=t&&t.nonce,o=t&&t.oauthIdToken,s=t&&t.pendingToken;try{switch(e){case"google.com":return Oo(o,n);case"facebook.com":return Eo(n);case"github.com":return Io(n);case"twitter.com":return Co(n,i);default:return n||i||o||s?s?0==e.indexOf("saml.")?new ho(e,s):new vo(e,{pendingToken:s,idToken:t.oauthIdToken,accessToken:t.oauthAccessToken},e):new wo(e).credential({idToken:o,accessToken:n,rawNonce:r}):null}}catch(t){return null}}function Vo(t){if(!t.isOAuthProvider)throw new S("invalid-oauth-provider")}function qo(t,e,n,i,r,o,s){if(this.c=t,this.b=e||null,this.g=n||null,this.f=i||null,this.i=o||null,this.h=s||null,this.a=r||null,!this.g&&!this.a)throw new S("invalid-auth-event");if(this.g&&this.a)throw new S("invalid-auth-event");if(this.g&&!this.f)throw new S("invalid-auth-event")}function Uo(t){return(t=t||{}).type?new qo(t.type,t.eventId,t.urlResponse,t.sessionId,t.error&&C(t.error),t.postBody,t.tenantId):null}function Ho(){this.b=null,this.a=[]}so.prototype.Ha=function(){return this.a?xe(this.a):xe(this.b)},so.prototype.w=function(){return this.type==ao?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}},co.prototype.ka=function(){},co.prototype.b=function(){},co.prototype.c=function(){},co.prototype.w=function(){},ho.prototype.ka=function(t){return wa(t,fo(this))},ho.prototype.b=function(t,e){var n=fo(this);return n.idToken=e,_a(t,n)},ho.prototype.c=function(t,e){return lo(Ea(t,fo(this)),e)},ho.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}},vo.prototype.ka=function(t){return wa(t,go(this))},vo.prototype.b=function(t,e){var n=go(this);return n.idToken=e,_a(t,n)},vo.prototype.c=function(t,e){return lo(Ea(t,go(this)),e)},vo.prototype.w=function(){var t={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(t.oauthIdToken=this.idToken),this.accessToken&&(t.oauthAccessToken=this.accessToken),this.secret&&(t.oauthTokenSecret=this.secret),this.nonce&&(t.nonce=this.nonce),this.a&&(t.pendingToken=this.a),t},yo.prototype.Ka=function(t){return this.Ib=gt(t),this},T(bo,yo),T(wo,yo),wo.prototype.Ca=function(t){return Q(this.a,t)||this.a.push(t),this},wo.prototype.Qb=function(){return Z(this.a)},wo.prototype.credential=function(t,e){var n;if(!(n=g(t)?{idToken:t.idToken||null,accessToken:t.accessToken||null,nonce:t.rawNonce||null}:{idToken:t||null,accessToken:e||null}).idToken&&!n.accessToken)throw new S("argument-error","credential failed: must provide the ID token and/or the access token.");return new vo(this.providerId,n,this.providerId)},T(_o,wo),Yi(_o,"PROVIDER_ID","facebook.com"),Yi(_o,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),T(ko,wo),Yi(ko,"PROVIDER_ID","github.com"),Yi(ko,"GITHUB_SIGN_IN_METHOD","github.com"),T(To,wo),Yi(To,"PROVIDER_ID","google.com"),Yi(To,"GOOGLE_SIGN_IN_METHOD","google.com"),T(So,yo),Yi(So,"PROVIDER_ID","twitter.com"),Yi(So,"TWITTER_SIGN_IN_METHOD","twitter.com"),Ao.prototype.ka=function(t){return this.signInMethod==Do.EMAIL_LINK_SIGN_IN_METHOD?iu(t,xa,{email:this.a,oobCode:this.f}):iu(t,Ja,{email:this.a,password:this.f})},Ao.prototype.b=function(t,e){return this.signInMethod==Do.EMAIL_LINK_SIGN_IN_METHOD?iu(t,Da,{idToken:e,email:this.a,oobCode:this.f}):iu(t,$a,{idToken:e,email:this.a,password:this.f})},Ao.prototype.c=function(t,e){return lo(this.ka(t),e)},Ao.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}},Xi(Do,{PROVIDER_ID:"password"}),Xi(Do,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),Xi(Do,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),No.prototype.ka=function(t){return t.fb(Ro(this))},No.prototype.b=function(t,e){var n=Ro(this);return n.idToken=e,iu(t,tu,n)},No.prototype.c=function(t,e){var n=Ro(this);return n.operation="REAUTH",lo(t=iu(t,eu,n),e)},No.prototype.w=function(){var t={providerId:"phone"};return this.a.eb&&(t.verificationId=this.a.eb),this.a.cb&&(t.verificationCode=this.a.cb),this.a.La&&(t.temporaryProof=this.a.La),this.a.ea&&(t.phoneNumber=this.a.ea),t},jo.prototype.fb=function(t,e){var n=this.a.a;return xe(e.verify()).then((function(i){if("string"!=typeof i)throw new S("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(e.type){case"recaptcha":var r=g(t)?t.session:null,o=g(t)?t.phoneNumber:t;return(r&&r.type==ao?r.Ha().then((function(t){return function(t,e){return iu(t,Ka,e).then((function(t){return t.phoneSessionInfo.sessionInfo}))}(n,{idToken:t,phoneEnrollmentInfo:{phoneNumber:o,recaptchaToken:i}})})):r&&r.type==uo?r.Ha().then((function(e){return function(t,e){return iu(t,za,e).then((function(t){return t.phoneResponseInfo.sessionInfo}))}(n,{mfaPendingCredential:e,mfaEnrollmentId:t.multiFactorHint&&t.multiFactorHint.uid||t.multiFactorUid,phoneSignInInfo:{recaptchaToken:i}})})):function(t,e){return iu(t,Ua,e)}(n,{phoneNumber:o,recaptchaToken:i})).then((function(t){return"function"==typeof e.reset&&e.reset(),t}),(function(t){throw"function"==typeof e.reset&&e.reset(),t}));default:throw new S("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}}))},Xi(jo,{PROVIDER_ID:"phone"}),Xi(jo,{PHONE_SIGN_IN_METHOD:"phone"}),qo.prototype.getUid=function(){var t=[];return t.push(this.c),this.b&&t.push(this.b),this.f&&t.push(this.f),this.h&&t.push(this.h),t.join("-")},qo.prototype.T=function(){return this.h},qo.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.w()}};var $o,Wo=null;function Ko(t){var e="unauthorized-domain",n=void 0,i=qn(t);t=i.a,"chrome-extension"==(i=i.c)?n=$t("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):"http"==i||"https"==i?n=$t("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):e="operation-not-supported-in-this-environment",S.call(this,e,n)}function zo(t,e,n){S.call(this,t,n),(t=e||{}).Jb&&Yi(this,"email",t.Jb),t.ea&&Yi(this,"phoneNumber",t.ea),t.credential&&Yi(this,"credential",t.credential),t.Zb&&Yi(this,"tenantId",t.Zb)}function Go(t){if(t.code){var e=t.code||"";0==e.indexOf(x)&&(e=e.substring(x.length));var n={credential:Fo(t),Zb:t.tenantId};if(t.email)n.Jb=t.email;else if(t.phoneNumber)n.ea=t.phoneNumber;else if(!n.credential)return new S(e,t.message||void 0);return new zo(e,n,t.message)}return null}function Qo(){}function Yo(t){return t.c||(t.c=t.b())}function Xo(){}function Jo(t){if(!t.f&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var e=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<e.length;n++){var i=e[n];try{return new ActiveXObject(i),t.f=i}catch(t){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return t.f}function Zo(){}function ts(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=E(this.qc,this),this.a.onerror=E(this.Sb,this),this.a.onprogress=E(this.rc,this),this.a.ontimeout=E(this.vc,this)}function es(t,e){t.readyState=e,t.onreadystatechange&&t.onreadystatechange()}function ns(t,e,n){this.reset(t,e,n,void 0,void 0)}T(Ko,S),T(zo,S),zo.prototype.w=function(){var t={code:this.code,message:this.message};this.email&&(t.email=this.email),this.phoneNumber&&(t.phoneNumber=this.phoneNumber),this.tenantId&&(t.tenantId=this.tenantId);var e=this.credential&&this.credential.w();return e&&yt(t,e),t},zo.prototype.toJSON=function(){return this.w()},Qo.prototype.c=null,T(Xo,Qo),Xo.prototype.a=function(){var t=Jo(this);return t?new ActiveXObject(t):new XMLHttpRequest},Xo.prototype.b=function(){var t={};return Jo(this)&&(t[0]=!0,t[1]=!0),t},$o=new Xo,T(Zo,Qo),Zo.prototype.a=function(){var t=new XMLHttpRequest;if("withCredentials"in t)return t;if("undefined"!=typeof XDomainRequest)return new ts;throw Error("Unsupported browser")},Zo.prototype.b=function(){return{}},(n=ts.prototype).open=function(t,e,n){if(null!=n&&!n)throw Error("Only async requests are supported.");this.a.open(t,e)},n.send=function(t){if(t){if("string"!=typeof t)throw Error("Only string data is supported");this.a.send(t)}else this.a.send()},n.abort=function(){this.a.abort()},n.setRequestHeader=function(){},n.getResponseHeader=function(t){return"content-type"==t.toLowerCase()?this.a.contentType:""},n.qc=function(){this.status=200,this.response=this.responseText=this.a.responseText,es(this,4)},n.Sb=function(){this.status=500,this.response=this.responseText="",es(this,4)},n.vc=function(){this.Sb()},n.rc=function(){this.status=200,es(this,1)},n.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},ns.prototype.a=null;function is(t){this.f=t,this.b=this.c=this.a=null}function rs(t,e){this.name=t,this.value=e}ns.prototype.reset=function(t,e,n,i,r){"number"==typeof r||0,i||I(),delete this.a},rs.prototype.toString=function(){return this.name};var os=new rs("SEVERE",1e3),ss=new rs("WARNING",900),as=new rs("CONFIG",700),us=new rs("FINE",500);is.prototype.log=function(t,e,n){if(t.value>=function t(e){return e.c?e.c:e.a?t(e.a):(j("Root logger has no level set."),null)}(this).value)for(v(e)&&(e=e()),t=new ns(t,String(e),this.f),n&&(t.a=n),n=this;n;)n=n.a};var cs={},ls=null;function hs(t){var e;if(ls||(ls=new is(""),cs[""]=ls,ls.c=as),!(e=cs[t])){e=new is(t);var n=t.lastIndexOf("."),i=t.substr(n+1);(n=hs(t.substr(0,n))).b||(n.b={}),n.b[i]=e,e.a=n,cs[t]=e}return e}function fs(t,e){t&&t.log(us,e,void 0)}function ds(t){this.f=t}function ps(t){kn.call(this),this.u=t,this.h=void 0,this.readyState=vs,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.l=new Headers,this.b=null,this.s="GET",this.f="",this.a=!1,this.i=hs("goog.net.FetchXmlHttp"),this.m=this.c=this.g=null}T(ds,Qo),ds.prototype.a=function(){return new ps(this.f)},ds.prototype.b=function(t){return function(){return t}}({}),T(ps,kn);var vs=0;function gs(t){t.c.read().then(t.pc.bind(t)).catch(t.Ua.bind(t))}function ms(t){t.readyState=4,t.g=null,t.c=null,t.m=null,ys(t)}function ys(t){t.onreadystatechange&&t.onreadystatechange.call(t)}function bs(t){kn.call(this),this.headers=new Dn,this.D=t||null,this.c=!1,this.C=this.a=null,this.h=this.R=this.l="",this.f=this.O=this.i=this.J=!1,this.g=0,this.s=null,this.m=ws,this.u=this.S=!1}(n=ps.prototype).open=function(t,e){if(this.readyState!=vs)throw this.abort(),Error("Error reopening a connection");this.s=t,this.f=e,this.readyState=1,ys(this)},n.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var e={headers:this.l,method:this.s,credentials:this.h,cache:void 0};t&&(e.body=t),this.u.fetch(new Request(this.f,e)).then(this.uc.bind(this),this.Ua.bind(this))},n.abort=function(){this.response=this.responseText="",this.l=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,ms(this)),this.readyState=vs},n.uc=function(t){this.a&&(this.g=t,this.b||(this.status=this.g.status,this.statusText=this.g.statusText,this.b=t.headers,this.readyState=2,ys(this)),this.a&&(this.readyState=3,ys(this),this.a&&("arraybuffer"===this.responseType?t.arrayBuffer().then(this.sc.bind(this),this.Ua.bind(this)):void 0!==u.ReadableStream&&"body"in t?(this.response=this.responseText="",this.c=t.body.getReader(),this.m=new TextDecoder,gs(this)):t.text().then(this.tc.bind(this),this.Ua.bind(this)))))},n.pc=function(t){if(this.a){var e=this.m.decode(t.value?t.value:new Uint8Array(0),{stream:!t.done});e&&(this.response=this.responseText+=e),t.done?ms(this):ys(this),3==this.readyState&&gs(this)}},n.tc=function(t){this.a&&(this.response=this.responseText=t,ms(this))},n.sc=function(t){this.a&&(this.response=t,ms(this))},n.Ua=function(t){var e=this.i;e&&e.log(ss,"Failed to fetch url "+this.f,t instanceof Error?t:Error(t)),this.a&&ms(this)},n.setRequestHeader=function(t,e){this.l.append(t,e)},n.getResponseHeader=function(t){return this.b?this.b.get(t.toLowerCase())||"":((t=this.i)&&t.log(ss,"Attempting to get response header but no headers have been received for url: "+this.f,void 0),"")},n.getAllResponseHeaders=function(){if(!this.b){var t=this.i;return t&&t.log(ss,"Attempting to get all response headers but no headers have been received for url: "+this.f,void 0),""}t=[];for(var e=this.b.entries(),n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(ps.prototype,"withCredentials",{get:function(){return"include"===this.h},set:function(t){this.h=t?"include":"same-origin"}}),T(bs,kn);var ws="";bs.prototype.b=hs("goog.net.XhrIo");var _s=/^https?$/i,Es=["POST","PUT"];function ks(t,e,n,i,r){if(t.a)throw Error("[goog.net.XhrIo] Object is active with another request="+t.l+"; newUri="+e);n=n?n.toUpperCase():"GET",t.l=e,t.h="",t.R=n,t.J=!1,t.c=!0,t.a=t.D?t.D.a():$o.a(),t.C=t.D?Yo(t.D):Yo($o),t.a.onreadystatechange=E(t.Vb,t);try{fs(t.b,Ms(t,"Opening Xhr")),t.O=!0,t.a.open(n,String(e),!0),t.O=!1}catch(e){return fs(t.b,Ms(t,"Error opening Xhr: "+e.message)),void Ts(t,e)}e=i||"";var o=new Dn(t.headers);r&&function(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(p(t)||"string"==typeof t)W(t,e,void 0);else for(var n=xn(t),i=An(t),r=i.length,o=0;o<r;o++)e.call(void 0,i[o],n&&n[o],t)}(r,(function(t,e){o.set(e,t)})),r=function(t){t:{for(var e=Is,n=t.length,i="string"==typeof t?t.split(""):t,r=0;r<n;r++)if(r in i&&e.call(void 0,i[r],r,t)){e=r;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(o.Y()),i=u.FormData&&e instanceof u.FormData,!Q(Es,n)||r||i||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach((function(t,e){this.a.setRequestHeader(e,t)}),t),t.m&&(t.a.responseType=t.m),"withCredentials"in t.a&&t.a.withCredentials!==t.S&&(t.a.withCredentials=t.S);try{As(t),0<t.g&&(t.u=function(t){return Yt&&ae(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(t.a),fs(t.b,Ms(t,"Will abort after "+t.g+"ms if incomplete, xhr2 "+t.u)),t.u?(t.a.timeout=t.g,t.a.ontimeout=E(t.Ma,t)):t.s=Sn(t.Ma,t.g,t)),fs(t.b,Ms(t,"Sending request")),t.i=!0,t.a.send(e),t.i=!1}catch(e){fs(t.b,Ms(t,"Send error: "+e.message)),Ts(t,e)}}function Is(t){return"content-type"==t.toLowerCase()}function Ts(t,e){t.c=!1,t.a&&(t.f=!0,t.a.abort(),t.f=!1),t.h=e,Os(t),Cs(t)}function Os(t){t.J||(t.J=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}function Ss(t){if(t.c&&void 0!==a)if(t.C[1]&&4==xs(t)&&2==Ds(t))fs(t.b,Ms(t,"Local request error detected and ignored"));else if(t.i&&4==xs(t))Sn(t.Vb,0,t);else if(t.dispatchEvent("readystatechange"),4==xs(t)){fs(t.b,Ms(t,"Request complete")),t.c=!1;try{var e,n=Ds(t);t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var i=!0;break t;default:i=!1}if(!(e=i)){var r;if(r=0===n){var o=String(t.l).match(Nn)[1]||null;if(!o&&u.self&&u.self.location){var s=u.self.location.protocol;o=s.substr(0,s.length-1)}r=!_s.test(o?o.toLowerCase():"")}e=r}if(e)t.dispatchEvent("complete"),t.dispatchEvent("success");else{try{var c=2<xs(t)?t.a.statusText:""}catch(e){fs(t.b,"Can not get status: "+e.message),c=""}t.h=c+" ["+Ds(t)+"]",Os(t)}}finally{Cs(t)}}}function Cs(t,e){if(t.a){As(t);var n=t.a,i=t.C[0]?f:null;t.a=null,t.C=null,e||t.dispatchEvent("ready");try{n.onreadystatechange=i}catch(e){(t=t.b)&&t.log(os,"Problem encountered resetting onreadystatechange: "+e.message,void 0)}}}function As(t){t.a&&t.u&&(t.a.ontimeout=null),t.s&&(u.clearTimeout(t.s),t.s=null)}function xs(t){return t.a?t.a.readyState:0}function Ds(t){try{return 2<xs(t)?t.a.status:-1}catch(t){return-1}}function Ms(t,e){return e+" ["+t.R+" "+t.l+" "+Ds(t)+"]"}function Ls(t){var e=$s;this.g=[],this.u=e,this.s=t||null,this.f=this.a=!1,this.c=void 0,this.v=this.C=this.i=!1,this.h=0,this.b=null,this.l=0}function Ns(t,e,n){t.a=!0,t.c=n,t.f=!e,Bs(t)}function Ps(t){if(t.a){if(!t.v)throw new Fs(t);t.v=!1}}function Rs(t,e,n,i){t.g.push([e,n,i]),t.a&&Bs(t)}function js(t){return G(t.g,(function(t){return v(t[1])}))}function Bs(t){if(t.h&&t.a&&js(t)){var e=t.h,n=Us[e];n&&(u.clearTimeout(n.a),delete Us[e]),t.h=0}t.b&&(t.b.l--,delete t.b),e=t.c;for(var i=n=!1;t.g.length&&!t.i;){var r=t.g.shift(),o=r[0],s=r[1];if(r=r[2],o=t.f?s:o)try{var a=o.call(r||t.s,e);void 0!==a&&(t.f=t.f&&(a==e||a instanceof Error),t.c=e=a),(N(e)||"function"==typeof u.Promise&&e instanceof u.Promise)&&(i=!0,t.i=!0)}catch(i){e=i,t.f=!0,js(t)||(n=!0)}}t.c=e,i&&(a=E(t.m,t,!0),i=E(t.m,t,!1),e instanceof Ls?(Rs(e,a,i),e.C=!0):e.then(a,i)),n&&(e=new qs(e),Us[e.a]=e,t.h=e.a)}function Fs(){P.call(this)}function Vs(){P.call(this)}function qs(t){this.a=u.setTimeout(E(this.c,this),0),this.b=t}(n=bs.prototype).Ma=function(){void 0!==a&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",fs(this.b,Ms(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))},n.abort=function(){this.a&&this.c&&(fs(this.b,Ms(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Cs(this))},n.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),Cs(this,!0)),bs.ab.Da.call(this)},n.Vb=function(){this.xa||(this.O||this.i||this.f?Ss(this):this.Jc())},n.Jc=function(){Ss(this)},n.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case ws:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var t=this.b;return t&&t.log(os,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(t){return fs(this.b,"Can not get response: "+t.message),null}},Ls.prototype.cancel=function(t){if(this.a)this.c instanceof Ls&&this.c.cancel();else{if(this.b){var e=this.b;delete this.b,t?e.cancel(t):(e.l--,0>=e.l&&e.cancel())}this.u?this.u.call(this.s,this):this.v=!0,this.a||(t=new Vs(this),Ps(this),Ns(this,!1,t))}},Ls.prototype.m=function(t,e){this.i=!1,Ns(this,t,e)},Ls.prototype.then=function(t,e,n){var i,r,o=new ke((function(t,e){i=t,r=e}));return Rs(this,i,(function(t){t instanceof Vs?o.cancel():r(t)})),o.then(t,e,n)},Ls.prototype.$goog_Thenable=!0,T(Fs,P),Fs.prototype.message="Deferred has already fired",Fs.prototype.name="AlreadyCalledError",T(Vs,P),Vs.prototype.message="Deferred was canceled",Vs.prototype.name="CanceledError",qs.prototype.c=function(){throw delete Us[this.a],this.b};var Us={};function Hs(t){var e={},n=e.document||document,i=St(t).toString(),r=me(document,"SCRIPT"),o={Wb:r,Ma:void 0},s=new Ls(o),a=null,c=null!=e.timeout?e.timeout:5e3;return 0<c&&(a=window.setTimeout((function(){Ws(r,!0);var t=new Gs(zs,"Timeout reached for loading script "+i);Ps(s),Ns(s,!1,t)}),c),o.Ma=a),r.onload=r.onreadystatechange=function(){r.readyState&&"loaded"!=r.readyState&&"complete"!=r.readyState||(Ws(r,e.xd||!1,a),Ps(s),Ns(s,!0,null))},r.onerror=function(){Ws(r,!0,a);var t=new Gs(Ks,"Error while loading script "+i);Ps(s),Ns(s,!1,t)},yt(o=e.attributes||{},{type:"text/javascript",charset:"UTF-8"}),fe(r,o),function(t,e){bt(t,"HTMLScriptElement"),t.src=St(e),(e=t.ownerDocument&&t.ownerDocument.defaultView)&&e!=u?e=h(e.document):(null===l&&(l=h(u.document)),e=l),e&&t.setAttribute("nonce",e)}(r,t),function(t){var e;return(e=(t||document).getElementsByTagName("HEAD"))&&0!=e.length?e[0]:t.documentElement}(n).appendChild(r),s}function $s(){if(this&&this.Wb){var t=this.Wb;t&&"SCRIPT"==t.tagName&&Ws(t,!0,this.Ma)}}function Ws(t,e,n){null!=n&&u.clearTimeout(n),t.onload=f,t.onerror=f,t.onreadystatechange=f,e&&window.setTimeout((function(){t&&t.parentNode&&t.parentNode.removeChild(t)}),0)}var Ks=0,zs=1;function Gs(t,e){var n="Jsloader error (code #"+t+")";e&&(n+=": "+e),P.call(this,n),this.code=t}function Qs(t){this.f=t}function Ys(t,n,i){if(this.c=t,t=n||{},this.l=t.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=t.secureTokenTimeout||Zs,this.g=gt(t.secureTokenHeaders||ta),this.h=t.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=t.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.v=t.firebaseTimeout||ea,this.a=gt(t.firebaseHeaders||na),i&&(this.a["X-Client-Version"]=i,this.g["X-Client-Version"]=i),i="Node"==Ei(),!(i=u.XMLHttpRequest||i&&e.a.INTERNAL.node&&e.a.INTERNAL.node.XMLHttpRequest)&&!_i())throw new S("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,_i()?this.f=new ds(self):ki()?this.f=new Qs(i):this.f=new Zo,this.b=null}T(Gs,P),T(Qs,Qo),Qs.prototype.a=function(){return new this.f},Qs.prototype.b=function(){return{}};var Xs,Js="idToken",Zs=new Ui(3e4,6e4),ta={"Content-Type":"application/x-www-form-urlencoded"},ea=new Ui(3e4,6e4),na={"Content-Type":"application/json"};function ia(t,e){e?t.a["X-Firebase-Locale"]=e:delete t.a["X-Firebase-Locale"]}function ra(t,e){e&&(t.l=oa("https://securetoken.googleapis.com/v1/token",e),t.h=oa("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",e),t.i=oa("https://identitytoolkit.googleapis.com/v2/",e))}function oa(t,e){return t=qn(t),e=qn(e.url),t.f=t.a+t.f,Rn(t,e.c),t.a=e.a,jn(t,e.g),t.toString()}function sa(t,e){e?(t.a["X-Client-Version"]=e,t.g["X-Client-Version"]=e):(delete t.a["X-Client-Version"],delete t.g["X-Client-Version"])}function aa(t,e,n,i,r,o,s){(function(){var t=Ai();return!((t=Oi(t)!=Ti?null:(t=t.match(/\sChrome\/(\d+)/i))&&2==t.length?parseInt(t[1],10):null)&&30>t)&&(!Yt||!ce||9<ce)})()||_i()?t=E(t.u,t):(Xs||(Xs=new ke((function(t,e){!function(t,e){if(((window.gapi||{}).client||{}).request)t();else{u[ca]=function(){((window.gapi||{}).client||{}).request?t():e(Error("CORS_UNSUPPORTED"))},function(t,e){Rs(t,null,e,void 0)}(Hs(Ct(ua,{onload:ca})),(function(){e(Error("CORS_UNSUPPORTED"))}))}}(t,e)}))),t=E(t.s,t)),t(e,n,i,r,o,s)}Ys.prototype.T=function(){return this.b},Ys.prototype.u=function(t,e,n,i,r,o){if(_i()&&(void 0===u.fetch||void 0===u.Headers||void 0===u.Request))throw new S("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var s=new bs(this.f);if(o){s.g=Math.max(0,o);var a=setTimeout((function(){s.dispatchEvent("timeout")}),o)}In(s,"complete",(function(){a&&clearTimeout(a);var t=null;try{t=JSON.parse(function(t){try{return t.a?t.a.responseText:""}catch(e){return fs(t.b,"Can not get responseText: "+e.message),""}}(this))||null}catch(e){t=null}e&&e(t)})),Tn(s,"ready",(function(){a&&clearTimeout(a),ze(this)})),Tn(s,"timeout",(function(){a&&clearTimeout(a),ze(this),e&&e(null)})),ks(s,t,n,i,r)};var ua=new wt(It,"https://apis.google.com/js/client.js?onload=%{onload}"),ca="__fcb"+Math.floor(1e6*Math.random()).toString();function la(t,e,n,i,r,o,s){var a=qn(e+n);Fn(a,"key",t.c),s&&Fn(a,"cb",I().toString());var u="GET"==i;if(u)for(var c in r)r.hasOwnProperty(c)&&Fn(a,c,r[c]);return new ke((function(e,n){aa(t,a.toString(),(function(t){t?t.error?n(ou(t,o||{})):e(t):n(new S("network-request-failed"))}),i,u?void 0:oi(ji(r)),t.a,t.v.get())}))}function ha(t){if("string"!=typeof(t=t.email)||!mi.test(t))throw new S("invalid-email")}function fa(t){"email"in t&&ha(t)}function da(t){if(!t[Js]){if(t.mfaPendingCredential)throw new S("multi-factor-auth-required",null,gt(t));throw new S("internal-error")}}function pa(t){if(t.phoneNumber||t.temporaryProof){if(!t.phoneNumber||!t.temporaryProof)throw new S("internal-error")}else{if(!t.sessionInfo)throw new S("missing-verification-id");if(!t.code)throw new S("missing-verification-code")}}Ys.prototype.s=function(t,e,n,i,r){var o=this;Xs.then((function(){window.gapi.client.setApiKey(o.c);var s=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:t,method:n,body:i,headers:r,authType:"none",callback:function(t){window.gapi.auth.setToken(s),e&&e(t)}})})).o((function(t){e&&e({error:{message:t&&t.message||"CORS_UNSUPPORTED"}})}))},Ys.prototype.zb=function(){return iu(this,Wa,{})},Ys.prototype.Bb=function(t,e){return iu(this,Ha,{idToken:t,email:e})},Ys.prototype.Cb=function(t,e){return iu(this,$a,{idToken:t,password:e})};var va={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};function ga(t){if(!t.phoneVerificationInfo)throw new S("internal-error");if(!t.phoneVerificationInfo.sessionInfo)throw new S("missing-verification-id");if(!t.phoneVerificationInfo.code)throw new S("missing-verification-code")}function ma(t){if(!t.requestUri||!t.sessionId&&!t.postBody&&!t.pendingToken)throw new S("internal-error")}function ya(t,e){return e.oauthIdToken&&e.providerId&&0==e.providerId.indexOf("oidc.")&&!e.pendingToken&&(t.sessionId?e.nonce=t.sessionId:t.postBody&&(ei(t=new Xn(t.postBody),"nonce")&&(e.nonce=t.get("nonce")))),e}function ba(t){var e=null;if(t.needConfirmation?(t.code="account-exists-with-different-credential",e=Go(t)):"FEDERATED_USER_ID_ALREADY_LINKED"==t.errorMessage?(t.code="credential-already-in-use",e=Go(t)):"EMAIL_EXISTS"==t.errorMessage?(t.code="email-already-in-use",e=Go(t)):t.errorMessage&&(e=ru(t.errorMessage)),e)throw e;da(t)}function wa(t,e){return e.returnIdpCredential=!0,iu(t,Ga,e)}function _a(t,e){return e.returnIdpCredential=!0,iu(t,Ya,e)}function Ea(t,e){return e.returnIdpCredential=!0,e.autoCreate=!1,iu(t,Qa,e)}function ka(t){if(!t.oobCode)throw new S("invalid-action-code")}(n=Ys.prototype).Db=function(t,e){var n={idToken:t},i=[];return pt(va,(function(t,r){var o=e[r];null===o?i.push(t):r in e&&(n[r]=o)})),i.length&&(n.deleteAttribute=i),iu(this,Ha,n)},n.vb=function(t,e){return yt(t={requestType:"PASSWORD_RESET",email:t},e),iu(this,Ba,t)},n.wb=function(t,e){return yt(t={requestType:"EMAIL_SIGNIN",email:t},e),iu(this,Pa,t)},n.ub=function(t,e){return yt(t={requestType:"VERIFY_EMAIL",idToken:t},e),iu(this,Ra,t)},n.Eb=function(t,e,n){return yt(t={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:t,newEmail:e},n),iu(this,ja,t)},n.fb=function(t){return iu(this,Za,t)},n.nb=function(t,e){return iu(this,qa,{oobCode:t,newPassword:e})},n.Ra=function(t){return iu(this,Ta,{oobCode:t})},n.jb=function(t){return iu(this,Ia,{oobCode:t})};var Ia={endpoint:"setAccountInfo",A:ka,Z:"email",B:!0},Ta={endpoint:"resetPassword",A:ka,G:function(t){var e=t.requestType;if(!e||!t.email&&"EMAIL_SIGNIN"!=e&&"VERIFY_AND_CHANGE_EMAIL"!=e)throw new S("internal-error")},B:!0},Oa={endpoint:"signupNewUser",A:function(t){if(ha(t),!t.password)throw new S("weak-password")},G:da,V:!0,B:!0},Sa={endpoint:"createAuthUri",B:!0},Ca={endpoint:"deleteAccount",N:["idToken"]},Aa={endpoint:"setAccountInfo",N:["idToken","deleteProvider"],A:function(t){if(!Array.isArray(t.deleteProvider))throw new S("internal-error")}},xa={endpoint:"emailLinkSignin",N:["email","oobCode"],A:ha,G:da,V:!0,B:!0},Da={endpoint:"emailLinkSignin",N:["idToken","email","oobCode"],A:ha,G:da,V:!0},Ma={endpoint:"accounts/mfaEnrollment:finalize",N:["idToken","phoneVerificationInfo"],A:ga,G:da,B:!0,Na:!0},La={endpoint:"accounts/mfaSignIn:finalize",N:["mfaPendingCredential","phoneVerificationInfo"],A:ga,G:da,B:!0,Na:!0},Na={endpoint:"getAccountInfo"},Pa={endpoint:"getOobConfirmationCode",N:["requestType"],A:function(t){if("EMAIL_SIGNIN"!=t.requestType)throw new S("internal-error");ha(t)},Z:"email",B:!0},Ra={endpoint:"getOobConfirmationCode",N:["idToken","requestType"],A:function(t){if("VERIFY_EMAIL"!=t.requestType)throw new S("internal-error")},Z:"email",B:!0},ja={endpoint:"getOobConfirmationCode",N:["idToken","newEmail","requestType"],A:function(t){if("VERIFY_AND_CHANGE_EMAIL"!=t.requestType)throw new S("internal-error")},Z:"email",B:!0},Ba={endpoint:"getOobConfirmationCode",N:["requestType"],A:function(t){if("PASSWORD_RESET"!=t.requestType)throw new S("internal-error");ha(t)},Z:"email",B:!0},Fa={lb:!0,endpoint:"getProjectConfig",Ub:"GET"},Va={lb:!0,endpoint:"getRecaptchaParam",Ub:"GET",G:function(t){if(!t.recaptchaSiteKey)throw new S("internal-error")}},qa={endpoint:"resetPassword",A:ka,Z:"email",B:!0},Ua={endpoint:"sendVerificationCode",N:["phoneNumber","recaptchaToken"],Z:"sessionInfo",B:!0},Ha={endpoint:"setAccountInfo",N:["idToken"],A:fa,V:!0},$a={endpoint:"setAccountInfo",N:["idToken"],A:function(t){if(fa(t),!t.password)throw new S("weak-password")},G:da,V:!0},Wa={endpoint:"signupNewUser",G:da,V:!0,B:!0},Ka={endpoint:"accounts/mfaEnrollment:start",N:["idToken","phoneEnrollmentInfo"],A:function(t){if(!t.phoneEnrollmentInfo)throw new S("internal-error");if(!t.phoneEnrollmentInfo.phoneNumber)throw new S("missing-phone-number");if(!t.phoneEnrollmentInfo.recaptchaToken)throw new S("missing-app-credential")},G:function(t){if(!t.phoneSessionInfo||!t.phoneSessionInfo.sessionInfo)throw new S("internal-error")},B:!0,Na:!0},za={endpoint:"accounts/mfaSignIn:start",N:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],A:function(t){if(!t.phoneSignInInfo||!t.phoneSignInInfo.recaptchaToken)throw new S("missing-app-credential")},G:function(t){if(!t.phoneResponseInfo||!t.phoneResponseInfo.sessionInfo)throw new S("internal-error")},B:!0,Na:!0},Ga={endpoint:"verifyAssertion",A:ma,Ya:ya,G:ba,V:!0,B:!0},Qa={endpoint:"verifyAssertion",A:ma,Ya:ya,G:function(t){if(t.errorMessage&&"USER_NOT_FOUND"==t.errorMessage)throw new S("user-not-found");if(t.errorMessage)throw ru(t.errorMessage);da(t)},V:!0,B:!0},Ya={endpoint:"verifyAssertion",A:function(t){if(ma(t),!t.idToken)throw new S("internal-error")},Ya:ya,G:ba,V:!0},Xa={endpoint:"verifyCustomToken",A:function(t){if(!t.token)throw new S("invalid-custom-token")},G:da,V:!0,B:!0},Ja={endpoint:"verifyPassword",A:function(t){if(ha(t),!t.password)throw new S("wrong-password")},G:da,V:!0,B:!0},Za={endpoint:"verifyPhoneNumber",A:pa,G:da,B:!0},tu={endpoint:"verifyPhoneNumber",A:function(t){if(!t.idToken)throw new S("internal-error");pa(t)},G:function(t){if(t.temporaryProof)throw t.code="credential-already-in-use",Go(t);da(t)}},eu={Hb:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:pa,G:da,B:!0},nu={endpoint:"accounts/mfaEnrollment:withdraw",N:["idToken","mfaEnrollmentId"],G:function(t){if(!!t[Js]^!!t.refreshToken)throw new S("internal-error")},B:!0,Na:!0};function iu(t,e,n){if(!function(t,e){if(!e||!e.length)return!0;if(!t)return!1;for(var n=0;n<e.length;n++){var i=t[e[n]];if(null==i||""===i)return!1}return!0}(n,e.N))return De(new S("internal-error"));var i,r=!!e.Na,o=e.Ub||"POST";return xe(n).then(e.A).then((function(){return e.V&&(n.returnSecureToken=!0),e.B&&t.b&&void 0===n.tenantId&&(n.tenantId=t.b),la(t,r?t.i:t.h,e.endpoint,o,n,e.Hb,e.lb||!1)})).then((function(t){return i=t,e.Ya?e.Ya(n,i):i})).then(e.G).then((function(){if(!e.Z)return i;if(!(e.Z in i))throw new S("internal-error");return i[e.Z]}))}function ru(t){return ou({error:{errors:[{message:t}],code:400,message:t}})}function ou(t,e){var n=(t.error&&t.error.errors&&t.error.errors[0]||{}).reason||"",i={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(n=i[n]?new S(i[n]):null)return n;for(var r in n=t.error&&t.error.message||"",yt(i={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},e||{}),e=(e=n.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<e.length?e[1]:void 0,i)if(0===n.indexOf(r))return new S(i[r],e);return!e&&t&&(e=Ri(t)),new S("internal-error",e)}function su(t){this.b=t,this.a=null,this.rb=function(t){return(lu||(lu=new ke((function(t,e){function n(){qi(),xi("gapi.load")("gapi.iframes",{callback:t,ontimeout:function(){qi(),e(Error("Network Error"))},timeout:uu.get()})}if(xi("gapi.iframes.Iframe"))t();else if(xi("gapi.load"))n();else{var i="__iframefcb"+Math.floor(1e6*Math.random()).toString();u[i]=function(){xi("gapi.load")?n():e(Error("Network Error"))},xe(Hs(i=Ct(au,{onload:i}))).o((function(){e(Error("Network Error"))}))}})).o((function(t){throw lu=null,t})))).then((function(){return new ke((function(e,n){xi("gapi.iframes.getContext")().open({where:document.body,url:t.b,messageHandlersFilter:xi("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},(function(i){function r(){clearTimeout(o),e()}t.a=i,t.a.restyle({setHideOnLeave:!1});var o=setTimeout((function(){n(Error("Network Error"))}),cu.get());i.ping(r).then(r,(function(){n(Error("Network Error"))}))}))}))}))}(this)}var au=new wt(It,"https://apis.google.com/js/api.js?onload=%{onload}"),uu=new Ui(3e4,6e4),cu=new Ui(5e3,15e3),lu=null;function hu(t,e,n,i){this.l=t,this.h=e,this.i=n,this.g=i,this.f=null,this.g?t=Un((t=qn(this.g.url)).c,t.a,t.g,"/emulator/auth/iframe"):t=Un("https",this.l,null,"/__/auth/iframe"),this.a=t,Fn(this.a,"apiKey",this.h),Fn(this.a,"appName",this.i),this.b=null,this.c=[]}function fu(t,e,n,i,r,o){this.u=t,this.s=e,this.c=n,this.m=i,this.v=o,this.i=this.g=this.l=null,this.a=r,this.h=this.f=null}function du(t){try{return e.a.app(t).auth().Ga()}catch(t){return[]}}function pu(t,e,n,i,r,o){this.s=t,this.g=e,this.b=n,this.f=o,this.c=i||null,this.i=r||null,this.l=this.u=this.C=null,this.h=[],this.m=this.a=null}function vu(t){var e=hi();return function(t){return iu(t,Fa,{}).then((function(t){return t.authorizedDomains||[]}))}(t).then((function(t){t:{var n=qn(e),i=n.c;n=n.a;for(var r=0;r<t.length;r++){var o=t[r],s=n,a=i;if(0==o.indexOf("chrome-extension://")?s=qn(o).a==s&&"chrome-extension"==a:"http"!=a&&"https"!=a?s=!1:gi.test(o)?s=s==o:(o=o.split(".").join("\\."),s=new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)),s){t=!0;break t}}t=!1}if(!t)throw new Ko(hi())}))}function gu(t){return t.m||(t.m=yi().then((function(){if(!t.u){var e=t.c,n=t.i,i=du(t.b),r=new hu(t.s,t.g,t.b,t.f);r.f=e,r.b=n,r.c=Z(i||[]),t.u=r.toString()}t.v=new su(t.u),function(t){if(!t.v)throw Error("IfcHandler must be initialized!");!function(t,e){t.rb.then((function(){t.a.register("authEvent",e,xi("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}(t.v,(function(e){var n={};if(e&&e.authEvent){var i=!1;for(e=Uo(e.authEvent),n=0;n<t.h.length;n++)i=t.h[n](e)||i;return(n={}).status=i?"ACK":"ERROR",xe(n)}return n.status="ERROR",xe(n)}))}(t)}))),t.m}function mu(t){return t.l||(t.C=t.c?Ci(t.c,du(t.b)):null,t.l=new Ys(t.g,L(t.i),t.C),t.f&&ra(t.l,t.f)),t.l}function yu(t,e,n,i,r,o,s,a,u,c,l,h){return(t=new fu(t,e,n,i,r,h)).l=o,t.g=s,t.i=a,t.b=gt(u||null),t.f=c,t.yb(l).toString()}function bu(t){if(this.a=t||e.a.INTERNAL.reactNative&&e.a.INTERNAL.reactNative.AsyncStorage,!this.a)throw new S("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function wu(t){this.b=t,this.a={},this.f=E(this.c,this)}hu.prototype.toString=function(){return this.f?Fn(this.a,"v",this.f):ti(this.a.b,"v"),this.b?Fn(this.a,"eid",this.b):ti(this.a.b,"eid"),this.c.length?Fn(this.a,"fw",this.c.join(",")):ti(this.a.b,"fw"),this.a.toString()},fu.prototype.yb=function(t){return this.h=t,this},fu.prototype.toString=function(){if(this.v){var t=qn(this.v.url);t=Un(t.c,t.a,t.g,"/emulator/auth/handler")}else t=Un("https",this.u,null,"/__/auth/handler");if(Fn(t,"apiKey",this.s),Fn(t,"appName",this.c),Fn(t,"authType",this.m),this.a.isOAuthProvider){var n=this.a;try{var i=e.a.app(this.c).auth().la()}catch(t){i=null}for(var r in n.ob=i,Fn(t,"providerId",this.a.providerId),n=ji((i=this.a).Ib))n[r]=n[r].toString();r=i.Qc,n=gt(n);for(var o=0;o<r.length;o++){var s=r[o];s in n&&delete n[s]}i.pb&&i.ob&&!n[i.pb]&&(n[i.pb]=i.ob),vt(n)||Fn(t,"customParameters",Ri(n))}if("function"==typeof this.a.Qb&&((i=this.a.Qb()).length&&Fn(t,"scopes",i.join(","))),this.l?Fn(t,"redirectUrl",this.l):ti(t.b,"redirectUrl"),this.g?Fn(t,"eventId",this.g):ti(t.b,"eventId"),this.i?Fn(t,"v",this.i):ti(t.b,"v"),this.b)for(var a in this.b)this.b.hasOwnProperty(a)&&!Vn(t,a)&&Fn(t,a,this.b[a]);return this.h?Fn(t,"tid",this.h):ti(t.b,"tid"),this.f?Fn(t,"eid",this.f):ti(t.b,"eid"),(a=du(this.c)).length&&Fn(t,"fw",a.join(",")),t.toString()},(n=pu.prototype).Ob=function(t,e,n){var i=new S("popup-closed-by-user"),r=new S("web-storage-unsupported"),o=this,s=!1;return this.ma().then((function(){(function(t){var e={type:"webStorageSupport"};return gu(t).then((function(){return function(t,e){return t.rb.then((function(){return new ke((function(n){t.a.send(e.type,e,n,xi("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}))}(t.v,e)})).then((function(t){if(t&&t.length&&void 0!==t[0].webStorageSupport)return t[0].webStorageSupport;throw Error()}))})(o).then((function(n){n||(t&&pi(t),e(r),s=!0)}))})).o((function(){})).then((function(){if(!s)return function(t){return new ke((function(e){return function n(){Cn(2e3).then((function(){if(t&&!t.closed)return n();e()}))}()}))}(t)})).then((function(){if(!s)return Cn(n).then((function(){e(i)}))}))},n.Xb=function(){var t=Ai();return!Pi(t)&&!Vi(t)},n.Tb=function(){return!1},n.Mb=function(t,e,n,i,r,o,s,a){if(!t)return De(new S("popup-blocked"));if(s&&!Pi())return this.ma().o((function(e){pi(t),r(e)})),i(),xe();this.a||(this.a=vu(mu(this)));var u=this;return this.a.then((function(){var e=u.ma().o((function(e){throw pi(t),r(e),e}));return i(),e})).then((function(){(Vo(n),s)||fi(yu(u.s,u.g,u.b,e,n,null,o,u.c,void 0,u.i,a,u.f),t)})).o((function(t){throw"auth/network-request-failed"==t.code&&(u.a=null),t}))},n.Nb=function(t,e,n,i){this.a||(this.a=vu(mu(this)));var r=this;return this.a.then((function(){Vo(e),fi(yu(r.s,r.g,r.b,t,e,hi(),n,r.c,void 0,r.i,i,r.f))})).o((function(t){throw"auth/network-request-failed"==t.code&&(r.a=null),t}))},n.ma=function(){var t=this;return gu(this).then((function(){return t.v.rb})).o((function(){throw t.a=null,new S("network-request-failed")}))},n.$b=function(){return!0},n.Ea=function(t){this.h.push(t)},n.Sa=function(t){X(this.h,(function(e){return e==t}))},(n=bu.prototype).get=function(t){return xe(this.a.getItem(t)).then((function(t){return t&&Bi(t)}))},n.set=function(t,e){return xe(this.a.setItem(t,Ri(e)))},n.U=function(t){return xe(this.a.removeItem(t))},n.ca=function(){},n.ia=function(){};var _u,Eu=[];function ku(t,e,n){vt(t.a)&&t.b.addEventListener("message",t.f),void 0===t.a[e]&&(t.a[e]=[]),t.a[e].push(n)}function Iu(t){this.a=t}function Tu(t){this.c=t,this.b=!1,this.a=[]}function Ou(t,e,n,i){var r,o,s,a,u=n||{},c=null;if(t.b)return De(Error("connection_unavailable"));var l=i?800:50,h="undefined"!=typeof MessageChannel?new MessageChannel:null;return new ke((function(n,i){h?(r=Math.floor(Math.random()*Math.pow(10,20)).toString(),h.port1.start(),s=setTimeout((function(){i(Error("unsupported_event"))}),l),c={messageChannel:h,onMessage:o=function(t){t.data.eventId===r&&("ack"===t.data.status?(clearTimeout(s),a=setTimeout((function(){i(Error("timeout"))}),3e3)):"done"===t.data.status?(clearTimeout(a),void 0!==t.data.response?n(t.data.response):i(Error("unknown_error"))):(clearTimeout(s),clearTimeout(a),i(Error("invalid_response"))))}},t.a.push(c),h.port1.addEventListener("message",o),t.c.postMessage({eventType:e,eventId:r,data:u},[h.port2])):i(Error("connection_unavailable"))})).then((function(e){return Su(t,c),e})).o((function(e){throw Su(t,c),e}))}function Su(t,e){if(e){var n=e.messageChannel,i=e.onMessage;n&&(n.port1.removeEventListener("message",i),n.port1.close()),X(t.a,(function(t){return t==e}))}}function Cu(){if(!Mu())throw new S("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.m=u.indexedDB,this.type="indexedDB",this.g=this.v=this.f=this.l=null,this.s=!1,this.h=null;var t=this;_i()&&self?(this.v=function(){var t=_i()?self:null;if(W(Eu,(function(n){n.b==t&&(e=n)})),!e){var e=new wu(t);Eu.push(e)}return e}(),ku(this.v,"keyChanged",(function(e,n){return ju(t).then((function(e){return 0<e.length&&W(t.a,(function(t){t(e)})),{keyProcessed:Q(e,n.key)}}))})),ku(this.v,"ping",(function(){return xe(["keyChanged"])}))):function(){var t=u.navigator;return t&&t.serviceWorker?xe().then((function(){return t.serviceWorker.ready})).then((function(t){return t.active||null})).o((function(){return null})):xe(null)}().then((function(e){(t.h=e)&&(t.g=new Tu(new Iu(e)),Ou(t.g,"ping",null,!0).then((function(e){e[0].fulfilled&&Q(e[0].value,"keyChanged")&&(t.s=!0)})).o((function(){})))}))}function Au(t){return new ke((function(e,n){var i=t.m.open("firebaseLocalStorageDb",1);i.onerror=function(t){try{t.preventDefault()}catch(t){}n(Error(t.target.error))},i.onupgradeneeded=function(t){t=t.target.result;try{t.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(t){n(t)}},i.onsuccess=function(i){(i=i.target.result).objectStoreNames.contains("firebaseLocalStorage")?e(i):function(t){return new ke((function(e,n){var i=t.m.deleteDatabase("firebaseLocalStorageDb");i.onsuccess=function(){e()},i.onerror=function(t){n(Error(t.target.error))}}))}(t).then((function(){return Au(t)})).then((function(t){e(t)})).o((function(t){n(t)}))}}))}function xu(t){return t.i||(t.i=Au(t)),t.i}function Du(t,e){var n=0;return new ke((function i(r,o){xu(t).then(e).then(r).o((function(e){if(!(3<++n))return xu(t).then((function(e){return e.close(),t.i=void 0,i(r,o)})).o((function(t){o(t)}));o(e)}))}))}function Mu(){try{return!!u.indexedDB}catch(t){return!1}}function Lu(t){return t.objectStore("firebaseLocalStorage")}function Nu(t,e){return t.transaction(["firebaseLocalStorage"],e?"readwrite":"readonly")}function Pu(t){return new ke((function(e,n){t.onsuccess=function(t){t&&t.target?e(t.target.result):e()},t.onerror=function(t){n(t.target.error)}}))}function Ru(t,e){return t.g&&t.h&&function(){var t=u.navigator;return t&&t.serviceWorker&&t.serviceWorker.controller||null}()===t.h?Ou(t.g,"keyChanged",{key:e},t.s).then((function(){})).o((function(){})):xe()}function ju(t){return xu(t).then((function(t){var e=Lu(Nu(t,!1));return e.getAll?Pu(e.getAll()):new ke((function(t,n){var i=[],r=e.openCursor();r.onsuccess=function(e){(e=e.target.result)?(i.push(e.value),e.continue()):t(i)},r.onerror=function(t){n(t.target.error)}}))})).then((function(e){var n={},i=[];if(0==t.b){for(i=0;i<e.length;i++)n[e[i].fbase_key]=e[i].value;i=function t(e,n){var i,r=[];for(i in e)i in n?typeof e[i]!=typeof n[i]?r.push(i):"object"==typeof e[i]&&null!=e[i]&&null!=n[i]?0<t(e[i],n[i]).length&&r.push(i):e[i]!==n[i]&&r.push(i):r.push(i);for(i in n)i in e||r.push(i);return r}(t.c,n),t.c=n}return i}))}function Bu(t){t.l&&t.l.cancel("STOP_EVENT"),t.f&&(clearTimeout(t.f),t.f=null)}function Fu(t){var e=this,n=null;this.a=[],this.type="indexedDB",this.c=t,this.b=xe().then((function(){if(Mu()){var t=Fi(),i="__sak"+t;return _u||(_u=new Cu),(n=_u).set(i,t).then((function(){return n.get(i)})).then((function(e){if(e!==t)throw Error("indexedDB not supported!");return n.U(i)})).then((function(){return n})).o((function(){return e.c}))}return e.c})).then((function(t){return e.type=t.type,t.ca((function(t){W(e.a,(function(e){e(t)}))})),t}))}function Vu(){this.a={},this.type="inMemory"}function qu(){if(!function(){var t="Node"==Ei();if(!(t=Uu()||t&&e.a.INTERNAL.node&&e.a.INTERNAL.node.localStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(t){return!1}}()){if("Node"==Ei())throw new S("internal-error","The LocalStorage compatibility library was not found.");throw new S("web-storage-unsupported")}this.a=Uu()||e.a.INTERNAL.node.localStorage,this.type="localStorage"}function Uu(){try{var t=u.localStorage,e=Fi();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(t){return null}}function Hu(){this.type="nullStorage"}function $u(){if(!function(){var t="Node"==Ei();if(!(t=Wu()||t&&e.a.INTERNAL.node&&e.a.INTERNAL.node.sessionStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(t){return!1}}()){if("Node"==Ei())throw new S("internal-error","The SessionStorage compatibility library was not found.");throw new S("web-storage-unsupported")}this.a=Wu()||e.a.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function Wu(){try{var t=u.sessionStorage,e=Fi();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(t){return null}}function Ku(){var t={};t.Browser=Qu,t.Node=Yu,t.ReactNative=Xu,t.Worker=Ju,this.a=t[Ei()]}wu.prototype.c=function(t){var e=t.data.eventType,n=t.data.eventId,i=this.a[e];if(i&&0<i.length){t.ports[0].postMessage({status:"ack",eventId:n,eventType:e,response:null});var r=[];W(i,(function(e){r.push(xe().then((function(){return e(t.origin,t.data.data)})))})),Le(r).then((function(i){var r=[];W(i,(function(t){r.push({fulfilled:t.Pb,value:t.value,reason:t.reason?t.reason.message:void 0})})),W(r,(function(t){for(var e in t)void 0===t[e]&&delete t[e]})),t.ports[0].postMessage({status:"done",eventId:n,eventType:e,response:r})}))}},Iu.prototype.postMessage=function(t,e){this.a.postMessage(t,e)},Tu.prototype.close=function(){for(;0<this.a.length;)Su(this,this.a[0]);this.b=!0},(n=Cu.prototype).set=function(t,e){var n=this,i=!1;return Du(this,(function(e){return Pu((e=Lu(Nu(e,!0))).get(t))})).then((function(r){return Du(n,(function(o){if(o=Lu(Nu(o,!0)),r)return r.value=e,Pu(o.put(r));n.b++,i=!0;var s={};return s.fbase_key=t,s.value=e,Pu(o.add(s))}))})).then((function(){return n.c[t]=e,Ru(n,t)})).oa((function(){i&&n.b--}))},n.get=function(t){return Du(this,(function(e){return Pu(Lu(Nu(e,!1)).get(t))})).then((function(t){return t&&t.value}))},n.U=function(t){var e=this,n=!1;return Du(this,(function(i){return n=!0,e.b++,Pu(Lu(Nu(i,!0)).delete(t))})).then((function(){return delete e.c[t],Ru(e,t)})).oa((function(){n&&e.b--}))},n.ca=function(t){0==this.a.length&&function(t){Bu(t),function e(){t.f=setTimeout((function(){t.l=ju(t).then((function(e){0<e.length&&W(t.a,(function(t){t(e)}))})).then((function(){e()})).o((function(t){"STOP_EVENT"!=t.message&&e()}))}),800)}()}(this),this.a.push(t)},n.ia=function(t){X(this.a,(function(e){return e==t})),0==this.a.length&&Bu(this)},(n=Fu.prototype).get=function(t){return this.b.then((function(e){return e.get(t)}))},n.set=function(t,e){return this.b.then((function(n){return n.set(t,e)}))},n.U=function(t){return this.b.then((function(e){return e.U(t)}))},n.ca=function(t){this.a.push(t)},n.ia=function(t){X(this.a,(function(e){return e==t}))},(n=Vu.prototype).get=function(t){return xe(this.a[t])},n.set=function(t,e){return this.a[t]=e,xe()},n.U=function(t){return delete this.a[t],xe()},n.ca=function(){},n.ia=function(){},(n=qu.prototype).get=function(t){var e=this;return xe().then((function(){return Bi(e.a.getItem(t))}))},n.set=function(t,e){var n=this;return xe().then((function(){var i=Ri(e);null===i?n.U(t):n.a.setItem(t,i)}))},n.U=function(t){var e=this;return xe().then((function(){e.a.removeItem(t)}))},n.ca=function(t){u.window&&hn(u.window,"storage",t)},n.ia=function(t){u.window&&pn(u.window,"storage",t)},(n=Hu.prototype).get=function(){return xe(null)},n.set=function(){return xe()},n.U=function(){return xe()},n.ca=function(){},n.ia=function(){},(n=$u.prototype).get=function(t){var e=this;return xe().then((function(){return Bi(e.a.getItem(t))}))},n.set=function(t,e){var n=this;return xe().then((function(){var i=Ri(e);null===i?n.U(t):n.a.setItem(t,i)}))},n.U=function(t){var e=this;return xe().then((function(){e.a.removeItem(t)}))},n.ca=function(){},n.ia=function(){};var zu,Gu,Qu={F:qu,bb:$u},Yu={F:qu,bb:$u},Xu={F:bu,bb:Hu},Ju={F:qu,bb:Hu},Zu={rd:"local",NONE:"none",td:"session"};function tc(){var t=!(Vi(Ai())||!wi()),e=Pi(),n=Di();this.m=t,this.h=e,this.l=n,this.a={},zu||(zu=new Ku),t=zu;try{this.g=!li()&&Wi()||!u.indexedDB?new t.a.F:new Fu(_i()?new Vu:new t.a.F)}catch(t){this.g=new Vu,this.h=!0}try{this.i=new t.a.bb}catch(t){this.i=new Vu}this.v=new Vu,this.f=E(this.Yb,this),this.b={}}function ec(){return Gu||(Gu=new tc),Gu}function nc(t,e){switch(e){case"session":return t.i;case"none":return t.v;default:return t.g}}function ic(t,e){return"firebase:"+t.name+(e?":"+e:"")}function rc(t,e,n){return n=ic(e,n),"local"==e.F&&(t.b[n]=null),nc(t,e.F).U(n)}function oc(t){t.c&&(clearInterval(t.c),t.c=null)}function sc(t){this.a=t,this.b=ec()}(n=tc.prototype).get=function(t,e){return nc(this,t.F).get(ic(t,e))},n.set=function(t,e,n){var i=ic(t,n),r=this,o=nc(this,t.F);return o.set(i,e).then((function(){return o.get(i)})).then((function(e){"local"==t.F&&(r.b[i]=e)}))},n.addListener=function(t,e,n){t=ic(t,e),this.l&&(this.b[t]=u.localStorage.getItem(t)),vt(this.a)&&(nc(this,"local").ca(this.f),this.h||(li()||!Wi())&&u.indexedDB||!this.l||function(t){oc(t),t.c=setInterval((function(){for(var e in t.a){var n=u.localStorage.getItem(e),i=t.b[e];n!=i&&(t.b[e]=n,n=new Ze({type:"storage",key:e,target:window,oldValue:i,newValue:n,a:!0}),t.Yb(n))}}),1e3)}(this)),this.a[t]||(this.a[t]=[]),this.a[t].push(n)},n.removeListener=function(t,e,n){t=ic(t,e),this.a[t]&&(X(this.a[t],(function(t){return t==n})),0==this.a[t].length&&delete this.a[t]),vt(this.a)&&(nc(this,"local").ia(this.f),oc(this))},n.Yb=function(t){if(t&&t.g){var e=t.a.key;if(null==e)for(var n in this.a){var i=this.b[n];void 0===i&&(i=null);var r=u.localStorage.getItem(n);r!==i&&(this.b[n]=r,this.mb(n))}else if(0==e.indexOf("firebase:")&&this.a[e]){if(void 0!==t.a.a?nc(this,"local").ia(this.f):oc(this),this.m)if(n=u.localStorage.getItem(e),(i=t.a.newValue)!==n)null!==i?u.localStorage.setItem(e,i):u.localStorage.removeItem(e);else if(this.b[e]===i&&void 0===t.a.a)return;var o=this;n=function(){void 0===t.a.a&&o.b[e]===u.localStorage.getItem(e)||(o.b[e]=u.localStorage.getItem(e),o.mb(e))},Yt&&ce&&10==ce&&u.localStorage.getItem(e)!==t.a.newValue&&t.a.newValue!==t.a.oldValue?setTimeout(n,10):n()}}else W(t,E(this.mb,this))},n.mb=function(t){this.a[t]&&W(this.a[t],(function(t){t()}))};var ac,uc={name:"authEvent",F:"local"};function cc(){this.a=ec()}function lc(t,e){this.b=hc,this.f=u.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=t,this.h=e,this.l=u.Int32Array?new Int32Array(64):Array(64),void 0===ac&&(ac=u.Int32Array?new Int32Array(yc):yc),this.reset()}T(lc,(function(){this.b=-1}));for(var hc=64,fc=hc-1,dc=[],pc=0;pc<fc;pc++)dc[pc]=0;var vc=J(128,dc);function gc(t){for(var e=t.f,n=t.l,i=0,r=0;r<e.length;)n[i++]=e[r]<<24|e[r+1]<<16|e[r+2]<<8|e[r+3],r=4*i;for(e=16;64>e;e++){r=0|n[e-15],i=0|n[e-2];var o=(0|n[e-16])+((r>>>7|r<<25)^(r>>>18|r<<14)^r>>>3)|0,s=(0|n[e-7])+((i>>>17|i<<15)^(i>>>19|i<<13)^i>>>10)|0;n[e]=o+s|0}i=0|t.a[0],r=0|t.a[1];var a=0|t.a[2],u=0|t.a[3],c=0|t.a[4],l=0|t.a[5],h=0|t.a[6];for(o=0|t.a[7],e=0;64>e;e++){var f=((i>>>2|i<<30)^(i>>>13|i<<19)^(i>>>22|i<<10))+(i&r^i&a^r&a)|0;s=(o=o+((c>>>6|c<<26)^(c>>>11|c<<21)^(c>>>25|c<<7))|0)+((s=(s=c&l^~c&h)+(0|ac[e])|0)+(0|n[e])|0)|0,o=h,h=l,l=c,c=u+s|0,u=a,a=r,r=i,i=s+f|0}t.a[0]=t.a[0]+i|0,t.a[1]=t.a[1]+r|0,t.a[2]=t.a[2]+a|0,t.a[3]=t.a[3]+u|0,t.a[4]=t.a[4]+c|0,t.a[5]=t.a[5]+l|0,t.a[6]=t.a[6]+h|0,t.a[7]=t.a[7]+o|0}function mc(t,e,n){void 0===n&&(n=e.length);var i=0,r=t.c;if("string"==typeof e)for(;i<n;)t.f[r++]=e.charCodeAt(i++),r==t.b&&(gc(t),r=0);else{if(!p(e))throw Error("message must be string or array");for(;i<n;){var o=e[i++];if(!("number"==typeof o&&0<=o&&255>=o&&o==(0|o)))throw Error("message must be a byte array");t.f[r++]=o,r==t.b&&(gc(t),r=0)}}t.c=r,t.g+=n}lc.prototype.reset=function(){this.g=this.c=0,this.a=u.Int32Array?new Int32Array(this.h):Z(this.h)};var yc=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function bc(){lc.call(this,8,wc)}T(bc,lc);var wc=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function _c(t,e,n,i,r,o){this.v=t,this.i=e,this.l=n,this.m=i||null,this.u=r||null,this.s=o,this.h=e+":"+n,this.C=new cc,this.g=new sc(this.h),this.f=null,this.b=[],this.a=this.c=null}function Ec(t){return new S("invalid-cordova-configuration",t)}function kc(t){var e=new bc;mc(e,t),t=[];var n=8*e.g;56>e.c?mc(e,vc,56-e.c):mc(e,vc,e.b-(e.c-56));for(var i=63;56<=i;i--)e.f[i]=255&n,n/=256;for(gc(e),i=n=0;i<e.i;i++)for(var r=24;0<=r;r-=8)t[n++]=e.a[i]>>r&255;return function(t){return z(t,(function(t){return 1<(t=t.toString(16)).length?t:"0"+t})).join("")}(t)}function Ic(t,e){for(var n=0;n<t.b.length;n++)try{t.b[n](e)}catch(t){}}function Tc(t){return t.f||(t.f=t.ma().then((function(){return new ke((function(e){t.Ea((function n(i){return e(i),t.Sa(n),!1})),function(t){function e(e){i=!0,r&&r.cancel(),Oc(t).then((function(i){var r=n;if(i&&e&&e.url){var o=null;-1!=(r=oo(e.url)).indexOf("/__/auth/callback")&&(o=(o="object"==typeof(o=Bi(Vn(o=qn(r),"firebaseError")||null))?C(o):null)?new qo(i.c,i.b,null,null,o,null,i.T()):new qo(i.c,i.b,r,i.f,null,null,i.T())),r=o||n}Ic(t,r)}))}var n=new qo("unknown",null,null,null,new S("no-auth-event")),i=!1,r=Cn(500).then((function(){return Oc(t).then((function(){i||Ic(t,n)}))})),o=u.handleOpenURL;u.handleOpenURL=function(t){if(0==t.toLowerCase().indexOf(xi("BuildInfo.packageName",u).toLowerCase()+"://")&&e({url:t}),"function"==typeof o)try{o(t)}catch(t){console.error(t)}},Wo||(Wo=new Ho),function(t){var e=Wo;e.a.push(t),e.b||(e.b=function(t){for(var n=0;n<e.a.length;n++)e.a[n](t)},"function"==typeof(t=xi("universalLinks.subscribe",u))&&t(null,e.b))}(e)}(t)}))}))),t.f}function Oc(t){var e=null;return function(t){return t.b.get(uc,t.a).then((function(t){return Uo(t)}))}(t.g).then((function(n){return e=n,rc((n=t.g).b,uc,n.a)})).then((function(){return e}))}function Sc(t){this.a=t,this.b=ec()}(n=_c.prototype).ma=function(){return this.Ia?this.Ia:this.Ia=(bi(void 0)?yi().then((function(){return new ke((function(t,e){var n=u.document,i=setTimeout((function(){e(Error("Cordova framework is not ready."))}),1e3);n.addEventListener("deviceready",(function(){clearTimeout(i),t()}),!1)}))})):De(Error("Cordova must run in an Android or iOS file scheme."))).then((function(){if("function"!=typeof xi("universalLinks.subscribe",u))throw Ec("cordova-universal-links-plugin-fix is not installed");if(void 0===xi("BuildInfo.packageName",u))throw Ec("cordova-plugin-buildinfo is not installed");if("function"!=typeof xi("cordova.plugins.browsertab.openUrl",u))throw Ec("cordova-plugin-browsertab is not installed");if("function"!=typeof xi("cordova.InAppBrowser.open",u))throw Ec("cordova-plugin-inappbrowser is not installed")}),(function(){throw new S("cordova-not-ready")}))},n.Ob=function(t,e){return e(new S("operation-not-supported-in-this-environment")),xe()},n.Mb=function(){return De(new S("operation-not-supported-in-this-environment"))},n.$b=function(){return!1},n.Xb=function(){return!0},n.Tb=function(){return!0},n.Nb=function(t,e,n,i){if(this.c)return De(new S("redirect-operation-pending"));var r=this,o=u.document,s=null,a=null,c=null,l=null;return this.c=xe().then((function(){return Vo(e),Tc(r)})).then((function(){return function(t,e,n,i,r){var o=function(){for(var t=20,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}(),s=new qo(e,i,null,o,new S("no-auth-event"),null,r),a=xi("BuildInfo.packageName",u);if("string"!=typeof a)throw new S("invalid-cordova-configuration");var c=xi("BuildInfo.displayName",u),l={};if(Ai().toLowerCase().match(/iphone|ipad|ipod/))l.ibi=a;else{if(!Ai().toLowerCase().match(/android/))return De(new S("operation-not-supported-in-this-environment"));l.apn=a}c&&(l.appDisplayName=c),o=kc(o),l.sessionId=o;var h=yu(t.v,t.i,t.l,e,n,null,i,t.m,l,t.u,r,t.s);return t.ma().then((function(){var e=t.h;return t.C.a.set(uc,s.w(),e)})).then((function(){var e=xi("cordova.plugins.browsertab.isAvailable",u);if("function"!=typeof e)throw new S("invalid-cordova-configuration");var n=null;e((function(e){if(e){if("function"!=typeof(n=xi("cordova.plugins.browsertab.openUrl",u)))throw new S("invalid-cordova-configuration");n(h)}else{if("function"!=typeof(n=xi("cordova.InAppBrowser.open",u)))throw new S("invalid-cordova-configuration");e=Ai(),t.a=n(h,e.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||e.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}}))}))}(r,t,e,n,i)})).then((function(){return new ke((function(t,e){a=function(){var e=xi("cordova.plugins.browsertab.close",u);return t(),"function"==typeof e&&e(),r.a&&"function"==typeof r.a.close&&(r.a.close(),r.a=null),!1},r.Ea(a),c=function(){s||(s=Cn(2e3).then((function(){e(new S("redirect-cancelled-by-user"))})))},l=function(){Hi()&&c()},o.addEventListener("resume",c,!1),Ai().toLowerCase().match(/android/)||o.addEventListener("visibilitychange",l,!1)})).o((function(t){return Oc(r).then((function(){throw t}))}))})).oa((function(){c&&o.removeEventListener("resume",c,!1),l&&o.removeEventListener("visibilitychange",l,!1),s&&s.cancel(),a&&r.Sa(a),r.c=null}))},n.Ea=function(t){this.b.push(t),Tc(this).o((function(e){"auth/invalid-cordova-configuration"===e.code&&(e=new qo("unknown",null,null,null,new S("no-auth-event")),t(e))}))},n.Sa=function(t){X(this.b,(function(e){return e==t}))};var Cc={name:"pendingRedirect",F:"session"};function Ac(t){return rc(t.b,Cc,t.a)}function xc(t,e,n,i){this.i={},this.u=0,this.D=t,this.v=e,this.m=n,this.J=i,this.h=[],this.f=!1,this.l=E(this.s,this),this.b=new Wc,this.C=new Yc,this.g=new Sc(Hc(this.v,this.m)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.C,this.c.linkViaPopup=this.C,this.c.reauthViaPopup=this.C,this.a=Dc(this.D,this.v,this.m,A,this.J)}function Dc(t,n,i,r,o){var s=e.a.SDK_VERSION||null;return bi()?new _c(t,n,i,s,r,o):new pu(t,n,i,s,r,o)}function Mc(t){t.f||(t.f=!0,t.a.Ea(t.l));var e=t.a;return t.a.ma().o((function(n){throw t.a==e&&t.reset(),n}))}function Lc(t){t.a.Xb()&&Mc(t).o((function(e){var n=new qo("unknown",null,null,null,new S("operation-not-supported-in-this-environment"));Fc(e)&&t.s(n)})),t.a.Tb()||Kc(t.b)}function Nc(t,e){Q(t.h,e)||t.h.push(e),t.f||function(t){return t.b.get(Cc,t.a).then((function(t){return"pending"==t}))}(t.g).then((function(e){e?Ac(t.g).then((function(){Mc(t).o((function(e){var n=new qo("unknown",null,null,null,new S("operation-not-supported-in-this-environment"));Fc(e)&&t.s(n)}))})):Lc(t)})).o((function(){Lc(t)}))}function Pc(t,e){X(t.h,(function(t){return t==e}))}xc.prototype.reset=function(){this.f=!1,this.a.Sa(this.l),this.a=Dc(this.D,this.v,this.m,null,this.J),this.i={}},xc.prototype.s=function(t){if(!t)throw new S("invalid-auth-event");if(6e5<=I()-this.u&&(this.i={},this.u=0),t&&t.getUid()&&this.i.hasOwnProperty(t.getUid()))return!1;for(var e=!1,n=0;n<this.h.length;n++){var i=this.h[n];if(i.Fb(t.c,t.b)){(e=this.c[t.c])&&(e.h(t,i),t&&(t.f||t.b)&&(this.i[t.getUid()]=!0,this.u=I())),e=!0;break}}return Kc(this.b),e};var Rc=new Ui(2e3,1e4),jc=new Ui(3e4,6e4);function Bc(t,e,n,i,r,o,s){return t.a.Mb(e,n,i,(function(){t.f||(t.f=!0,t.a.Ea(t.l))}),(function(){t.reset()}),r,o,s)}function Fc(t){return!(!t||"auth/cordova-not-ready"!=t.code)}function Vc(t,e,n,i,r){var o;return function(t){return t.b.set(Cc,"pending",t.a)}(t.g).then((function(){return t.a.Nb(e,n,i,r).o((function(e){if(Fc(e))throw new S("operation-not-supported-in-this-environment");return o=e,Ac(t.g).then((function(){throw o}))})).then((function(){return t.a.$b()?new ke((function(){})):Ac(t.g).then((function(){return t.qa()})).then((function(){})).o((function(){}))}))}))}function qc(t,e,n,i,r){return t.a.Ob(i,(function(t){e.na(n,null,t,r)}),Rc.get())}xc.prototype.qa=function(){return this.b.qa()};var Uc={};function Hc(t,e,n){return t=t+":"+e,n&&(t=t+":"+n.url),t}function $c(t,e,n,i){var r=Hc(e,n,i);return Uc[r]||(Uc[r]=new xc(t,e,n,i)),Uc[r]}function Wc(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}function Kc(t){t.g||(t.g=!0,Qc(t,!1,null,null))}function zc(t){t.g&&!t.i&&Qc(t,!1,null,null)}function Gc(t,e){if(t.b=function(){return xe(e)},t.f.length)for(var n=0;n<t.f.length;n++)t.f[n](e)}function Qc(t,e,n,i){e?i?function(t,e){if(t.b=function(){return De(e)},t.c.length)for(var n=0;n<t.c.length;n++)t.c[n](e)}(t,i):Gc(t,n):Gc(t,{user:null}),t.f=[],t.c=[]}function Yc(){}function Xc(){this.ib=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.ib},set:function(t){this.ib=t},enumerable:!1})}function Jc(t,e){this.a=e,Yi(this,"verificationId",t)}function Zc(t,e,n,i){return new jo(t).fb(e,n).then((function(t){return new Jc(t,i)}))}function tl(t){var e=Wr(t);if(!(e&&e.exp&&e.auth_time&&e.iat))throw new S("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");Xi(this,{token:t,expirationTime:$i(1e3*e.exp),authTime:$i(1e3*e.auth_time),issuedAtTime:$i(1e3*e.iat),signInProvider:e.firebase&&e.firebase.sign_in_provider?e.firebase.sign_in_provider:null,signInSecondFactor:e.firebase&&e.firebase.sign_in_second_factor?e.firebase.sign_in_second_factor:null,claims:e})}function el(t,e,n){var i=e&&e[il];if(!i)throw new S("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=t,this.f=gt(e),this.g=n,this.c=new so(null,i),this.b=[];var r=this;W(e[nl]||[],(function(t){(t=er(t))&&r.b.push(t)})),Yi(this,"auth",this.a),Yi(this,"session",this.c),Yi(this,"hints",this.b)}Wc.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},Wc.prototype.h=function(t,e){if(t){this.reset(),this.g=!0;var n=t.c,i=t.b,r=t.a&&"auth/web-storage-unsupported"==t.a.code,o=t.a&&"auth/operation-not-supported-in-this-environment"==t.a.code;this.i=!(!r&&!o),"unknown"!=n||r||o?t.a?(Qc(this,!0,null,t.a),xe()):e.Fa(n,i)?function(t,e,n){n=n.Fa(e.c,e.b);var i=e.g,r=e.f,o=e.i,s=e.T(),a=!!e.c.match(/Redirect$/);n(i,r,s,o).then((function(e){Qc(t,a,e,null)})).o((function(e){Qc(t,a,null,e)}))}(this,t,e):De(new S("invalid-auth-event")):(Qc(this,!1,null,null),xe())}else De(new S("invalid-auth-event"))},Wc.prototype.qa=function(){var t=this;return new ke((function(e,n){t.b?t.b().then(e,n):(t.f.push(e),t.c.push(n),function(t){var e=new S("timeout");t.a&&t.a.cancel(),t.a=Cn(jc.get()).then((function(){t.b||(t.g=!0,Qc(t,!0,null,e))}))}(t))}))},Yc.prototype.h=function(t,e){if(t){var n=t.c,i=t.b;t.a?(e.na(t.c,null,t.a,t.b),xe()):e.Fa(n,i)?function(t,e){var n=t.b,i=t.c;e.Fa(i,n)(t.g,t.f,t.T(),t.i).then((function(t){e.na(i,t,null,n)})).o((function(t){e.na(i,null,t,n)}))}(t,e):De(new S("invalid-auth-event"))}else De(new S("invalid-auth-event"))},Jc.prototype.confirm=function(t){return t=Bo(this.verificationId,t),this.a(t)};var nl="mfaInfo",il="mfaPendingCredential";function rl(t,e,n,i){S.call(this,"multi-factor-auth-required",i,e),this.b=new el(t,e,n),Yi(this,"resolver",this.b)}function ol(t,e,n){if(t&&g(t.serverResponse)&&"auth/multi-factor-auth-required"===t.code)try{return new rl(e,t.serverResponse,n,t.message)}catch(t){}return null}function sl(){}function al(t){Yi(this,"factorId",t.fa),this.a=t}function ul(t){if(al.call(this,t),this.a.fa!=jo.PROVIDER_ID)throw new S("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}function cl(t,e){for(var n in Je.call(this,t),e)this[n]=e[n]}function ll(t,e){this.a=t,this.b=[],this.c=E(this.yc,this),hn(this.a,"userReloaded",this.c);var n=[];e&&e.multiFactor&&e.multiFactor.enrolledFactors&&W(e.multiFactor.enrolledFactors,(function(t){var e=null,i={};if(t){t.uid&&(i[rr]=t.uid),t.displayName&&(i[nr]=t.displayName),t.enrollmentTime&&(i[ir]=new Date(t.enrollmentTime).toISOString()),t.phoneNumber&&(i[or]=t.phoneNumber);try{e=new sr(i)}catch(t){}t=e}else t=null;t&&n.push(t)})),hl(this,n)}function hl(t,e){t.b=e,Yi(t,"enrolledFactors",e)}function fl(t,e,n){if(this.h=t,this.i=e,this.g=n,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function dl(t){this.f=t,this.b=this.a=null,this.c=Date.now()}function pl(t,e){void 0===e&&(t.b?e=(e=t.b).a-e.g:e=0),t.c=Date.now()+1e3*e}function vl(t,e){t.b=$r(e[Js]||""),t.a=e.refreshToken,pl(t,void 0!==(e=e.expiresIn)?Number(e):void 0)}function gl(t,e){return function(t,e){return new ke((function(n,i){"refresh_token"==e.grant_type&&e.refresh_token||"authorization_code"==e.grant_type&&e.code?aa(t,t.l+"?key="+encodeURIComponent(t.c),(function(t){t?t.error?i(ou(t)):t.access_token&&t.refresh_token?n(t):i(new S("internal-error")):i(new S("network-request-failed"))}),"POST",Zn(e).toString(),t.g,t.m.get()):i(new S("internal-error"))}))}(t.f,e).then((function(e){return t.b=$r(e.access_token),t.a=e.refresh_token,pl(t,e.expires_in),{accessToken:t.b.toString(),refreshToken:t.a}})).o((function(e){throw"auth/user-token-expired"==e.code&&(t.a=null),e}))}function ml(t,e){this.a=t||null,this.b=e||null,Xi(this,{lastSignInTime:$i(e||null),creationTime:$i(t||null)})}function yl(t,e,n,i,r,o){Xi(this,{uid:t,displayName:i||null,photoURL:r||null,email:n||null,phoneNumber:o||null,providerId:e})}function bl(t,n,i){this.J=[],this.l=t.apiKey,this.m=t.appName,this.s=t.authDomain||null;var r=e.a.SDK_VERSION?Ci(e.a.SDK_VERSION):null;this.a=new Ys(this.l,L(A),r),t.emulatorConfig&&ra(this.a,t.emulatorConfig),this.b=new dl(this.a),Sl(this,n[Js]),vl(this.b,n),Yi(this,"refreshToken",this.b.a),xl(this,i||{}),kn.call(this),this.R=!1,this.s&&Mi()&&(this.i=$c(this.s,this.l,this.m)),this.S=[],this.h=null,this.u=function(t){return new fl((function(){return t.I(!0)}),(function(t){return!(!t||"auth/network-request-failed"!=t.code)}),(function(){var e=t.b.c-Date.now()-3e5;return 0<e?e:0}))}(this),this.aa=E(this.hb,this);var o=this;this.ya=null,this.Oa=function(t){o.wa(t.h)},this.ja=null,this.Aa=function(t){ra(o.a,t.c)},this.X=null,this.$=[],this.Ba=function(t){El(o,t.f)},this.ba=null,this.O=new ll(this,i),Yi(this,"multiFactor",this.O)}function wl(t,e){t.ja&&pn(t.ja,"languageCodeChanged",t.Oa),(t.ja=e)&&hn(e,"languageCodeChanged",t.Oa)}function _l(t,e){t.X&&pn(t.X,"emulatorConfigChanged",t.Aa),(t.X=e)&&hn(e,"emulatorConfigChanged",t.Aa)}function El(t,n){t.$=n,sa(t.a,e.a.SDK_VERSION?Ci(e.a.SDK_VERSION,t.$):null)}function kl(t,e){t.ba&&pn(t.ba,"frameworkChanged",t.Ba),(t.ba=e)&&hn(e,"frameworkChanged",t.Ba)}function Il(t){try{return e.a.app(t.m).auth()}catch(e){throw new S("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+t.m+"'!")}}function Tl(t){t.D||t.u.b||(t.u.start(),pn(t,"tokenChanged",t.aa),hn(t,"tokenChanged",t.aa))}function Ol(t){pn(t,"tokenChanged",t.aa),t.u.stop()}function Sl(t,e){t.za=e,Yi(t,"_lat",e)}function Cl(t){for(var e=[],n=0;n<t.S.length;n++)e.push(t.S[n](t));return Le(e).then((function(){return t}))}function Al(t){t.i&&!t.R&&(t.R=!0,Nc(t.i,t))}function xl(t,e){Xi(t,{uid:e.uid,displayName:e.displayName||null,photoURL:e.photoURL||null,email:e.email||null,emailVerified:e.emailVerified||!1,phoneNumber:e.phoneNumber||null,isAnonymous:e.isAnonymous||!1,tenantId:e.tenantId||null,metadata:new ml(e.createdAt,e.lastLoginAt),providerData:[]}),t.a.b=t.tenantId}function Dl(){}function Ml(t){return xe().then((function(){if(t.D)throw new S("app-deleted")}))}function Ll(t){return z(t.providerData,(function(t){return t.providerId}))}function Nl(t,e){e&&(Pl(t,e.providerId),t.providerData.push(e))}function Pl(t,e){X(t.providerData,(function(t){return t.providerId==e}))}function Rl(t,e,n){("uid"!=e||n)&&t.hasOwnProperty(e)&&Yi(t,e,n)}function jl(t,e){t!=e&&(Xi(t,{uid:e.uid,displayName:e.displayName,photoURL:e.photoURL,email:e.email,emailVerified:e.emailVerified,phoneNumber:e.phoneNumber,isAnonymous:e.isAnonymous,tenantId:e.tenantId,providerData:[]}),e.metadata?Yi(t,"metadata",function(t){return new ml(t.a,t.b)}(e.metadata)):Yi(t,"metadata",new ml),W(e.providerData,(function(e){Nl(t,e)})),function(t,e){t.b=e.b,t.a=e.a,t.c=e.c}(t.b,e.b),Yi(t,"refreshToken",t.b.a),hl(t.O,e.O.b))}function Bl(t){return t.I().then((function(e){var n=t.isAnonymous;return function(t,e){return iu(t.a,Na,{idToken:e}).then(E(t.Kc,t))}(t,e).then((function(){return n||Rl(t,"isAnonymous",!1),e}))}))}function Fl(t,e){e[Js]&&t.za!=e[Js]&&(vl(t.b,e),t.dispatchEvent(new cl("tokenChanged")),Sl(t,e[Js]),Rl(t,"refreshToken",t.b.a))}function Vl(t,e){return Bl(t).then((function(){if(Q(Ll(t),e))return Cl(t).then((function(){throw new S("provider-already-linked")}))}))}function ql(t,e,n){return Ji({user:t,credential:Fo(e),additionalUserInfo:e=Yr(e),operationType:n})}function Ul(t,e){return Fl(t,e),t.reload().then((function(){return t}))}function Hl(t,n,i,r,o){if(!Mi())return De(new S("operation-not-supported-in-this-environment"));if(t.h&&!o)return De(t.h);var s=Qr(i.providerId),a=Fi(t.uid+":::"),u=null;(!Pi()||wi())&&t.s&&i.isOAuthProvider&&(u=yu(t.s,t.l,t.m,n,i,null,a,e.a.SDK_VERSION||null,null,null,t.tenantId));var c=vi(u,s&&s.ua,s&&s.ta);return r=r().then((function(){if(Wl(t),!o)return t.I().then((function(){}))})).then((function(){return Bc(t.i,c,n,i,a,!!u,t.tenantId)})).then((function(){return new ke((function(e,i){t.na(n,null,new S("cancelled-popup-request"),t.g||null),t.f=e,t.C=i,t.g=a,t.c=qc(t.i,t,n,c,a)}))})).then((function(t){return c&&pi(c),t?Ji(t):null})).o((function(t){throw c&&pi(c),t})),Kl(t,r,o)}function $l(t,e,n,i,r){if(!Mi())return De(new S("operation-not-supported-in-this-environment"));if(t.h&&!r)return De(t.h);var o=null,s=Fi(t.uid+":::");return i=i().then((function(){if(Wl(t),!r)return t.I().then((function(){}))})).then((function(){return t.ga=s,Cl(t)})).then((function(e){return t.ha&&(e=(e=t.ha).b.set(Ql,t.w(),e.a)),e})).then((function(){return Vc(t.i,e,n,s,t.tenantId)})).o((function(e){if(o=e,t.ha)return Yl(t.ha);throw o})).then((function(){if(o)throw o})),Kl(t,i,r)}function Wl(t){if(!t.i||!t.R){if(t.i&&!t.R)throw new S("internal-error");throw new S("auth-domain-config-required")}}function Kl(t,e,n){var i=function(t,e,n){return t.h&&!n?(e.cancel(),De(t.h)):e.o((function(e){throw!e||"auth/user-disabled"!=e.code&&"auth/user-token-expired"!=e.code||(t.h||t.dispatchEvent(new cl("userInvalidated")),t.h=e),e}))}(t,e,n);return t.J.push(i),i.oa((function(){Y(t.J,i)})),i.o((function(e){var n=null;throw e&&"auth/multi-factor-auth-required"===e.code&&(n=ol(e.w(),Il(t),E(t.jc,t))),n||e}))}function zl(t){if(!t.apiKey)return null;var e={apiKey:t.apiKey,authDomain:t.authDomain,appName:t.appName,emulatorConfig:t.emulatorConfig},n={};if(!t.stsTokenManager||!t.stsTokenManager.accessToken)return null;n[Js]=t.stsTokenManager.accessToken,n.refreshToken=t.stsTokenManager.refreshToken||null;var i=t.stsTokenManager.expirationTime;i&&(n.expiresIn=(i-Date.now())/1e3);var r=new bl(e,n,t);return t.providerData&&W(t.providerData,(function(t){t&&Nl(r,Ji(t))})),t.redirectEventId&&(r.ga=t.redirectEventId),r}function Gl(t){this.a=t,this.b=ec()}el.prototype.Rc=function(t){var e=this;return t.sb(this.a.a,this.c).then((function(t){var n=gt(e.f);return delete n[nl],delete n[il],yt(n,t),e.g(n)}))},T(rl,S),sl.prototype.sb=function(t,e,n){return e.type==ao?function(t,e,n,i){return n.Ha().then((function(n){return n={idToken:n},void 0!==i&&(n.displayName=i),yt(n,{phoneVerificationInfo:Ro(t.a)}),iu(e,Ma,n)}))}(this,t,e,n):function(t,e,n){return n.Ha().then((function(n){return yt(n={mfaPendingCredential:n},{phoneVerificationInfo:Ro(t.a)}),iu(e,La,n)}))}(this,t,e)},T(al,sl),T(ul,al),T(cl,Je),(n=ll.prototype).yc=function(t){hl(this,function(t){var e=[];return W(t.mfaInfo||[],(function(t){(t=er(t))&&e.push(t)})),e}(t.hd))},n.Rb=function(){return this.a.I().then((function(t){return new so(t,null)}))},n.fc=function(t,e){var n=this,i=this.a.a;return this.Rb().then((function(n){return t.sb(i,n,e)})).then((function(t){return Fl(n.a,t),n.a.reload()}))},n.bd=function(t){var e=this,n="string"==typeof t?t:t.uid,i=this.a.a;return this.a.I().then((function(t){return iu(i,nu,{idToken:t,mfaEnrollmentId:n})})).then((function(t){var i=K(e.b,(function(t){return t.uid!=n}));return hl(e,i),Fl(e.a,t),e.a.reload().o((function(t){if("auth/user-token-expired"!=t.code)throw t}))}))},n.w=function(){return{multiFactor:{enrolledFactors:z(this.b,(function(t){return t.w()}))}}},fl.prototype.start=function(){this.a=this.c,function t(e,n){e.stop(),e.b=Cn(function(t,e){return e?(t.a=t.c,t.g()):(e=t.a,t.a*=2,t.a>t.f&&(t.a=t.f),e)}(e,n)).then((function(){return function(){var t=u.document,e=null;return Hi()||!t?xe():new ke((function(n){e=function(){Hi()&&(t.removeEventListener("visibilitychange",e,!1),n())},t.addEventListener("visibilitychange",e,!1)})).o((function(n){throw t.removeEventListener("visibilitychange",e,!1),n}))}()})).then((function(){return e.h()})).then((function(){t(e,!0)})).o((function(n){e.i(n)&&t(e,!1)}))}(this,!0)},fl.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},dl.prototype.w=function(){return{apiKey:this.f.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:this.c}},dl.prototype.getToken=function(t){return t=!!t,this.b&&!this.a?De(new S("user-token-expired")):t||!this.b||Date.now()>this.c-3e4?this.a?gl(this,{grant_type:"refresh_token",refresh_token:this.a}):xe(null):xe({accessToken:this.b.toString(),refreshToken:this.a})},ml.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}},T(bl,kn),bl.prototype.wa=function(t){this.ya=t,ia(this.a,t)},bl.prototype.la=function(){return this.ya},bl.prototype.Ga=function(){return Z(this.$)},bl.prototype.hb=function(){this.u.b&&(this.u.stop(),this.u.start())},Yi(bl.prototype,"providerId","firebase"),(n=bl.prototype).reload=function(){var t=this;return Kl(this,Ml(this).then((function(){return Bl(t).then((function(){return Cl(t)})).then(Dl)})))},n.oc=function(t){return this.I(t).then((function(t){return new tl(t)}))},n.I=function(t){var e=this;return Kl(this,Ml(this).then((function(){return e.b.getToken(t)})).then((function(t){if(!t)throw new S("internal-error");return t.accessToken!=e.za&&(Sl(e,t.accessToken),e.dispatchEvent(new cl("tokenChanged"))),Rl(e,"refreshToken",t.refreshToken),t.accessToken})))},n.Kc=function(t){if(!(t=t.users)||!t.length)throw new S("internal-error");xl(this,{uid:(t=t[0]).localId,displayName:t.displayName,photoURL:t.photoUrl,email:t.email,emailVerified:!!t.emailVerified,phoneNumber:t.phoneNumber,lastLoginAt:t.lastLoginAt,createdAt:t.createdAt,tenantId:t.tenantId});for(var e=function(t){return(t=t.providerUserInfo)&&t.length?z(t,(function(t){return new yl(t.rawId,t.providerId,t.email,t.displayName,t.photoUrl,t.phoneNumber)})):[]}(t),n=0;n<e.length;n++)Nl(this,e[n]);Rl(this,"isAnonymous",!(this.email&&t.passwordHash||this.providerData&&this.providerData.length)),this.dispatchEvent(new cl("userReloaded",{hd:t}))},n.Lc=function(t){return Gi("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.tb(t)},n.tb=function(t){var e=this,n=null;return Kl(this,t.c(this.a,this.uid).then((function(t){return Fl(e,t),n=ql(e,t,"reauthenticate"),e.h=null,e.reload()})).then((function(){return n})),!0)},n.Cc=function(t){return Gi("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.qb(t)},n.qb=function(t){var e=this,n=null;return Kl(this,Vl(this,t.providerId).then((function(){return e.I()})).then((function(n){return t.b(e.a,n)})).then((function(t){return n=ql(e,t,"link"),Ul(e,t)})).then((function(){return n})))},n.Dc=function(t,e){var n=this;return Kl(this,Vl(this,"phone").then((function(){return Zc(Il(n),t,e,E(n.qb,n))})))},n.Mc=function(t,e){var n=this;return Kl(this,xe().then((function(){return Zc(Il(n),t,e,E(n.tb,n))})),!0)},n.Bb=function(t){var e=this;return Kl(this,this.I().then((function(n){return e.a.Bb(n,t)})).then((function(t){return Fl(e,t),e.reload()})))},n.ed=function(t){var e=this;return Kl(this,this.I().then((function(n){return t.b(e.a,n)})).then((function(t){return Fl(e,t),e.reload()})))},n.Cb=function(t){var e=this;return Kl(this,this.I().then((function(n){return e.a.Cb(n,t)})).then((function(t){return Fl(e,t),e.reload()})))},n.Db=function(t){if(void 0===t.displayName&&void 0===t.photoURL)return Ml(this);var e=this;return Kl(this,this.I().then((function(n){return e.a.Db(n,{displayName:t.displayName,photoUrl:t.photoURL})})).then((function(t){return Fl(e,t),Rl(e,"displayName",t.displayName||null),Rl(e,"photoURL",t.photoUrl||null),W(e.providerData,(function(t){"password"===t.providerId&&(Yi(t,"displayName",e.displayName),Yi(t,"photoURL",e.photoURL))})),Cl(e)})).then(Dl))},n.cd=function(t){var e=this;return Kl(this,Bl(this).then((function(n){return Q(Ll(e),t)?function(t,e,n){return iu(t,Aa,{idToken:e,deleteProvider:n})}(e.a,n,[t]).then((function(t){var n={};return W(t.providerUserInfo||[],(function(t){n[t.providerId]=!0})),W(Ll(e),(function(t){n[t]||Pl(e,t)})),n[jo.PROVIDER_ID]||Yi(e,"phoneNumber",null),Cl(e)})):Cl(e).then((function(){throw new S("no-such-provider")}))})))},n.delete=function(){var t=this;return Kl(this,this.I().then((function(e){return iu(t.a,Ca,{idToken:e})})).then((function(){t.dispatchEvent(new cl("userDeleted"))}))).then((function(){for(var e=0;e<t.J.length;e++)t.J[e].cancel("app-deleted");wl(t,null),_l(t,null),kl(t,null),t.J=[],t.D=!0,Ol(t),Yi(t,"refreshToken",null),t.i&&Pc(t.i,t)}))},n.Fb=function(t,e){return!!("linkViaPopup"==t&&(this.g||null)==e&&this.f||"reauthViaPopup"==t&&(this.g||null)==e&&this.f||"linkViaRedirect"==t&&(this.ga||null)==e||"reauthViaRedirect"==t&&(this.ga||null)==e)},n.na=function(t,e,n,i){"linkViaPopup"!=t&&"reauthViaPopup"!=t||i!=(this.g||null)||(n&&this.C?this.C(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},n.Fa=function(t,e){return"linkViaPopup"==t&&e==(this.g||null)?E(this.Kb,this):"reauthViaPopup"==t&&e==(this.g||null)?E(this.Lb,this):"linkViaRedirect"==t&&(this.ga||null)==e?E(this.Kb,this):"reauthViaRedirect"==t&&(this.ga||null)==e?E(this.Lb,this):null},n.Ec=function(t){var e=this;return Hl(this,"linkViaPopup",t,(function(){return Vl(e,t.providerId).then((function(){return Cl(e)}))}),!1)},n.Nc=function(t){return Hl(this,"reauthViaPopup",t,(function(){return xe()}),!0)},n.Fc=function(t){var e=this;return $l(this,"linkViaRedirect",t,(function(){return Vl(e,t.providerId)}),!1)},n.Oc=function(t){return $l(this,"reauthViaRedirect",t,(function(){return xe()}),!0)},n.Kb=function(t,e,n,i){var r=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return Kl(this,this.I().then((function(n){return _a(r.a,{requestUri:t,postBody:i,sessionId:e,idToken:n})})).then((function(t){return o=ql(r,t,"link"),Ul(r,t)})).then((function(){return o})))},n.Lb=function(t,e,n,i){var r=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return Kl(this,xe().then((function(){return lo(Ea(r.a,{requestUri:t,sessionId:e,postBody:i,tenantId:n}),r.uid)})).then((function(t){return o=ql(r,t,"reauthenticate"),Fl(r,t),r.h=null,r.reload()})).then((function(){return o})),!0)},n.ub=function(t){var e=this,n=null;return Kl(this,this.I().then((function(e){return n=e,void 0===t||vt(t)?{}:Vr(new xr(t))})).then((function(t){return e.a.ub(n,t)})).then((function(t){if(e.email!=t)return e.reload()})).then((function(){})))},n.Eb=function(t,e){var n=this,i=null;return Kl(this,this.I().then((function(t){return i=t,void 0===e||vt(e)?{}:Vr(new xr(e))})).then((function(e){return n.a.Eb(i,t,e)})).then((function(t){if(n.email!=t)return n.reload()})).then((function(){})))},n.jc=function(t){var e=null,n=this;return Kl(this,t=lo(xe(t),n.uid).then((function(t){return e=ql(n,t,"reauthenticate"),Fl(n,t),n.h=null,n.reload()})).then((function(){return e})),!0)},n.toJSON=function(){return this.w()},n.w=function(){var t={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.b.w(),redirectEventId:this.ga||null};return this.metadata&&yt(t,this.metadata.w()),W(this.providerData,(function(e){t.providerData.push(function(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}(e))})),yt(t,this.O.w()),t};var Ql={name:"redirectUser",F:"session"};function Yl(t){return rc(t.b,Ql,t.a)}function Xl(t){this.a=t,this.b=ec(),this.c=null,this.f=function(t){var e=th("local"),n=th("session"),i=th("none");return function(t,e,n){var i=ic(e,n),r=nc(t,e.F);return t.get(e,n).then((function(o){var s=null;try{s=Bi(u.localStorage.getItem(i))}catch(t){}if(s&&!o)return u.localStorage.removeItem(i),t.set(e,s,n);s&&o&&"localStorage"!=r.type&&u.localStorage.removeItem(i)}))}(t.b,e,t.a).then((function(){return t.b.get(n,t.a)})).then((function(r){return r?n:t.b.get(i,t.a).then((function(n){return n?i:t.b.get(e,t.a).then((function(n){return n?e:t.b.get(Zl,t.a).then((function(t){return t?th(t):e}))}))}))})).then((function(e){return t.c=e,Jl(t,e.F)})).o((function(){t.c||(t.c=e)}))}(this),this.b.addListener(th("local"),this.a,E(this.g,this))}function Jl(t,e){var n,i=[];for(n in Zu)Zu[n]!==e&&i.push(rc(t.b,th(Zu[n]),t.a));return i.push(rc(t.b,Zl,t.a)),function(t){return new ke((function(e,n){var i=t.length,r=[];if(i)for(var o=function(t,n){i--,r[t]=n,0==i&&e(r)},s=function(t){n(t)},a=0;a<t.length;a++)Me(t[a],k(o,a),s);else e(r)}))}(i)}Xl.prototype.g=function(){var t=this,e=th("local");rh(this,(function(){return xe().then((function(){return t.c&&"local"!=t.c.F?t.b.get(e,t.a):null})).then((function(n){if(n)return Jl(t,"local").then((function(){t.c=e}))}))}))};var Zl={name:"persistence",F:"session"};function th(t){return{name:"authUser",F:t}}function eh(t,e){return rh(t,(function(){return t.b.set(t.c,e.w(),t.a)}))}function nh(t){return rh(t,(function(){return rc(t.b,t.c,t.a)}))}function ih(t,e,n){return rh(t,(function(){return t.b.get(t.c,t.a).then((function(t){return t&&e&&(t.authDomain=e),t&&n&&(t.emulatorConfig=n),zl(t||{})}))}))}function rh(t,e){return t.f=t.f.then(e,e),t.f}function oh(t){if(this.l=!1,Yi(this,"settings",new Xc),Yi(this,"app",t),!ph(this).options||!ph(this).options.apiKey)throw new S("invalid-api-key");t=e.a.SDK_VERSION?Ci(e.a.SDK_VERSION):null,this.a=new Ys(ph(this).options&&ph(this).options.apiKey,L(A),t),this.R=[],this.s=[],this.O=[],this.hb=e.a.INTERNAL.createSubscribe(E(this.zc,this)),this.X=void 0,this.bc=e.a.INTERNAL.createSubscribe(E(this.Ac,this)),fh(this,null),this.i=new Xl(ph(this).options.apiKey+":"+ph(this).name),this.D=new Gl(ph(this).options.apiKey+":"+ph(this).name),this.$=yh(this,function(t){var e=ph(t).options.authDomain,n=function(t){var e=function(t,e){return t.b.get(Ql,t.a).then((function(t){return t&&e&&(t.authDomain=e),zl(t||{})}))}(t.D,ph(t).options.authDomain).then((function(e){return(t.m=e)&&(e.ha=t.D),Yl(t.D)}));return yh(t,e)}(t).then((function(){return ih(t.i,e,t.P)})).then((function(e){return e?(e.ha=t.D,t.m&&(t.m.ga||null)==(e.ga||null)?e:e.reload().then((function(){return eh(t.i,e).then((function(){return e}))})).o((function(n){return"auth/network-request-failed"==n.code?e:nh(t.i)}))):null})).then((function(e){fh(t,e||null)}));return yh(t,n)}(this)),this.h=yh(this,function(t){return t.$.then((function(){return lh(t)})).o((function(){})).then((function(){if(!t.l)return t.ja()})).o((function(){})).then((function(){if(!t.l){t.ba=!0;var e=t.i;e.b.addListener(th("local"),e.a,t.ja)}}))}(this)),this.ba=!1,this.ja=E(this.Zc,this),this.Ba=E(this.da,this),this.ya=E(this.mc,this),this.za=E(this.wc,this),this.Aa=E(this.xc,this),this.b=null,function(t){var e=ph(t).options.authDomain,n=ph(t).options.apiKey;e&&Mi()&&(t.Oa=t.$.then((function(){if(!t.l){if(t.b=$c(e,n,ph(t).name,t.P),Nc(t.b,t),vh(t)&&Al(vh(t)),t.m){Al(t.m);var i=t.m;i.wa(t.la()),wl(i,t),El(i=t.m,t.J),kl(i,t),ra((i=t.m).a,t.P),_l(i,t),t.m=null}return t.b}})))}(this),this.INTERNAL={},this.INTERNAL.delete=E(this.delete,this),this.INTERNAL.logFramework=E(this.Gc,this),this.u=0,kn.call(this),function(t){Object.defineProperty(t,"lc",{get:function(){return this.la()},set:function(t){this.wa(t)},enumerable:!1}),t.aa=null,Object.defineProperty(t,"ti",{get:function(){return this.T()},set:function(t){this.yb(t)},enumerable:!1}),t.S=null,Object.defineProperty(t,"emulatorConfig",{get:function(){if(this.P){var t=qn(this.P.url);t=Ji({protocol:t.c,host:t.a,port:t.g,options:Ji({disableWarnings:this.P.ec})})}else t=null;return t},enumerable:!1})}(this),this.J=[],this.P=null}function sh(t){Je.call(this,"languageCodeChanged"),this.h=t}function ah(t){Je.call(this,"emulatorConfigChanged"),this.c=t}function uh(t){Je.call(this,"frameworkChanged"),this.f=t}function ch(t){return t.Oa||De(new S("auth-domain-config-required"))}function lh(t){if(!Mi())return De(new S("operation-not-supported-in-this-environment"));var e=ch(t).then((function(){return t.b.qa()})).then((function(t){return t?Ji(t):null}));return yh(t,e)}function hh(t,e){var n={};return n.apiKey=ph(t).options.apiKey,n.authDomain=ph(t).options.authDomain,n.appName=ph(t).name,t.P&&(n.emulatorConfig=t.P),t.$.then((function(){return function(t,e,n,i){var r=new bl(t,e);return n&&(r.ha=n),i&&El(r,i),r.reload().then((function(){return r}))}(n,e,t.D,t.Ga())})).then((function(e){return vh(t)&&e.uid==vh(t).uid?(jl(vh(t),e),t.da(e)):(fh(t,e),Al(e),t.da(e))})).then((function(){mh(t)}))}function fh(t,e){vh(t)&&(function(t,e){X(t.S,(function(t){return t==e}))}(vh(t),t.Ba),pn(vh(t),"tokenChanged",t.ya),pn(vh(t),"userDeleted",t.za),pn(vh(t),"userInvalidated",t.Aa),Ol(vh(t))),e&&(e.S.push(t.Ba),hn(e,"tokenChanged",t.ya),hn(e,"userDeleted",t.za),hn(e,"userInvalidated",t.Aa),0<t.u&&Tl(e)),Yi(t,"currentUser",e),e&&(e.wa(t.la()),wl(e,t),El(e,t.J),kl(e,t),ra(e.a,t.P),_l(e,t))}function dh(t,e){var n=null,i=null;return yh(t,e.then((function(e){return n=Fo(e),i=Yr(e),hh(t,e)}),(function(e){var n=null;throw e&&"auth/multi-factor-auth-required"===e.code&&(n=ol(e.w(),t,E(t.kc,t))),n||e})).then((function(){return Ji({user:vh(t),credential:n,additionalUserInfo:i,operationType:"signIn"})})))}function ph(t){return t.app}function vh(t){return t.currentUser}function gh(t){return vh(t)&&vh(t)._lat||null}function mh(t){if(t.ba){for(var e=0;e<t.s.length;e++)t.s[e]&&t.s[e](gh(t));if(t.X!==t.getUid()&&t.O.length)for(t.X=t.getUid(),e=0;e<t.O.length;e++)t.O[e]&&t.O[e](gh(t))}}function yh(t,e){return t.R.push(e),e.oa((function(){Y(t.R,e)})),e}function bh(){}function wh(){this.a={},this.b=1e12}Xl.prototype.xb=function(t){var e=null,n=this;return function(t){var e=new S("invalid-persistence-type"),n=new S("unsupported-persistence-type");t:{for(i in Zu)if(Zu[i]==t){var i=!0;break t}i=!1}if(!i||"string"!=typeof t)throw e;switch(Ei()){case"ReactNative":if("session"===t)throw n;break;case"Node":if("none"!==t)throw n;break;case"Worker":if("session"===t||!Mu()&&"none"!==t)throw n;break;default:if(!Di()&&"none"!==t)throw n}}(t),rh(this,(function(){return t!=n.c.F?n.b.get(n.c,n.a).then((function(i){return e=i,Jl(n,t)})).then((function(){if(n.c=th(t),e)return n.b.set(n.c,e,n.a)})):xe()}))},T(oh,kn),T(sh,Je),T(ah,Je),T(uh,Je),(n=oh.prototype).xb=function(t){return yh(this,t=this.i.xb(t))},n.wa=function(t){this.aa===t||this.l||(this.aa=t,ia(this.a,this.aa),this.dispatchEvent(new sh(this.la())))},n.la=function(){return this.aa},n.fd=function(){var t=u.navigator;this.wa(t&&(t.languages&&t.languages[0]||t.language||t.userLanguage)||null)},n.gd=function(t,e){if(!this.P){if(!/^https?:\/\//.test(t))throw new S("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");(function(t){"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),u.document&&!t&&yi().then((function(){var t=u.document.createElement("div");t.innerText="Running in emulator mode. Do not use with production credentials.",t.style.position="fixed",t.style.width="100%",t.style.backgroundColor="#ffffff",t.style.border=".1em solid #000000",t.style.color="#ff0000",t.style.bottom="0px",t.style.left="0px",t.style.margin="0px",t.style.zIndex=1e4,t.style.textAlign="center",t.classList.add("firebase-emulator-warning"),u.document.body.appendChild(t)}))})(e=!!e&&!!e.disableWarnings),this.P={url:t,ec:e},this.settings.ib=!0,ra(this.a,this.P),this.dispatchEvent(new ah(this.P))}},n.Gc=function(t){this.J.push(t),sa(this.a,e.a.SDK_VERSION?Ci(e.a.SDK_VERSION,this.J):null),this.dispatchEvent(new uh(this.J))},n.Ga=function(){return Z(this.J)},n.yb=function(t){this.S===t||this.l||(this.S=t,this.a.b=this.S)},n.T=function(){return this.S},n.toJSON=function(){return{apiKey:ph(this).options.apiKey,authDomain:ph(this).options.authDomain,appName:ph(this).name,currentUser:vh(this)&&vh(this).w()}},n.Fb=function(t,e){switch(t){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==e&&!!this.f;default:return!1}},n.na=function(t,e,n,i){"signInViaPopup"==t&&this.g==i&&(n&&this.C?this.C(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},n.Fa=function(t,e){return"signInViaRedirect"==t||"signInViaPopup"==t&&this.g==e&&this.f?E(this.ic,this):null},n.ic=function(t,e,n,i){var r=this,o={requestUri:t,postBody:i,sessionId:e,tenantId:n};return this.c&&(this.c.cancel(),this.c=null),r.$.then((function(){return dh(r,wa(r.a,o))}))},n.Xc=function(t){if(!Mi())return De(new S("operation-not-supported-in-this-environment"));var n=this,i=Qr(t.providerId),r=Fi(),o=null;(!Pi()||wi())&&ph(this).options.authDomain&&t.isOAuthProvider&&(o=yu(ph(this).options.authDomain,ph(this).options.apiKey,ph(this).name,"signInViaPopup",t,null,r,e.a.SDK_VERSION||null,null,null,this.T(),this.P));var s=vi(o,i&&i.ua,i&&i.ta);return yh(this,i=ch(this).then((function(e){return Bc(e,s,"signInViaPopup",t,r,!!o,n.T())})).then((function(){return new ke((function(t,e){n.na("signInViaPopup",null,new S("cancelled-popup-request"),n.g),n.f=t,n.C=e,n.g=r,n.c=qc(n.b,n,"signInViaPopup",s,r)}))})).then((function(t){return s&&pi(s),t?Ji(t):null})).o((function(t){throw s&&pi(s),t})))},n.Yc=function(t){if(!Mi())return De(new S("operation-not-supported-in-this-environment"));var e=this;return yh(this,ch(this).then((function(){return function(t){return rh(t,(function(){return t.b.set(Zl,t.c.F,t.a)}))}(e.i)})).then((function(){return Vc(e.b,"signInViaRedirect",t,void 0,e.T())})))},n.qa=function(){var t=this;return lh(this).then((function(e){return t.b&&zc(t.b.b),e})).o((function(e){throw t.b&&zc(t.b.b),e}))},n.dd=function(t){if(!t)return De(new S("null-user"));if(this.S!=t.tenantId)return De(new S("tenant-id-mismatch"));var e=this,n={};n.apiKey=ph(this).options.apiKey,n.authDomain=ph(this).options.authDomain,n.appName=ph(this).name;var i=function(t,e,n,i){var r=t.b,o={};return o[Js]=r.b&&r.b.toString(),o.refreshToken=r.a,e=new bl(e||{apiKey:t.l,authDomain:t.s,appName:t.m},o),n&&(e.ha=n),i&&El(e,i),jl(e,t),e}(t,n,e.D,e.Ga());return yh(this,this.h.then((function(){if(ph(e).options.apiKey!=t.l)return i.reload()})).then((function(){return vh(e)&&t.uid==vh(e).uid?(jl(vh(e),t),e.da(t)):(fh(e,i),Al(i),e.da(i))})).then((function(){mh(e)})))},n.Ab=function(){var t=this;return yh(this,this.h.then((function(){return t.b&&zc(t.b.b),vh(t)?(fh(t,null),nh(t.i).then((function(){mh(t)}))):xe()})))},n.Zc=function(){var t=this;return ih(this.i,ph(this).options.authDomain).then((function(e){if(!t.l){var n;if(n=vh(t)&&e){n=vh(t).uid;var i=e.uid;n=null!=n&&""!==n&&null!=i&&""!==i&&n==i}if(n)return jl(vh(t),e),vh(t).I();(vh(t)||e)&&(fh(t,e),e&&(Al(e),e.ha=t.D),t.b&&Nc(t.b,t),mh(t))}}))},n.da=function(t){return eh(this.i,t)},n.mc=function(){mh(this),this.da(vh(this))},n.wc=function(){this.Ab()},n.xc=function(){this.Ab()},n.kc=function(t){var e=this;return this.h.then((function(){return dh(e,xe(t))}))},n.zc=function(t){var e=this;this.addAuthTokenListener((function(){t.next(vh(e))}))},n.Ac=function(t){var e=this;!function(t,e){t.O.push(e),yh(t,t.h.then((function(){!t.l&&Q(t.O,e)&&t.X!==t.getUid()&&(t.X=t.getUid(),e(gh(t)))})))}(this,(function(){t.next(vh(e))}))},n.Ic=function(t,e,n){var i=this;return this.ba&&Promise.resolve().then((function(){"function"==typeof t?t(vh(i)):"function"==typeof t.next&&t.next(vh(i))})),this.hb(t,e,n)},n.Hc=function(t,e,n){var i=this;return this.ba&&Promise.resolve().then((function(){i.X=i.getUid(),"function"==typeof t?t(vh(i)):"function"==typeof t.next&&t.next(vh(i))})),this.bc(t,e,n)},n.nc=function(t){var e=this;return yh(this,this.h.then((function(){return vh(e)?vh(e).I(t).then((function(t){return{accessToken:t}})):null})))},n.Tc=function(t){var e=this;return this.h.then((function(){return dh(e,iu(e.a,Xa,{token:t}))})).then((function(t){var n=t.user;return Rl(n,"isAnonymous",!1),e.da(n),t}))},n.Uc=function(t,e){var n=this;return this.h.then((function(){return dh(n,iu(n.a,Ja,{email:t,password:e}))}))},n.dc=function(t,e){var n=this;return this.h.then((function(){return dh(n,iu(n.a,Oa,{email:t,password:e}))}))},n.$a=function(t){var e=this;return this.h.then((function(){return dh(e,t.ka(e.a))}))},n.Sc=function(t){return Gi("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.$a(t)},n.zb=function(){var t=this;return this.h.then((function(){var e=vh(t);if(e&&e.isAnonymous){var n=Ji({providerId:null,isNewUser:!1});return Ji({user:e,credential:null,additionalUserInfo:n,operationType:"signIn"})}return dh(t,t.a.zb()).then((function(e){var n=e.user;return Rl(n,"isAnonymous",!0),t.da(n),e}))}))},n.getUid=function(){return vh(this)&&vh(this).uid||null},n.cc=function(t){this.addAuthTokenListener(t),this.u++,0<this.u&&vh(this)&&Tl(vh(this))},n.Pc=function(t){var e=this;W(this.s,(function(n){n==t&&e.u--})),0>this.u&&(this.u=0),0==this.u&&vh(this)&&Ol(vh(this)),this.removeAuthTokenListener(t)},n.addAuthTokenListener=function(t){var e=this;this.s.push(t),yh(this,this.h.then((function(){e.l||Q(e.s,t)&&t(gh(e))})))},n.removeAuthTokenListener=function(t){X(this.s,(function(e){return e==t}))},n.delete=function(){this.l=!0;for(var t=0;t<this.R.length;t++)this.R[t].cancel("app-deleted");return this.R=[],this.i&&(t=this.i).b.removeListener(th("local"),t.a,this.ja),this.b&&(Pc(this.b,this),zc(this.b.b)),Promise.resolve()},n.hc=function(t){return yh(this,function(t,e){return iu(t,Sa,{identifier:e,continueUri:Li()?hi():"http://localhost"}).then((function(t){return t.signinMethods||[]}))}(this.a,t))},n.Bc=function(t){return!!Lo(t)},n.wb=function(t,e){var n=this;return yh(this,xe().then((function(){var t=new xr(e);if(!t.c)throw new S("argument-error",Lr+" must be true when sending sign in link to email");return Vr(t)})).then((function(e){return n.a.wb(t,e)})).then((function(){})))},n.jd=function(t){return this.Ra(t).then((function(t){return t.data.email}))},n.nb=function(t,e){return yh(this,this.a.nb(t,e).then((function(){})))},n.Ra=function(t){return yh(this,this.a.Ra(t).then((function(t){return new ar(t)})))},n.jb=function(t){return yh(this,this.a.jb(t).then((function(){})))},n.vb=function(t,e){var n=this;return yh(this,xe().then((function(){return void 0===e||vt(e)?{}:Vr(new xr(e))})).then((function(e){return n.a.vb(t,e)})).then((function(){})))},n.Wc=function(t,e){return yh(this,Zc(this,t,e,E(this.$a,this)))},n.Vc=function(t,e){var n=this;return yh(this,xe().then((function(){var i=e||hi(),r=Mo(t,i);if(!(i=Lo(i)))throw new S("argument-error","Invalid email link!");if(i.tenantId!==n.T())throw new S("tenant-id-mismatch");return n.$a(r)})))},bh.prototype.render=function(){},bh.prototype.reset=function(){},bh.prototype.getResponse=function(){},bh.prototype.execute=function(){};var _h=null;function Eh(t,e){return(e=kh(e))&&t.a[e]||null}function kh(t){return(t=void 0===t?1e12:t)?t.toString():null}function Ih(t,e){this.g=!1,this.c=e,this.a=this.b=null,this.h="invisible"!==this.c.size,this.f=he(t);var n=this;this.i=function(){n.execute()},this.h?this.execute():hn(this.f,"click",this.i)}function Th(t){if(t.g)throw Error("reCAPTCHA mock was already deleted!")}function Oh(){}function Sh(){}wh.prototype.render=function(t,e){return this.a[this.b.toString()]=new Ih(t,e),this.b++},wh.prototype.reset=function(t){var e=Eh(this,t);t=kh(t),e&&t&&(e.delete(),delete this.a[t])},wh.prototype.getResponse=function(t){return(t=Eh(this,t))?t.getResponse():null},wh.prototype.execute=function(t){(t=Eh(this,t))&&t.execute()},Ih.prototype.getResponse=function(){return Th(this),this.b},Ih.prototype.execute=function(){Th(this);var t=this;this.a||(this.a=setTimeout((function(){t.b=function(){for(var t=50,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}();var e=t.c.callback,n=t.c["expired-callback"];if(e)try{e(t.b)}catch(t){}t.a=setTimeout((function(){if(t.a=null,t.b=null,n)try{n()}catch(t){}t.h&&t.execute()}),6e4)}),500))},Ih.prototype.delete=function(){Th(this),this.g=!0,clearTimeout(this.a),this.a=null,pn(this.f,"click",this.i)},Yi(Oh,"FACTOR_ID","phone"),Sh.prototype.g=function(){return _h||(_h=new wh),xe(_h)},Sh.prototype.c=function(){};var Ch=null;function Ah(){this.b=u.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var xh=new wt(It,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),Dh=new Ui(3e4,6e4);Ah.prototype.g=function(t){var e=this;return new ke((function(n,i){var r=setTimeout((function(){i(new S("network-request-failed"))}),Dh.get());!u.grecaptcha||t!==e.f&&!e.b?(u[e.a]=function(){if(u.grecaptcha){e.f=t;var o=u.grecaptcha.render;u.grecaptcha.render=function(t,n){return t=o(t,n),e.b++,t},clearTimeout(r),n(u.grecaptcha)}else clearTimeout(r),i(new S("internal-error"));delete u[e.a]},xe(Hs(Ct(xh,{onload:e.a,hl:t||""}))).o((function(){clearTimeout(r),i(new S("internal-error","Unable to load external reCAPTCHA dependencies!"))}))):(clearTimeout(r),n(u.grecaptcha))}))},Ah.prototype.c=function(){this.b--};var Mh=null;function Lh(t,e,n,i,r,o,s){if(Yi(this,"type","recaptcha"),this.c=this.f=null,this.D=!1,this.v=e,this.g=null,s?(Ch||(Ch=new Sh),s=Ch):(Mh||(Mh=new Ah),s=Mh),this.m=s,this.a=n||{theme:"light",type:"image"},this.h=[],this.a[Rh])throw new S("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i="invisible"===this.a[jh],!u.document)throw new S("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!he(e)||!this.i&&he(e).hasChildNodes())throw new S("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new Ys(t,o||null,r||null),this.u=i||function(){return null};var a=this;this.l=[];var c=this.a[Nh];this.a[Nh]=function(t){if(Bh(a,t),"function"==typeof c)c(t);else if("string"==typeof c){var e=xi(c,u);"function"==typeof e&&e(t)}};var l=this.a[Ph];this.a[Ph]=function(){if(Bh(a,null),"function"==typeof l)l();else if("string"==typeof l){var t=xi(l,u);"function"==typeof t&&t()}}}var Nh="callback",Ph="expired-callback",Rh="sitekey",jh="size";function Bh(t,e){for(var n=0;n<t.l.length;n++)try{t.l[n](e)}catch(t){}}function Fh(t,e){return t.h.push(e),e.oa((function(){Y(t.h,e)})),e}function Vh(t){if(t.D)throw new S("internal-error","RecaptchaVerifier instance has been destroyed.")}function qh(t,n,i){var r=!1;try{this.b=i||e.a.app()}catch(t){throw new S("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.b.options||!this.b.options.apiKey)throw new S("invalid-api-key");i=this.b.options.apiKey;var o=this,s=null;try{s=this.b.auth().Ga()}catch(t){}try{r=this.b.auth().settings.appVerificationDisabledForTesting}catch(t){}s=e.a.SDK_VERSION?Ci(e.a.SDK_VERSION,s):null,Lh.call(this,i,t,n,(function(){try{var t=o.b.auth().la()}catch(e){t=null}return t}),s,L(A),r)}function Uh(t,e,n,i){t:{n=Array.prototype.slice.call(n);for(var r=0,o=!1,s=0;s<e.length;s++)if(e[s].optional)o=!0;else{if(o)throw new S("internal-error","Argument validator encountered a required argument after an optional argument.");r++}if(o=e.length,n.length<r||o<n.length)i="Expected "+(r==o?1==r?"1 argument":r+" arguments":r+"-"+o+" arguments")+" but got "+n.length+".";else{for(r=0;r<n.length;r++)if(o=e[r].optional&&void 0===n[r],!e[r].M(n[r])&&!o){if(e=e[r],0>r||r>=Hh.length)throw new S("internal-error","Argument validator received an unsupported number of arguments.");n=Hh[r],i=(i?"":n+" argument ")+(e.name?'"'+e.name+'" ':"")+"must be "+e.K+".";break t}i=null}}if(i)throw new S("argument-error",t+" failed: "+i)}(n=Lh.prototype).Ia=function(){var t=this;return this.f?this.f:this.f=Fh(this,xe().then((function(){if(Li()&&!_i())return yi();throw new S("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")})).then((function(){return t.m.g(t.u())})).then((function(e){return t.g=e,iu(t.s,Va,{})})).then((function(e){t.a[Rh]=e.recaptchaSiteKey})).o((function(e){throw t.f=null,e})))},n.render=function(){Vh(this);var t=this;return Fh(this,this.Ia().then((function(){if(null===t.c){var e=t.v;if(!t.i){var n=he(e);e=function(t,e,n){var i=arguments,r=document,o=String(i[0]),s=i[1];if(!le&&s&&(s.name||s.type)){if(o=["<",o],s.name&&o.push(' name="',Wt(s.name),'"'),s.type){o.push(' type="',Wt(s.type),'"');var a={};yt(a,s),delete a.type,s=a}o.push(">"),o=o.join("")}return o=me(r,o),s&&("string"==typeof s?o.className=s:Array.isArray(s)?o.className=s.join(" "):fe(o,s)),2<i.length&&ge(r,o,i),o}("DIV"),n.appendChild(e)}t.c=t.g.render(e,t.a)}return t.c})))},n.verify=function(){Vh(this);var t=this;return Fh(this,this.render().then((function(e){return new ke((function(n){var i=t.g.getResponse(e);if(i)n(i);else{var r=function(e){e&&(function(t,e){X(t.l,(function(t){return t==e}))}(t,r),n(e))};t.l.push(r),t.i&&t.g.execute(t.c)}}))})))},n.reset=function(){Vh(this),null!==this.c&&this.g.reset(this.c)},n.clear=function(){Vh(this),this.D=!0,this.m.c();for(var t=0;t<this.h.length;t++)this.h[t].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){t=he(this.v);for(var e;e=t.firstChild;)t.removeChild(e)}},T(qh,Lh);var Hh="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function $h(t,e){return{name:t||"",K:"a valid string",optional:!!e,M:function(t){return"string"==typeof t}}}function Wh(t,e){return{name:t||"",K:"a boolean",optional:!!e,M:function(t){return"boolean"==typeof t}}}function Kh(t,e){return{name:t||"",K:"a valid object",optional:!!e,M:g}}function zh(t,e){return{name:t||"",K:"a function",optional:!!e,M:function(t){return"function"==typeof t}}}function Gh(t,e){return{name:t||"",K:"null",optional:!!e,M:function(t){return null===t}}}function Qh(t){return{name:t?t+"Credential":"credential",K:t?"a valid "+t+" credential":"a valid credential",optional:!1,M:function(e){if(!e)return!1;var n=!t||e.providerId===t;return!(!e.ka||!n)}}}function Yh(t,e){return g(t)&&"string"==typeof t.type&&t.type===e&&"function"==typeof t.Ha}function Xh(t){return g(t)&&"string"==typeof t.uid}function Jh(t,e,n,i){return{name:n||"",K:t.K+" or "+e.K,optional:!!i,M:function(n){return t.M(n)||e.M(n)}}}function Zh(t,e){for(var n in e){var i=e[n].name;t[i]=nf(i,t[n],e[n].j)}}function tf(t,e){for(var n in e){var i=e[n].name;i!==n&&Object.defineProperty(t,i,{get:k((function(t){return this[t]}),n),set:k((function(t,e,n,i){Uh(t,[n],[i],!0),this[e]=i}),i,n,e[n].kb),enumerable:!0})}}function ef(t,e,n,i){t[e]=nf(e,n,i)}function nf(t,e,n){function i(){var t=Array.prototype.slice.call(arguments);return Uh(o,n,t),e.apply(this,t)}if(!n)return e;var r,o=function(t){return(t=t.split("."))[t.length-1]}(t);for(r in e)i[r]=e[r];for(r in e.prototype)i.prototype[r]=e.prototype[r];return i}Zh(oh.prototype,{jb:{name:"applyActionCode",j:[$h("code")]},Ra:{name:"checkActionCode",j:[$h("code")]},nb:{name:"confirmPasswordReset",j:[$h("code"),$h("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[$h("email"),$h("password")]},hc:{name:"fetchSignInMethodsForEmail",j:[$h("email")]},qa:{name:"getRedirectResult",j:[]},Bc:{name:"isSignInWithEmailLink",j:[$h("emailLink")]},Hc:{name:"onAuthStateChanged",j:[Jh(Kh(),zh(),"nextOrObserver"),zh("opt_error",!0),zh("opt_completed",!0)]},Ic:{name:"onIdTokenChanged",j:[Jh(Kh(),zh(),"nextOrObserver"),zh("opt_error",!0),zh("opt_completed",!0)]},vb:{name:"sendPasswordResetEmail",j:[$h("email"),Jh(Kh("opt_actionCodeSettings",!0),Gh(null,!0),"opt_actionCodeSettings",!0)]},wb:{name:"sendSignInLinkToEmail",j:[$h("email"),Kh("actionCodeSettings")]},xb:{name:"setPersistence",j:[$h("persistence")]},Sc:{name:"signInAndRetrieveDataWithCredential",j:[Qh()]},zb:{name:"signInAnonymously",j:[]},$a:{name:"signInWithCredential",j:[Qh()]},Tc:{name:"signInWithCustomToken",j:[$h("token")]},Uc:{name:"signInWithEmailAndPassword",j:[$h("email"),$h("password")]},Vc:{name:"signInWithEmailLink",j:[$h("email"),$h("emailLink",!0)]},Wc:{name:"signInWithPhoneNumber",j:[$h("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]},Xc:{name:"signInWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Yc:{name:"signInWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},dd:{name:"updateCurrentUser",j:[Jh({name:"user",K:"an instance of Firebase User",optional:!1,M:function(t){return!!(t&&t instanceof bl)}},Gh(),"user")]},Ab:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[$h(null,!0)]},fd:{name:"useDeviceLanguage",j:[]},gd:{name:"useEmulator",j:[$h("url"),Kh("options",!0)]},jd:{name:"verifyPasswordResetCode",j:[$h("code")]}}),tf(oh.prototype,{lc:{name:"languageCode",kb:Jh($h(),Gh(),"languageCode")},ti:{name:"tenantId",kb:Jh($h(),Gh(),"tenantId")}}),oh.Persistence=Zu,oh.Persistence.LOCAL="local",oh.Persistence.SESSION="session",oh.Persistence.NONE="none",Zh(bl.prototype,{delete:{name:"delete",j:[]},oc:{name:"getIdTokenResult",j:[Wh("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[Wh("opt_forceRefresh",!0)]},Cc:{name:"linkAndRetrieveDataWithCredential",j:[Qh()]},qb:{name:"linkWithCredential",j:[Qh()]},Dc:{name:"linkWithPhoneNumber",j:[$h("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]},Ec:{name:"linkWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Fc:{name:"linkWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Lc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[Qh()]},tb:{name:"reauthenticateWithCredential",j:[Qh()]},Mc:{name:"reauthenticateWithPhoneNumber",j:[$h("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]},Nc:{name:"reauthenticateWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Oc:{name:"reauthenticateWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},reload:{name:"reload",j:[]},ub:{name:"sendEmailVerification",j:[Jh(Kh("opt_actionCodeSettings",!0),Gh(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[$h(null,!0)]},cd:{name:"unlink",j:[$h("provider")]},Bb:{name:"updateEmail",j:[$h("email")]},Cb:{name:"updatePassword",j:[$h("password")]},ed:{name:"updatePhoneNumber",j:[Qh("phone")]},Db:{name:"updateProfile",j:[Kh("profile")]},Eb:{name:"verifyBeforeUpdateEmail",j:[$h("email"),Jh(Kh("opt_actionCodeSettings",!0),Gh(null,!0),"opt_actionCodeSettings",!0)]}}),Zh(wh.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Zh(bh.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Zh(ke.prototype,{oa:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),tf(Xc.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",kb:Wh("appVerificationDisabledForTesting")}}),Zh(Jc.prototype,{confirm:{name:"confirm",j:[$h("verificationCode")]}}),ef(co,"fromJSON",(function(t){t="string"==typeof t?JSON.parse(t):t;for(var e,n=[mo,xo,Po,po],i=0;i<n.length;i++)if(e=n[i](t))return e;return null}),[Jh($h(),Kh(),"json")]),ef(Do,"credential",(function(t,e){return new Ao(t,e)}),[$h("email"),$h("password")]),Zh(Ao.prototype,{w:{name:"toJSON",j:[$h(null,!0)]}}),Zh(_o.prototype,{Ca:{name:"addScope",j:[$h("scope")]},Ka:{name:"setCustomParameters",j:[Kh("customOAuthParameters")]}}),ef(_o,"credential",Eo,[Jh($h(),Kh(),"token")]),ef(Do,"credentialWithLink",Mo,[$h("email"),$h("emailLink")]),Zh(ko.prototype,{Ca:{name:"addScope",j:[$h("scope")]},Ka:{name:"setCustomParameters",j:[Kh("customOAuthParameters")]}}),ef(ko,"credential",Io,[Jh($h(),Kh(),"token")]),Zh(To.prototype,{Ca:{name:"addScope",j:[$h("scope")]},Ka:{name:"setCustomParameters",j:[Kh("customOAuthParameters")]}}),ef(To,"credential",Oo,[Jh($h(),Jh(Kh(),Gh()),"idToken"),Jh($h(),Gh(),"accessToken",!0)]),Zh(So.prototype,{Ka:{name:"setCustomParameters",j:[Kh("customOAuthParameters")]}}),ef(So,"credential",Co,[Jh($h(),Kh(),"token"),$h("secret",!0)]),Zh(wo.prototype,{Ca:{name:"addScope",j:[$h("scope")]},credential:{name:"credential",j:[Jh($h(),Jh(Kh(),Gh()),"optionsOrIdToken"),Jh($h(),Gh(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[Kh("customOAuthParameters")]}}),Zh(vo.prototype,{w:{name:"toJSON",j:[$h(null,!0)]}}),Zh(ho.prototype,{w:{name:"toJSON",j:[$h(null,!0)]}}),ef(jo,"credential",Bo,[$h("verificationId"),$h("verificationCode")]),Zh(jo.prototype,{fb:{name:"verifyPhoneNumber",j:[Jh($h(),{name:"phoneInfoOptions",K:"valid phone info options",optional:!1,M:function(t){return!!t&&(t.session&&t.phoneNumber?Yh(t.session,ao)&&"string"==typeof t.phoneNumber:t.session&&t.multiFactorHint?Yh(t.session,uo)&&Xh(t.multiFactorHint):t.session&&t.multiFactorUid?Yh(t.session,uo)&&"string"==typeof t.multiFactorUid:!!t.phoneNumber&&"string"==typeof t.phoneNumber)}},"phoneInfoOptions"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]}}),Zh(No.prototype,{w:{name:"toJSON",j:[$h(null,!0)]}}),Zh(S.prototype,{toJSON:{name:"toJSON",j:[$h(null,!0)]}}),Zh(zo.prototype,{toJSON:{name:"toJSON",j:[$h(null,!0)]}}),Zh(Ko.prototype,{toJSON:{name:"toJSON",j:[$h(null,!0)]}}),Zh(rl.prototype,{toJSON:{name:"toJSON",j:[$h(null,!0)]}}),Zh(el.prototype,{Rc:{name:"resolveSignIn",j:[{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(t){return!!t&&!!t.sb}}]}}),Zh(ll.prototype,{Rb:{name:"getSession",j:[]},fc:{name:"enroll",j:[{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(t){return!!t&&!!t.sb}},$h("displayName",!0)]},bd:{name:"unenroll",j:[Jh({name:"multiFactorInfo",K:"a valid multiFactorInfo",optional:!1,M:Xh},$h(),"multiFactorInfoIdentifier")]}}),Zh(qh.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),ef(_r,"parseLink",Ar,[$h("link")]),ef(Oh,"assertion",(function(t){return new ul(t)}),[Qh("phone")]),function(){if(void 0===e.a||!e.a.INTERNAL||!e.a.INTERNAL.registerComponent)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var t={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:cr,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:ur,VERIFY_AND_CHANGE_EMAIL:lr,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:oh,AuthCredential:co,Error:S};ef(t,"EmailAuthProvider",Do,[]),ef(t,"FacebookAuthProvider",_o,[]),ef(t,"GithubAuthProvider",ko,[]),ef(t,"GoogleAuthProvider",To,[]),ef(t,"TwitterAuthProvider",So,[]),ef(t,"OAuthProvider",wo,[$h("providerId")]),ef(t,"SAMLAuthProvider",bo,[$h("providerId")]),ef(t,"PhoneAuthProvider",jo,[{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(t){return!!(t&&t instanceof oh)}}]),ef(t,"RecaptchaVerifier",qh,[Jh($h(),{name:"",K:"an HTML element",optional:!1,M:function(t){return!!(t&&t instanceof Element)}},"recaptchaContainer"),Kh("recaptchaParameters",!0),{name:"app",K:"an instance of Firebase App",optional:!0,M:function(t){return!!(t&&t instanceof e.a.app.App)}}]),ef(t,"ActionCodeURL",_r,[]),ef(t,"PhoneMultiFactorGenerator",Oh,[]),e.a.INTERNAL.registerComponent({name:"auth",instanceFactory:function(t){return new oh(t=t.getProvider("app").getImmediate())},multipleInstances:!1,serviceProps:t,instantiationMode:"LAZY",type:"PUBLIC"}),e.a.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(t){return{getUid:E((t=t.getProvider("auth").getImmediate()).getUid,t),getToken:E(t.nc,t),addAuthTokenListener:E(t.cc,t),removeAuthTokenListener:E(t.Pc,t)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),e.a.registerVersion("@firebase/auth","0.16.4"),e.a.INTERNAL.extendNamespace({User:bl})}()}).apply(void 0!==t?t:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})}).call(this,n("pCvA"))},"awo+":function(t,e,n){(function(n){var i,r=function t(e,n,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,i)}if("value"in r)return r.value;var s=r.get;return void 0!==s?s.call(i):void 0},o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();
/*!
 * Materialize v1.0.0 (http://materializecss.com)
 * Copyright 2014-2017 Materialize
 * MIT License (https://raw.githubusercontent.com/Dogfalo/materialize/master/LICENSE)
 */function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}window.cash=function(){var t,e=document,n=window,i=Array.prototype,r=i.slice,o=i.filter,s=i.push,a=function(){},u=function(t){return typeof t==typeof a&&t.call},c=function(t){return"string"==typeof t},l=/^#[\w-]*$/,h=/^\.[\w-]*$/,f=/<.+>/,d=/^\w+$/;function p(t,n){return n=n||e,h.test(t)?n.getElementsByClassName(t.slice(1)):d.test(t)?n.getElementsByTagName(t):n.querySelectorAll(t)}function v(n){if(!t){var i=(t=e.implementation.createHTMLDocument(null)).createElement("base");i.href=e.location.href,t.head.appendChild(i)}return t.body.innerHTML=n,t.body.childNodes}function g(t){"loading"!==e.readyState?t():e.addEventListener("DOMContentLoaded",t)}function m(t,i){if(!t)return this;if(t.cash&&t!==n)return t;var r,o=t,s=0;if(c(t))o=l.test(t)?e.getElementById(t.slice(1)):f.test(t)?v(t):p(t,i);else if(u(t))return g(t),this;if(!o)return this;if(o.nodeType||o===n)this[0]=o,this.length=1;else for(r=this.length=o.length;s<r;s++)this[s]=o[s];return this}function y(t,e){return new m(t,e)}var b=y.fn=y.prototype=m.prototype={cash:!0,length:0,push:s,splice:i.splice,map:i.map,init:m};function w(t,e){for(var n=t.length,i=0;i<n&&!1!==e.call(t[i],t[i],i,t);i++);}function _(t,e){var n=t&&(t.matches||t.webkitMatchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector);return!!n&&n.call(t,e)}function E(t){return c(t)?_:t.cash?function(e){return t.is(e)}:function(t,e){return t===e}}function k(t){return y(r.call(t).filter((function(t,e,n){return n.indexOf(t)===e})))}Object.defineProperty(b,"constructor",{value:y}),y.parseHTML=v,y.noop=a,y.isFunction=u,y.isString=c,y.extend=b.extend=function(t){t=t||{};var e=r.call(arguments),n=e.length,i=1;for(1===e.length&&(t=this,i=0);i<n;i++)if(e[i])for(var o in e[i])e[i].hasOwnProperty(o)&&(t[o]=e[i][o]);return t},y.extend({merge:function(t,e){for(var n=+e.length,i=t.length,r=0;r<n;i++,r++)t[i]=e[r];return t.length=i,t},each:w,matches:_,unique:k,isArray:Array.isArray,isNumeric:function(t){return!isNaN(parseFloat(t))&&isFinite(t)}});var I=y.uid="_cash"+Date.now();function T(t){return t[I]=t[I]||{}}function O(t,e,n){return T(t)[e]=n}function S(t,e){var n=T(t);return void 0===n[e]&&(n[e]=t.dataset?t.dataset[e]:y(t).attr("data-"+e)),n[e]}b.extend({data:function(t,e){if(c(t))return void 0===e?S(this[0],t):this.each((function(n){return O(n,t,e)}));for(var n in t)this.data(n,t[n]);return this},removeData:function(t){return this.each((function(e){return i=t,void((r=T(n=e))?delete r[i]:n.dataset?delete n.dataset[i]:y(n).removeAttr("data-"+name));var n,i,r}))}});var C=/\S+/g;function A(t){return c(t)&&t.match(C)}function x(t,e){return t.classList?t.classList.contains(e):new RegExp("(^| )"+e+"( |$)","gi").test(t.className)}function D(t,e,n){t.classList?t.classList.add(e):n.indexOf(" "+e+" ")&&(t.className+=" "+e)}function M(t,e){t.classList?t.classList.remove(e):t.className=t.className.replace(e,"")}b.extend({addClass:function(t){var e=A(t);return e?this.each((function(t){var n=" "+t.className+" ";w(e,(function(e){D(t,e,n)}))})):this},attr:function(t,e){if(t){if(c(t))return void 0===e?this[0]?this[0].getAttribute?this[0].getAttribute(t):this[0][t]:void 0:this.each((function(n){n.setAttribute?n.setAttribute(t,e):n[t]=e}));for(var n in t)this.attr(n,t[n]);return this}},hasClass:function(t){var e=!1,n=A(t);return n&&n.length&&this.each((function(t){return!(e=x(t,n[0]))})),e},prop:function(t,e){if(c(t))return void 0===e?this[0][t]:this.each((function(n){n[t]=e}));for(var n in t)this.prop(n,t[n]);return this},removeAttr:function(t){return this.each((function(e){e.removeAttribute?e.removeAttribute(t):delete e[t]}))},removeClass:function(t){if(!arguments.length)return this.attr("class","");var e=A(t);return e?this.each((function(t){w(e,(function(e){M(t,e)}))})):this},removeProp:function(t){return this.each((function(e){delete e[t]}))},toggleClass:function(t,e){if(void 0!==e)return this[e?"addClass":"removeClass"](t);var n=A(t);return n?this.each((function(t){var e=" "+t.className+" ";w(n,(function(n){x(t,n)?M(t,n):D(t,n,e)}))})):this}}),b.extend({add:function(t,e){return k(y.merge(this,y(t,e)))},each:function(t){return w(this,t),this},eq:function(t){return y(this.get(t))},filter:function(t){if(!t)return this;var e=u(t)?t:E(t);return y(o.call(this,(function(n){return e(n,t)})))},first:function(){return this.eq(0)},get:function(t){return void 0===t?r.call(this):t<0?this[t+this.length]:this[t]},index:function(t){var e=t?y(t)[0]:this[0],n=t?this:y(e).parent().children();return r.call(n).indexOf(e)},last:function(){return this.eq(-1)}});var L,N,P,R,j,B=(R=/(?:^\w|[A-Z]|\b\w)/g,j=/[\s-_]+/g,function(t){return t.replace(R,(function(t,e){return t[0===e?"toLowerCase":"toUpperCase"]()})).replace(j,"")}),F=(L={},N=document.createElement("div"),P=N.style,function(t){if(t=B(t),L[t])return L[t];var e=t.charAt(0).toUpperCase()+t.slice(1);return w((t+" "+["webkit","moz","ms","o"].join(e+" ")+e).split(" "),(function(e){if(e in P)return L[e]=t=L[t]=e,!1})),L[t]});function V(t,e){return parseInt(n.getComputedStyle(t[0],null)[e],10)||0}function q(t,e,n){var i,r=S(t,"_cashEvents"),o=r&&r[e];o&&(n?(t.removeEventListener(e,n),0<=(i=o.indexOf(n))&&o.splice(i,1)):(w(o,(function(n){t.removeEventListener(e,n)})),o=[]))}function U(t,e){return"&"+encodeURIComponent(t)+"="+encodeURIComponent(e).replace(/%20/g,"+")}function H(t){var e,n,i,r=t.type;if(!r)return null;switch(r.toLowerCase()){case"select-one":return 0<=(i=(n=t).selectedIndex)?n.options[i].value:null;case"select-multiple":return e=[],w(t.options,(function(t){t.selected&&e.push(t.value)})),e.length?e:null;case"radio":case"checkbox":return t.checked?t.value:null;default:return t.value?t.value:null}}function $(t,e,n){var i=c(e);i||!e.length?w(t,i?function(t){return t.insertAdjacentHTML(n?"afterbegin":"beforeend",e)}:function(t,i){return function(t,e,n){if(n){var i=t.childNodes[0];t.insertBefore(e,i)}else t.appendChild(e)}(t,0===i?e:e.cloneNode(!0),n)}):w(e,(function(e){return $(t,e,n)}))}y.prefixedProp=F,y.camelCase=B,b.extend({css:function(t,e){if(c(t))return t=F(t),1<arguments.length?this.each((function(n){return n.style[t]=e})):n.getComputedStyle(this[0])[t];for(var i in t)this.css(i,t[i]);return this}}),w(["Width","Height"],(function(t){var e=t.toLowerCase();b[e]=function(){return this[0].getBoundingClientRect()[e]},b["inner"+t]=function(){return this[0]["client"+t]},b["outer"+t]=function(e){return this[0]["offset"+t]+(e?V(this,"margin"+("Width"===t?"Left":"Top"))+V(this,"margin"+("Width"===t?"Right":"Bottom")):0)}})),b.extend({off:function(t,e){return this.each((function(n){return q(n,t,e)}))},on:function(t,e,n,i){var r;if(!c(t)){for(var o in t)this.on(o,e,t[o]);return this}return u(e)&&(n=e,e=null),"ready"===t?(g(n),this):(e&&(r=n,n=function(t){for(var n=t.target;!_(n,e);){if(n===this||null===n)return!1;n=n.parentNode}n&&r.call(n,t)}),this.each((function(e){var r,o,s,a,u=n;i&&(u=function(){n.apply(this,arguments),q(e,t,u)}),o=t,s=u,(a=S(r=e,"_cashEvents")||O(r,"_cashEvents",{}))[o]=a[o]||[],a[o].push(s),r.addEventListener(o,s)})))},one:function(t,e,n){return this.on(t,e,n,!0)},ready:g,trigger:function(t,e){if(document.createEvent){var n=document.createEvent("HTMLEvents");return n.initEvent(t,!0,!1),n=this.extend(n,e),this.each((function(t){return t.dispatchEvent(n)}))}}}),b.extend({serialize:function(){var t="";return w(this[0].elements||this,(function(e){if(!e.disabled&&"FIELDSET"!==e.tagName){var n=e.name;switch(e.type.toLowerCase()){case"file":case"reset":case"submit":case"button":break;case"select-multiple":var i=H(e);null!==i&&w(i,(function(e){t+=U(n,e)}));break;default:var r=H(e);null!==r&&(t+=U(n,r))}}})),t.substr(1)},val:function(t){return void 0===t?H(this[0]):this.each((function(e){return e.value=t}))}}),b.extend({after:function(t){return y(t).insertAfter(this),this},append:function(t){return $(this,t),this},appendTo:function(t){return $(y(t),this),this},before:function(t){return y(t).insertBefore(this),this},clone:function(){return y(this.map((function(t){return t.cloneNode(!0)})))},empty:function(){return this.html(""),this},html:function(t){if(void 0===t)return this[0].innerHTML;var e=t.nodeType?t[0].outerHTML:t;return this.each((function(t){return t.innerHTML=e}))},insertAfter:function(t){var e=this;return y(t).each((function(t,n){var i=t.parentNode,r=t.nextSibling;e.each((function(t){i.insertBefore(0===n?t:t.cloneNode(!0),r)}))})),this},insertBefore:function(t){var e=this;return y(t).each((function(t,n){var i=t.parentNode;e.each((function(e){i.insertBefore(0===n?e:e.cloneNode(!0),t)}))})),this},prepend:function(t){return $(this,t,!0),this},prependTo:function(t){return $(y(t),this,!0),this},remove:function(){return this.each((function(t){if(t.parentNode)return t.parentNode.removeChild(t)}))},text:function(t){return void 0===t?this[0].textContent:this.each((function(e){return e.textContent=t}))}});var W=e.documentElement;return b.extend({position:function(){var t=this[0];return{left:t.offsetLeft,top:t.offsetTop}},offset:function(){var t=this[0].getBoundingClientRect();return{top:t.top+n.pageYOffset-W.clientTop,left:t.left+n.pageXOffset-W.clientLeft}},offsetParent:function(){return y(this[0].offsetParent)}}),b.extend({children:function(t){var e=[];return this.each((function(t){s.apply(e,t.children)})),e=k(e),t?e.filter((function(e){return _(e,t)})):e},closest:function(t){return!t||this.length<1?y():this.is(t)?this.filter(t):this.parent().closest(t)},is:function(t){if(!t)return!1;var e=!1,n=E(t);return this.each((function(i){return!(e=n(i,t))})),e},find:function(t){if(!t||t.nodeType)return y(t&&this.has(t).length?t:null);var e=[];return this.each((function(n){s.apply(e,p(t,n))})),k(e)},has:function(t){var e=c(t)?function(e){return 0!==p(t,e).length}:function(e){return e.contains(t)};return this.filter(e)},next:function(){return y(this[0].nextElementSibling)},not:function(t){if(!t)return this;var e=E(t);return this.filter((function(n){return!e(n,t)}))},parent:function(){var t=[];return this.each((function(e){e&&e.parentNode&&t.push(e.parentNode)})),k(t)},parents:function(t){var n,i=[];return this.each((function(r){for(n=r;n&&n.parentNode&&n!==e.body.parentNode;)n=n.parentNode,(!t||t&&_(n,t))&&i.push(n)})),k(i)},prev:function(){return y(this[0].previousElementSibling)},siblings:function(t){var e=this.parent().children(t),n=this[0];return e.filter((function(t){return t!==n}))}}),y}();var c,l=function(){function t(e,n,i){u(this,t),n instanceof Element||console.error(Error(n+" is not an HTML Element"));var r=e.getInstance(n);r&&r.destroy(),this.el=n,this.$el=cash(n)}return o(t,null,[{key:"init",value:function(t,e,n){var i=null;if(e instanceof Element)i=new t(e,n);else if(e&&(e.jquery||e.cash||e instanceof NodeList)){for(var r=[],o=0;o<e.length;o++)r.push(new t(e[o],n));i=r}return i}}]),t}();(c=window).Package?M={}:c.M={},M.jQueryLoaded=!!c.jQuery,void 0!==(i=function(){return M}.apply(e,[]))&&(t.exports=i),M.version="1.0.0",M.keys={TAB:9,ENTER:13,ESC:27,ARROW_UP:38,ARROW_DOWN:40},M.tabPressed=!1,M.keyDown=!1;document.addEventListener("keydown",(function(t){M.keyDown=!0,t.which!==M.keys.TAB&&t.which!==M.keys.ARROW_DOWN&&t.which!==M.keys.ARROW_UP||(M.tabPressed=!0)}),!0),document.addEventListener("keyup",(function(t){M.keyDown=!1,t.which!==M.keys.TAB&&t.which!==M.keys.ARROW_DOWN&&t.which!==M.keys.ARROW_UP||(M.tabPressed=!1)}),!0),document.addEventListener("focus",(function(t){M.keyDown&&document.body.classList.add("keyboard-focused")}),!0),document.addEventListener("blur",(function(t){document.body.classList.remove("keyboard-focused")}),!0),M.initializeJqueryWrapper=function(t,e,n){jQuery.fn[e]=function(i){if(t.prototype[i]){var r=Array.prototype.slice.call(arguments,1);if("get"===i.slice(0,3)){var o=this.first()[0][n];return o[i].apply(o,r)}return this.each((function(){var t=this[n];t[i].apply(t,r)}))}if("object"==typeof i||!i)return t.init(this,i),this;jQuery.error("Method "+i+" does not exist on jQuery."+e)}},M.AutoInit=function(t){var e=t||document.body,n={Autocomplete:e.querySelectorAll(".autocomplete:not(.no-autoinit)"),Carousel:e.querySelectorAll(".carousel:not(.no-autoinit)"),Chips:e.querySelectorAll(".chips:not(.no-autoinit)"),Collapsible:e.querySelectorAll(".collapsible:not(.no-autoinit)"),Datepicker:e.querySelectorAll(".datepicker:not(.no-autoinit)"),Dropdown:e.querySelectorAll(".dropdown-trigger:not(.no-autoinit)"),Materialbox:e.querySelectorAll(".materialboxed:not(.no-autoinit)"),Modal:e.querySelectorAll(".modal:not(.no-autoinit)"),Parallax:e.querySelectorAll(".parallax:not(.no-autoinit)"),Pushpin:e.querySelectorAll(".pushpin:not(.no-autoinit)"),ScrollSpy:e.querySelectorAll(".scrollspy:not(.no-autoinit)"),FormSelect:e.querySelectorAll("select:not(.no-autoinit)"),Sidenav:e.querySelectorAll(".sidenav:not(.no-autoinit)"),Tabs:e.querySelectorAll(".tabs:not(.no-autoinit)"),TapTarget:e.querySelectorAll(".tap-target:not(.no-autoinit)"),Timepicker:e.querySelectorAll(".timepicker:not(.no-autoinit)"),Tooltip:e.querySelectorAll(".tooltipped:not(.no-autoinit)"),FloatingActionButton:e.querySelectorAll(".fixed-action-btn:not(.no-autoinit)")};for(var i in n)M[i].init(n[i])},M.objectSelectorString=function(t){return((t.prop("tagName")||"")+(t.attr("id")||"")+(t.attr("class")||"")).replace(/\s/g,"")},M.guid=function(){function t(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return function(){return t()+t()+"-"+t()+"-"+t()+"-"+t()+"-"+t()+t()+t()}}(),M.escapeHash=function(t){return t.replace(/(:|\.|\[|\]|,|=|\/)/g,"\\$1")},M.elementOrParentIsFixed=function(t){var e=$(t),n=e.add(e.parents()),i=!1;return n.each((function(){if("fixed"===$(this).css("position"))return!(i=!0)})),i},M.checkWithinContainer=function(t,e,n){var i={top:!1,right:!1,bottom:!1,left:!1},r=t.getBoundingClientRect(),o=t===document.body?Math.max(r.bottom,window.innerHeight):r.bottom,s=t.scrollLeft,a=t.scrollTop,u=e.left-s,c=e.top-a;return(u<r.left+n||u<n)&&(i.left=!0),(u+e.width>r.right-n||u+e.width>window.innerWidth-n)&&(i.right=!0),(c<r.top+n||c<n)&&(i.top=!0),(c+e.height>o-n||c+e.height>window.innerHeight-n)&&(i.bottom=!0),i},M.checkPossibleAlignments=function(t,e,n,i){var r={top:!0,right:!0,bottom:!0,left:!0,spaceOnTop:null,spaceOnRight:null,spaceOnBottom:null,spaceOnLeft:null},o="visible"===getComputedStyle(e).overflow,s=e.getBoundingClientRect(),a=Math.min(s.height,window.innerHeight),u=Math.min(s.width,window.innerWidth),c=t.getBoundingClientRect(),l=e.scrollLeft,h=e.scrollTop,f=n.left-l,d=n.top-h,p=n.top+c.height-h;return r.spaceOnRight=o?window.innerWidth-(c.left+n.width):u-(f+n.width),r.spaceOnRight<0&&(r.left=!1),r.spaceOnLeft=o?c.right-n.width:f-n.width+c.width,r.spaceOnLeft<0&&(r.right=!1),r.spaceOnBottom=o?window.innerHeight-(c.top+n.height+i):a-(d+n.height+i),r.spaceOnBottom<0&&(r.top=!1),r.spaceOnTop=o?c.bottom-(n.height+i):p-(n.height-i),r.spaceOnTop<0&&(r.bottom=!1),r},M.getOverflowParent=function(t){return null==t?null:t===document.body||"visible"!==getComputedStyle(t).overflow?t:M.getOverflowParent(t.parentElement)},M.getIdFromTrigger=function(t){var e=t.getAttribute("data-target");return e||(e=(e=t.getAttribute("href"))?e.slice(1):""),e},M.getDocumentScrollTop=function(){return window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0},M.getDocumentScrollLeft=function(){return window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0};var h=Date.now||function(){return(new Date).getTime()};M.throttle=function(t,e,n){var i=void 0,r=void 0,o=void 0,s=null,a=0;n||(n={});var u=function(){a=!1===n.leading?0:h(),s=null,o=t.apply(i,r),i=r=null};return function(){var c=h();a||!1!==n.leading||(a=c);var l=e-(c-a);return i=this,r=arguments,l<=0?(clearTimeout(s),s=null,a=c,o=t.apply(i,r),i=r=null):s||!1===n.trailing||(s=setTimeout(u,l)),o}};var f={scope:{}};f.defineProperty="function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,n){if(n.get||n.set)throw new TypeError("ES3 does not support getters and setters.");t!=Array.prototype&&t!=Object.prototype&&(t[e]=n.value)},f.getGlobal=function(t){return"undefined"!=typeof window&&window===t?t:void 0!==n&&null!=n?n:t},f.global=f.getGlobal(this),f.SYMBOL_PREFIX="jscomp_symbol_",f.initSymbol=function(){f.initSymbol=function(){},f.global.Symbol||(f.global.Symbol=f.Symbol)},f.symbolCounter_=0,f.Symbol=function(t){return f.SYMBOL_PREFIX+(t||"")+f.symbolCounter_++},f.initSymbolIterator=function(){f.initSymbol();var t=f.global.Symbol.iterator;t||(t=f.global.Symbol.iterator=f.global.Symbol("iterator")),"function"!=typeof Array.prototype[t]&&f.defineProperty(Array.prototype,t,{configurable:!0,writable:!0,value:function(){return f.arrayIterator(this)}}),f.initSymbolIterator=function(){}},f.arrayIterator=function(t){var e=0;return f.iteratorPrototype((function(){return e<t.length?{done:!1,value:t[e++]}:{done:!0}}))},f.iteratorPrototype=function(t){return f.initSymbolIterator(),(t={next:t})[f.global.Symbol.iterator]=function(){return this},t},f.array=f.array||{},f.iteratorFromArray=function(t,e){f.initSymbolIterator(),t instanceof String&&(t+="");var n=0,i={next:function(){if(n<t.length){var r=n++;return{value:e(r,t[r]),done:!1}}return i.next=function(){return{done:!0,value:void 0}},i.next()}};return i[Symbol.iterator]=function(){return i},i},f.polyfill=function(t,e,n,i){if(e){for(n=f.global,t=t.split("."),i=0;i<t.length-1;i++){var r=t[i];r in n||(n[r]={}),n=n[r]}(e=e(i=n[t=t[t.length-1]]))!=i&&null!=e&&f.defineProperty(n,t,{configurable:!0,writable:!0,value:e})}},f.polyfill("Array.prototype.keys",(function(t){return t||function(){return f.iteratorFromArray(this,(function(t){return t}))}}),"es6-impl","es3");var d,p,v,g=this;M.anime=function(){function t(t){if(!x.col(t))try{return document.querySelectorAll(t)}catch(t){}}function e(t,e){for(var n=t.length,i=2<=arguments.length?e:void 0,r=[],o=0;o<n;o++)if(o in t){var s=t[o];e.call(i,s,o,t)&&r.push(s)}return r}function n(t){return t.reduce((function(t,e){return t.concat(x.arr(e)?n(e):e)}),[])}function i(e){return x.arr(e)?e:(x.str(e)&&(e=t(e)||e),e instanceof NodeList||e instanceof HTMLCollection?[].slice.call(e):[e])}function r(t,e){return t.some((function(t){return t===e}))}function o(t){var e,n={};for(e in t)n[e]=t[e];return n}function s(t,e){var n,i=o(t);for(n in t)i[n]=e.hasOwnProperty(n)?e[n]:t[n];return i}function a(t,e){var n,i=o(t);for(n in e)i[n]=x.und(t[n])?e[n]:t[n];return i}function u(t){if(t=/([\+\-]?[0-9#\.]+)(%|px|pt|em|rem|in|cm|mm|ex|ch|pc|vw|vh|vmin|vmax|deg|rad|turn)?$/.exec(t))return t[2]}function c(t,e){return x.fnc(t)?t(e.target,e.id,e.total):t}function l(t,e){if(e in t.style)return getComputedStyle(t).getPropertyValue(e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase())||"0"}function h(t,e){return x.dom(t)&&r(A,e)?"transform":x.dom(t)&&(t.getAttribute(e)||x.svg(t)&&t[e])?"attribute":x.dom(t)&&"transform"!==e&&l(t,e)?"css":null!=t[e]?"object":void 0}function f(t,n){switch(h(t,n)){case"transform":return function(t,n){var i,r=-1<(i=n).indexOf("translate")||"perspective"===i?"px":-1<i.indexOf("rotate")||-1<i.indexOf("skew")?"deg":void 0;r=-1<n.indexOf("scale")?1:0+r;if(!(t=t.style.transform))return r;for(var o=[],s=[],a=[],u=/(\w+)\((.+?)\)/g;o=u.exec(t);)s.push(o[1]),a.push(o[2]);return(t=e(a,(function(t,e){return s[e]===n}))).length?t[0]:r}(t,n);case"css":return l(t,n);case"attribute":return t.getAttribute(n)}return t[n]||0}function d(t,e){var n=/^(\*=|\+=|-=)/.exec(t);if(!n)return t;var i=u(t)||0;switch(e=parseFloat(e),t=parseFloat(t.replace(n[0],"")),n[0][0]){case"+":return e+t+i;case"-":return e-t+i;case"*":return e*t+i}}function p(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function v(t){t=t.points;for(var e,n=0,i=0;i<t.numberOfItems;i++){var r=t.getItem(i);0<i&&(n+=p(e,r)),e=r}return n}function m(t){if(t.getTotalLength)return t.getTotalLength();switch(t.tagName.toLowerCase()){case"circle":return 2*Math.PI*t.getAttribute("r");case"rect":return 2*t.getAttribute("width")+2*t.getAttribute("height");case"line":return p({x:t.getAttribute("x1"),y:t.getAttribute("y1")},{x:t.getAttribute("x2"),y:t.getAttribute("y2")});case"polyline":return v(t);case"polygon":var e=t.points;return v(t)+p(e.getItem(e.numberOfItems-1),e.getItem(0))}}function y(t,e){function n(n){return n=void 0===n?0:n,t.el.getPointAtLength(1<=e+n?e+n:0)}var i=n(),r=n(-1),o=n(1);switch(t.property){case"x":return i.x;case"y":return i.y;case"angle":return 180*Math.atan2(o.y-r.y,o.x-r.x)/Math.PI}}function b(t,e){var n,i=/-?\d*\.?\d+/g;if(n=x.pth(t)?t.totalLength:t,x.col(n))if(x.rgb(n)){var r=/rgb\((\d+,\s*[\d]+,\s*[\d]+)\)/g.exec(n);n=r?"rgba("+r[1]+",1)":n}else n=x.hex(n)?function(t){t=t.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(function(t,e,n,i){return e+e+n+n+i+i}));var e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return"rgba("+(t=parseInt(e[1],16))+","+parseInt(e[2],16)+","+(e=parseInt(e[3],16))+",1)"}(n):x.hsl(n)?function(t){function e(t,e,n){return n<0&&(n+=1),1<n&&--n,n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+(e-t)*(2/3-n)*6:t}var n=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(t)||/hsla\((\d+),\s*([\d.]+)%,\s*([\d.]+)%,\s*([\d.]+)\)/g.exec(t);t=parseInt(n[1])/360;var i=parseInt(n[2])/100,r=parseInt(n[3])/100;n=n[4]||1;if(0==i)r=i=t=r;else{var o=r<.5?r*(1+i):r+i-r*i,s=2*r-o;r=e(s,o,t+1/3),i=e(s,o,t);t=e(s,o,t-1/3)}return"rgba("+255*r+","+255*i+","+255*t+","+n+")"}(n):void 0;else r=(r=u(n))?n.substr(0,n.length-r.length):n,n=e&&!/\s/g.test(n)?r+e:r;return{original:n+="",numbers:n.match(i)?n.match(i).map(Number):[0],strings:x.str(t)||e?n.split(i):[]}}function w(t){return e(t=t?n(x.arr(t)?t.map(i):i(t)):[],(function(t,e,n){return n.indexOf(t)===e}))}function _(t,e){var n=o(e);if(x.arr(t)){var r=t.length;2!==r||x.obj(t[0])?x.fnc(e.duration)||(n.duration=e.duration/r):t={value:t}}return i(t).map((function(t,n){return n=n?0:e.delay,t=x.obj(t)&&!x.pth(t)?t:{value:t},x.und(t.delay)&&(t.delay=n),t})).map((function(t){return a(t,n)}))}function E(t,e){var n;return t.tweens.map((function(i){var r=(i=function(t,e){var n,i={};for(n in t){var r=c(t[n],e);x.arr(r)&&1===(r=r.map((function(t){return c(t,e)}))).length&&(r=r[0]),i[n]=r}return i.duration=parseFloat(i.duration),i.delay=parseFloat(i.delay),i}(i,e)).value,o=f(e.target,t.name),s=n?n.to.original:o,a=(s=x.arr(r)?r[0]:s,d(x.arr(r)?r[1]:r,s));o=u(a)||u(s)||u(o);return i.from=b(s,o),i.to=b(a,o),i.start=n?n.end:t.offset,i.end=i.start+i.delay+i.duration,i.easing=function(t){return x.arr(t)?D.apply(this,t):M[t]}(i.easing),i.elasticity=(1e3-Math.min(Math.max(i.elasticity,1),999))/1e3,i.isPath=x.pth(r),i.isColor=x.col(i.from.original),i.isColor&&(i.round=1),n=i}))}function k(t,e,n,i){var r="delay"===t;return e.length?(r?Math.min:Math.max).apply(Math,e.map((function(e){return e[t]}))):r?i.delay:n.offset+i.delay+i.duration}function I(t){var i,r,o,u,c=s(S,t),l=s(C,t),f=(r=t.targets,(o=w(r)).map((function(t,e){return{target:t,id:e,total:o.length}}))),d=[],p=a(c,l);for(i in t)p.hasOwnProperty(i)||"targets"===i||d.push({name:i,offset:p.offset,tweens:_(t[i],l)});return u=d,t=e(n(f.map((function(t){return u.map((function(e){var n=h(t.target,e.name);if(n){var i=E(e,t);e={type:n,property:e.name,animatable:t,tweens:i,duration:i[i.length-1].end,delay:i[0].delay}}else e=void 0;return e}))}))),(function(t){return!x.und(t)})),a(c,{children:[],animatables:f,animations:t,duration:k("duration",t,c,l),delay:k("delay",t,c,l)})}function T(t){function n(){return window.Promise&&new Promise((function(t){return f=t}))}function i(t){return p.reversed?p.duration-t:t}function r(t){for(var n=0,i={},r=p.animations,o=r.length;n<o;){var s=r[n],a=s.animatable,u=(c=s.tweens)[d=c.length-1];d&&(u=e(c,(function(e){return t<e.end}))[0]||u);for(var c=Math.min(Math.max(t-u.start-u.delay,0),u.duration)/u.duration,h=isNaN(c)?1:u.easing(c,u.elasticity),f=(c=u.to.strings,u.round),d=[],v=void 0,g=(v=u.to.numbers.length,0);g<v;g++){var m=void 0,b=(m=u.to.numbers[g],u.from.numbers[g]);m=u.isPath?y(u.value,h*m):b+h*(m-b);f&&(u.isColor&&2<g||(m=Math.round(m*f)/f)),d.push(m)}if(u=c.length)for(v=c[0],h=0;h<u;h++)f=c[h+1],g=d[h],isNaN(g)||(v=f?v+(g+f):v+(g+" "));else v=d[0];L[s.type](a.target,s.property,v,i,a.id),s.currentValue=v,n++}if(n=Object.keys(i).length)for(r=0;r<n;r++)O||(O=l(document.body,"transform")?"transform":"-webkit-transform"),p.animatables[r].target.style[O]=i[r].join(" ");p.currentTime=t,p.progress=t/p.duration*100}function o(t){p[t]&&p[t](p)}function s(){p.remaining&&!0!==p.remaining&&p.remaining--}function a(t){var e=p.duration,a=p.offset,l=a+p.delay,v=p.currentTime,g=p.reversed,m=i(t);if(p.children.length){var y=p.children,b=y.length;if(m>=p.currentTime)for(var w=0;w<b;w++)y[w].seek(m);else for(;b--;)y[b].seek(m)}(l<=m||!e)&&(p.began||(p.began=!0,o("begin")),o("run")),a<m&&m<e?r(m):(m<=a&&0!==v&&(r(0),g&&s()),(e<=m&&v!==e||!e)&&(r(e),g||s())),o("update"),e<=t&&(p.remaining?(c=u,"alternate"===p.direction&&(p.reversed=!p.reversed)):(p.pause(),p.completed||(p.completed=!0,o("complete"),"Promise"in window&&(f(),d=n()))),h=0)}t=void 0===t?{}:t;var u,c,h=0,f=null,d=n(),p=I(t);return p.reset=function(){var t=p.direction,e=p.loop;for(p.currentTime=0,p.progress=0,p.paused=!0,p.began=!1,p.completed=!1,p.reversed="reverse"===t,p.remaining="alternate"===t&&1===e?2:e,r(0),t=p.children.length;t--;)p.children[t].reset()},p.tick=function(t){u=t,c||(c=u),a((h+u-c)*T.speed)},p.seek=function(t){a(i(t))},p.pause=function(){var t=N.indexOf(p);-1<t&&N.splice(t,1),p.paused=!0},p.play=function(){p.paused&&(p.paused=!1,c=0,h=i(p.currentTime),N.push(p),P||R())},p.reverse=function(){p.reversed=!p.reversed,c=0,h=i(p.currentTime)},p.restart=function(){p.pause(),p.reset(),p.play()},p.finished=d,p.reset(),p.autoplay&&p.play(),p}var O,S={update:void 0,begin:void 0,run:void 0,complete:void 0,loop:1,direction:"normal",autoplay:!0,offset:0},C={duration:1e3,delay:0,easing:"easeOutElastic",elasticity:500,round:0},A="translateX translateY translateZ rotate rotateX rotateY rotateZ scale scaleX scaleY scaleZ skewX skewY perspective".split(" "),x={arr:function(t){return Array.isArray(t)},obj:function(t){return-1<Object.prototype.toString.call(t).indexOf("Object")},pth:function(t){return x.obj(t)&&t.hasOwnProperty("totalLength")},svg:function(t){return t instanceof SVGElement},dom:function(t){return t.nodeType||x.svg(t)},str:function(t){return"string"==typeof t},fnc:function(t){return"function"==typeof t},und:function(t){return void 0===t},hex:function(t){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(t)},rgb:function(t){return/^rgb/.test(t)},hsl:function(t){return/^hsl/.test(t)},col:function(t){return x.hex(t)||x.rgb(t)||x.hsl(t)}},D=function(){function t(t,e,n){return(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t}return function(e,n,i,r){if(0<=e&&e<=1&&0<=i&&i<=1){var o=new Float32Array(11);if(e!==n||i!==r)for(var s=0;s<11;++s)o[s]=t(.1*s,e,i);return function(s){if(e===n&&i===r)return s;if(0===s)return 0;if(1===s)return 1;for(var a=0,u=1;10!==u&&o[u]<=s;++u)a+=.1;u=a+(s-o[--u])/(o[u+1]-o[u])*.1;var c=3*(1-3*i+3*e)*u*u+2*(3*i-6*e)*u+3*e;if(.001<=c){for(a=0;a<4&&0!=(c=3*(1-3*i+3*e)*u*u+2*(3*i-6*e)*u+3*e);++a){var l=t(u,e,i)-s;u=u-l/c}s=u}else if(0===c)s=u;else{u=a,a=a+.1;for(var h=0;0<(c=t(l=u+(a-u)/2,e,i)-s)?a=l:u=l,1e-7<Math.abs(c)&&++h<10;);s=l}return t(s,n,r)}}}}(),M=function(){function t(t,e){return 0===t||1===t?t:-Math.pow(2,10*(t-1))*Math.sin(2*(t-1-e/(2*Math.PI)*Math.asin(1))*Math.PI/e)}var e,n="Quad Cubic Quart Quint Sine Expo Circ Back Elastic".split(" "),i={In:[[.55,.085,.68,.53],[.55,.055,.675,.19],[.895,.03,.685,.22],[.755,.05,.855,.06],[.47,0,.745,.715],[.95,.05,.795,.035],[.6,.04,.98,.335],[.6,-.28,.735,.045],t],Out:[[.25,.46,.45,.94],[.215,.61,.355,1],[.165,.84,.44,1],[.23,1,.32,1],[.39,.575,.565,1],[.19,1,.22,1],[.075,.82,.165,1],[.175,.885,.32,1.275],function(e,n){return 1-t(1-e,n)}],InOut:[[.455,.03,.515,.955],[.645,.045,.355,1],[.77,0,.175,1],[.86,0,.07,1],[.445,.05,.55,.95],[1,0,0,1],[.785,.135,.15,.86],[.68,-.55,.265,1.55],function(e,n){return e<.5?t(2*e,n)/2:1-t(-2*e+2,n)/2}]},r={linear:D(.25,.25,.75,.75)},o={};for(e in i)o.type=e,i[o.type].forEach(function(t){return function(e,i){r["ease"+t.type+n[i]]=x.fnc(e)?e:D.apply(g,e)}}(o)),o={type:o.type};return r}(),L={css:function(t,e,n){return t.style[e]=n},attribute:function(t,e,n){return t.setAttribute(e,n)},object:function(t,e,n){return t[e]=n},transform:function(t,e,n,i,r){i[r]||(i[r]=[]),i[r].push(e+"("+n+")")}},N=[],P=0,R=function(){function t(){P=requestAnimationFrame(e)}function e(e){var n=N.length;if(n){for(var i=0;i<n;)N[i]&&N[i].tick(e),i++;t()}else cancelAnimationFrame(P),P=0}return t}();return T.version="2.2.0",T.speed=1,T.running=N,T.remove=function(t){t=w(t);for(var e=N.length;e--;)for(var n=N[e],i=n.animations,o=i.length;o--;)r(t,i[o].animatable.target)&&(i.splice(o,1),i.length||n.pause())},T.getValue=f,T.path=function(e,n){var i=x.str(e)?t(e)[0]:e,r=n||100;return function(t){return{el:i,property:t,totalLength:m(i)*(r/100)}}},T.setDashoffset=function(t){var e=m(t);return t.setAttribute("stroke-dasharray",e),e},T.bezier=D,T.easings=M,T.timeline=function(t){var e=T(t);return e.pause(),e.duration=0,e.add=function(n){return e.children.forEach((function(t){t.began=!0,t.completed=!0})),i(n).forEach((function(n){var i=a(n,s(C,t||{}));i.targets=i.targets||t.targets,n=e.duration;var r=i.offset;i.autoplay=!1,i.direction=e.direction,i.offset=x.und(r)?n:d(r,n),e.began=!0,e.completed=!0,e.seek(i.offset),(i=T(i)).began=!0,i.completed=!0,i.duration>n&&(e.duration=i.duration),e.children.push(i)})),e.seek(0),e.reset(),e.autoplay&&e.restart(),e},e},T.random=function(t,e){return Math.floor(Math.random()*(e-t+1))+t},T}(),function(t,e){"use strict";var n={accordion:!0,onOpenStart:void 0,onOpenEnd:void 0,onCloseStart:void 0,onCloseEnd:void 0,inDuration:300,outDuration:300},i=function(i){function c(e,n){u(this,c);var i=s(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,c,e,n));(i.el.M_Collapsible=i).options=t.extend({},c.defaults,n),i.$headers=i.$el.children("li").children(".collapsible-header"),i.$headers.attr("tabindex",0),i._setupEventHandlers();var r=i.$el.children("li.active").children(".collapsible-body");return i.options.accordion?r.first().css("display","block"):r.css("display","block"),i}return a(c,l),o(c,[{key:"destroy",value:function(){this._removeEventHandlers(),this.el.M_Collapsible=void 0}},{key:"_setupEventHandlers",value:function(){var t=this;this._handleCollapsibleClickBound=this._handleCollapsibleClick.bind(this),this._handleCollapsibleKeydownBound=this._handleCollapsibleKeydown.bind(this),this.el.addEventListener("click",this._handleCollapsibleClickBound),this.$headers.each((function(e){e.addEventListener("keydown",t._handleCollapsibleKeydownBound)}))}},{key:"_removeEventHandlers",value:function(){var t=this;this.el.removeEventListener("click",this._handleCollapsibleClickBound),this.$headers.each((function(e){e.removeEventListener("keydown",t._handleCollapsibleKeydownBound)}))}},{key:"_handleCollapsibleClick",value:function(e){var n=t(e.target).closest(".collapsible-header");if(e.target&&n.length){var i=n.closest(".collapsible");if(i[0]===this.el){var r=n.closest("li"),o=i.children("li"),s=r[0].classList.contains("active"),a=o.index(r);s?this.close(a):this.open(a)}}}},{key:"_handleCollapsibleKeydown",value:function(t){13===t.keyCode&&this._handleCollapsibleClickBound(t)}},{key:"_animateIn",value:function(t){var n=this,i=this.$el.children("li").eq(t);if(i.length){var r=i.children(".collapsible-body");e.remove(r[0]),r.css({display:"block",overflow:"hidden",height:0,paddingTop:"",paddingBottom:""});var o=r.css("padding-top"),s=r.css("padding-bottom"),a=r[0].scrollHeight;r.css({paddingTop:0,paddingBottom:0}),e({targets:r[0],height:a,paddingTop:o,paddingBottom:s,duration:this.options.inDuration,easing:"easeInOutCubic",complete:function(t){r.css({overflow:"",paddingTop:"",paddingBottom:"",height:""}),"function"==typeof n.options.onOpenEnd&&n.options.onOpenEnd.call(n,i[0])}})}}},{key:"_animateOut",value:function(t){var n=this,i=this.$el.children("li").eq(t);if(i.length){var r=i.children(".collapsible-body");e.remove(r[0]),r.css("overflow","hidden"),e({targets:r[0],height:0,paddingTop:0,paddingBottom:0,duration:this.options.outDuration,easing:"easeInOutCubic",complete:function(){r.css({height:"",overflow:"",padding:"",display:""}),"function"==typeof n.options.onCloseEnd&&n.options.onCloseEnd.call(n,i[0])}})}}},{key:"open",value:function(e){var n=this,i=this.$el.children("li").eq(e);if(i.length&&!i[0].classList.contains("active")){if("function"==typeof this.options.onOpenStart&&this.options.onOpenStart.call(this,i[0]),this.options.accordion){var r=this.$el.children("li");this.$el.children("li.active").each((function(e){var i=r.index(t(e));n.close(i)}))}i[0].classList.add("active"),this._animateIn(e)}}},{key:"close",value:function(t){var e=this.$el.children("li").eq(t);e.length&&e[0].classList.contains("active")&&("function"==typeof this.options.onCloseStart&&this.options.onCloseStart.call(this,e[0]),e[0].classList.remove("active"),this._animateOut(t))}}],[{key:"init",value:function(t,e){return r(c.__proto__||Object.getPrototypeOf(c),"init",this).call(this,this,t,e)}},{key:"getInstance",value:function(t){return(t.jquery?t[0]:t).M_Collapsible}},{key:"defaults",get:function(){return n}}]),c}();M.Collapsible=i,M.jQueryLoaded&&M.initializeJqueryWrapper(i,"collapsible","M_Collapsible")}(cash,M.anime),function(t,e){"use strict";var n={alignment:"left",autoFocus:!0,constrainWidth:!0,container:null,coverTrigger:!0,closeOnClick:!0,hover:!1,inDuration:150,outDuration:250,onOpenStart:null,onOpenEnd:null,onCloseStart:null,onCloseEnd:null,onItemClick:null},i=function(i){function c(e,n){u(this,c);var i=s(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,c,e,n));return i.el.M_Dropdown=i,c._dropdowns.push(i),i.id=M.getIdFromTrigger(e),i.dropdownEl=document.getElementById(i.id),i.$dropdownEl=t(i.dropdownEl),i.options=t.extend({},c.defaults,n),i.isOpen=!1,i.isScrollable=!1,i.isTouchMoving=!1,i.focusedIndex=-1,i.filterQuery=[],i.options.container?t(i.options.container).append(i.dropdownEl):i.$el.after(i.dropdownEl),i._makeDropdownFocusable(),i._resetFilterQueryBound=i._resetFilterQuery.bind(i),i._handleDocumentClickBound=i._handleDocumentClick.bind(i),i._handleDocumentTouchmoveBound=i._handleDocumentTouchmove.bind(i),i._handleDropdownClickBound=i._handleDropdownClick.bind(i),i._handleDropdownKeydownBound=i._handleDropdownKeydown.bind(i),i._handleTriggerKeydownBound=i._handleTriggerKeydown.bind(i),i._setupEventHandlers(),i}return a(c,l),o(c,[{key:"destroy",value:function(){this._resetDropdownStyles(),this._removeEventHandlers(),c._dropdowns.splice(c._dropdowns.indexOf(this),1),this.el.M_Dropdown=void 0}},{key:"_setupEventHandlers",value:function(){this.el.addEventListener("keydown",this._handleTriggerKeydownBound),this.dropdownEl.addEventListener("click",this._handleDropdownClickBound),this.options.hover?(this._handleMouseEnterBound=this._handleMouseEnter.bind(this),this.el.addEventListener("mouseenter",this._handleMouseEnterBound),this._handleMouseLeaveBound=this._handleMouseLeave.bind(this),this.el.addEventListener("mouseleave",this._handleMouseLeaveBound),this.dropdownEl.addEventListener("mouseleave",this._handleMouseLeaveBound)):(this._handleClickBound=this._handleClick.bind(this),this.el.addEventListener("click",this._handleClickBound))}},{key:"_removeEventHandlers",value:function(){this.el.removeEventListener("keydown",this._handleTriggerKeydownBound),this.dropdownEl.removeEventListener("click",this._handleDropdownClickBound),this.options.hover?(this.el.removeEventListener("mouseenter",this._handleMouseEnterBound),this.el.removeEventListener("mouseleave",this._handleMouseLeaveBound),this.dropdownEl.removeEventListener("mouseleave",this._handleMouseLeaveBound)):this.el.removeEventListener("click",this._handleClickBound)}},{key:"_setupTemporaryEventHandlers",value:function(){document.body.addEventListener("click",this._handleDocumentClickBound,!0),document.body.addEventListener("touchend",this._handleDocumentClickBound),document.body.addEventListener("touchmove",this._handleDocumentTouchmoveBound),this.dropdownEl.addEventListener("keydown",this._handleDropdownKeydownBound)}},{key:"_removeTemporaryEventHandlers",value:function(){document.body.removeEventListener("click",this._handleDocumentClickBound,!0),document.body.removeEventListener("touchend",this._handleDocumentClickBound),document.body.removeEventListener("touchmove",this._handleDocumentTouchmoveBound),this.dropdownEl.removeEventListener("keydown",this._handleDropdownKeydownBound)}},{key:"_handleClick",value:function(t){t.preventDefault(),this.open()}},{key:"_handleMouseEnter",value:function(){this.open()}},{key:"_handleMouseLeave",value:function(e){var n=e.toElement||e.relatedTarget,i=!!t(n).closest(".dropdown-content").length,r=!1,o=t(n).closest(".dropdown-trigger");o.length&&o[0].M_Dropdown&&o[0].M_Dropdown.isOpen&&(r=!0),r||i||this.close()}},{key:"_handleDocumentClick",value:function(e){var n=this,i=t(e.target);this.options.closeOnClick&&i.closest(".dropdown-content").length&&!this.isTouchMoving?setTimeout((function(){n.close()}),0):!i.closest(".dropdown-trigger").length&&i.closest(".dropdown-content").length||setTimeout((function(){n.close()}),0),this.isTouchMoving=!1}},{key:"_handleTriggerKeydown",value:function(t){t.which!==M.keys.ARROW_DOWN&&t.which!==M.keys.ENTER||this.isOpen||(t.preventDefault(),this.open())}},{key:"_handleDocumentTouchmove",value:function(e){t(e.target).closest(".dropdown-content").length&&(this.isTouchMoving=!0)}},{key:"_handleDropdownClick",value:function(e){if("function"==typeof this.options.onItemClick){var n=t(e.target).closest("li")[0];this.options.onItemClick.call(this,n)}}},{key:"_handleDropdownKeydown",value:function(e){if(e.which===M.keys.TAB)e.preventDefault(),this.close();else if(e.which!==M.keys.ARROW_DOWN&&e.which!==M.keys.ARROW_UP||!this.isOpen)if(e.which===M.keys.ENTER&&this.isOpen){var n=this.dropdownEl.children[this.focusedIndex],i=t(n).find("a, button").first();i.length?i[0].click():n&&n.click()}else e.which===M.keys.ESC&&this.isOpen&&(e.preventDefault(),this.close());else{e.preventDefault();var r=e.which===M.keys.ARROW_DOWN?1:-1,o=this.focusedIndex,s=!1;do{if(o+=r,this.dropdownEl.children[o]&&-1!==this.dropdownEl.children[o].tabIndex){s=!0;break}}while(o<this.dropdownEl.children.length&&0<=o);s&&(this.focusedIndex=o,this._focusFocusedItem())}var a=String.fromCharCode(e.which).toLowerCase();if(a&&-1===[9,13,27,38,40].indexOf(e.which)){this.filterQuery.push(a);var u=this.filterQuery.join(""),c=t(this.dropdownEl).find("li").filter((function(e){return 0===t(e).text().toLowerCase().indexOf(u)}))[0];c&&(this.focusedIndex=t(c).index(),this._focusFocusedItem())}this.filterTimeout=setTimeout(this._resetFilterQueryBound,1e3)}},{key:"_resetFilterQuery",value:function(){this.filterQuery=[]}},{key:"_resetDropdownStyles",value:function(){this.$dropdownEl.css({display:"",width:"",height:"",left:"",top:"","transform-origin":"",transform:"",opacity:""})}},{key:"_makeDropdownFocusable",value:function(){this.dropdownEl.tabIndex=0,t(this.dropdownEl).children().each((function(t){t.getAttribute("tabindex")||t.setAttribute("tabindex",0)}))}},{key:"_focusFocusedItem",value:function(){0<=this.focusedIndex&&this.focusedIndex<this.dropdownEl.children.length&&this.options.autoFocus&&this.dropdownEl.children[this.focusedIndex].focus()}},{key:"_getDropdownPosition",value:function(){this.el.offsetParent.getBoundingClientRect();var t=this.el.getBoundingClientRect(),e=this.dropdownEl.getBoundingClientRect(),n=e.height,i=e.width,r=t.left-e.left,o=t.top-e.top,s={left:r,top:o,height:n,width:i},a=this.dropdownEl.offsetParent?this.dropdownEl.offsetParent:this.dropdownEl.parentNode,u=M.checkPossibleAlignments(this.el,a,s,this.options.coverTrigger?0:t.height),c="top",l=this.options.alignment;if(o+=this.options.coverTrigger?0:t.height,this.isScrollable=!1,u.top||(u.bottom?c="bottom":(this.isScrollable=!0,u.spaceOnTop>u.spaceOnBottom?(c="bottom",n+=u.spaceOnTop,o-=u.spaceOnTop):n+=u.spaceOnBottom)),!u[l]){var h="left"===l?"right":"left";u[h]?l=h:u.spaceOnLeft>u.spaceOnRight?(l="right",i+=u.spaceOnLeft,r-=u.spaceOnLeft):(l="left",i+=u.spaceOnRight)}return"bottom"===c&&(o=o-e.height+(this.options.coverTrigger?t.height:0)),"right"===l&&(r=r-e.width+t.width),{x:r,y:o,verticalAlignment:c,horizontalAlignment:l,height:n,width:i}}},{key:"_animateIn",value:function(){var t=this;e.remove(this.dropdownEl),e({targets:this.dropdownEl,opacity:{value:[0,1],easing:"easeOutQuad"},scaleX:[.3,1],scaleY:[.3,1],duration:this.options.inDuration,easing:"easeOutQuint",complete:function(e){t.options.autoFocus&&t.dropdownEl.focus(),"function"==typeof t.options.onOpenEnd&&t.options.onOpenEnd.call(t,t.el)}})}},{key:"_animateOut",value:function(){var t=this;e.remove(this.dropdownEl),e({targets:this.dropdownEl,opacity:{value:0,easing:"easeOutQuint"},scaleX:.3,scaleY:.3,duration:this.options.outDuration,easing:"easeOutQuint",complete:function(e){t._resetDropdownStyles(),"function"==typeof t.options.onCloseEnd&&t.options.onCloseEnd.call(t,t.el)}})}},{key:"_placeDropdown",value:function(){var t=this.options.constrainWidth?this.el.getBoundingClientRect().width:this.dropdownEl.getBoundingClientRect().width;this.dropdownEl.style.width=t+"px";var e=this._getDropdownPosition();this.dropdownEl.style.left=e.x+"px",this.dropdownEl.style.top=e.y+"px",this.dropdownEl.style.height=e.height+"px",this.dropdownEl.style.width=e.width+"px",this.dropdownEl.style.transformOrigin=("left"===e.horizontalAlignment?"0":"100%")+" "+("top"===e.verticalAlignment?"0":"100%")}},{key:"open",value:function(){this.isOpen||(this.isOpen=!0,"function"==typeof this.options.onOpenStart&&this.options.onOpenStart.call(this,this.el),this._resetDropdownStyles(),this.dropdownEl.style.display="block",this._placeDropdown(),this._animateIn(),this._setupTemporaryEventHandlers())}},{key:"close",value:function(){this.isOpen&&(this.isOpen=!1,this.focusedIndex=-1,"function"==typeof this.options.onCloseStart&&this.options.onCloseStart.call(this,this.el),this._animateOut(),this._removeTemporaryEventHandlers(),this.options.autoFocus&&this.el.focus())}},{key:"recalculateDimensions",value:function(){this.isOpen&&(this.$dropdownEl.css({width:"",height:"",left:"",top:"","transform-origin":""}),this._placeDropdown())}}],[{key:"init",value:function(t,e){return r(c.__proto__||Object.getPrototypeOf(c),"init",this).call(this,this,t,e)}},{key:"getInstance",value:function(t){return(t.jquery?t[0]:t).M_Dropdown}},{key:"defaults",get:function(){return n}}]),c}();i._dropdowns=[],M.Dropdown=i,M.jQueryLoaded&&M.initializeJqueryWrapper(i,"dropdown","M_Dropdown")}(cash,M.anime),function(t,e){"use strict";var n={opacity:.5,inDuration:250,outDuration:250,onOpenStart:null,onOpenEnd:null,onCloseStart:null,onCloseEnd:null,preventScrolling:!0,dismissible:!0,startingTop:"4%",endingTop:"10%"},i=function(i){function c(e,n){u(this,c);var i=s(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,c,e,n));return(i.el.M_Modal=i).options=t.extend({},c.defaults,n),i.isOpen=!1,i.id=i.$el.attr("id"),i._openingTrigger=void 0,i.$overlay=t('<div class="modal-overlay"></div>'),i.el.tabIndex=0,i._nthModalOpened=0,c._count++,i._setupEventHandlers(),i}return a(c,l),o(c,[{key:"destroy",value:function(){c._count--,this._removeEventHandlers(),this.el.removeAttribute("style"),this.$overlay.remove(),this.el.M_Modal=void 0}},{key:"_setupEventHandlers",value:function(){this._handleOverlayClickBound=this._handleOverlayClick.bind(this),this._handleModalCloseClickBound=this._handleModalCloseClick.bind(this),1===c._count&&document.body.addEventListener("click",this._handleTriggerClick),this.$overlay[0].addEventListener("click",this._handleOverlayClickBound),this.el.addEventListener("click",this._handleModalCloseClickBound)}},{key:"_removeEventHandlers",value:function(){0===c._count&&document.body.removeEventListener("click",this._handleTriggerClick),this.$overlay[0].removeEventListener("click",this._handleOverlayClickBound),this.el.removeEventListener("click",this._handleModalCloseClickBound)}},{key:"_handleTriggerClick",value:function(e){var n=t(e.target).closest(".modal-trigger");if(n.length){var i=M.getIdFromTrigger(n[0]),r=document.getElementById(i).M_Modal;r&&r.open(n),e.preventDefault()}}},{key:"_handleOverlayClick",value:function(){this.options.dismissible&&this.close()}},{key:"_handleModalCloseClick",value:function(e){t(e.target).closest(".modal-close").length&&this.close()}},{key:"_handleKeydown",value:function(t){27===t.keyCode&&this.options.dismissible&&this.close()}},{key:"_handleFocus",value:function(t){this.el.contains(t.target)||this._nthModalOpened!==c._modalsOpen||this.el.focus()}},{key:"_animateIn",value:function(){var n=this;t.extend(this.el.style,{display:"block",opacity:0}),t.extend(this.$overlay[0].style,{display:"block",opacity:0}),e({targets:this.$overlay[0],opacity:this.options.opacity,duration:this.options.inDuration,easing:"easeOutQuad"});var i={targets:this.el,duration:this.options.inDuration,easing:"easeOutCubic",complete:function(){"function"==typeof n.options.onOpenEnd&&n.options.onOpenEnd.call(n,n.el,n._openingTrigger)}};this.el.classList.contains("bottom-sheet")?t.extend(i,{bottom:0,opacity:1}):t.extend(i,{top:[this.options.startingTop,this.options.endingTop],opacity:1,scaleX:[.8,1],scaleY:[.8,1]}),e(i)}},{key:"_animateOut",value:function(){var n=this;e({targets:this.$overlay[0],opacity:0,duration:this.options.outDuration,easing:"easeOutQuart"});var i={targets:this.el,duration:this.options.outDuration,easing:"easeOutCubic",complete:function(){n.el.style.display="none",n.$overlay.remove(),"function"==typeof n.options.onCloseEnd&&n.options.onCloseEnd.call(n,n.el)}};this.el.classList.contains("bottom-sheet")?t.extend(i,{bottom:"-100%",opacity:0}):t.extend(i,{top:[this.options.endingTop,this.options.startingTop],opacity:0,scaleX:.8,scaleY:.8}),e(i)}},{key:"open",value:function(t){if(!this.isOpen)return this.isOpen=!0,c._modalsOpen++,this._nthModalOpened=c._modalsOpen,this.$overlay[0].style.zIndex=1e3+2*c._modalsOpen,this.el.style.zIndex=1e3+2*c._modalsOpen+1,this._openingTrigger=t?t[0]:void 0,"function"==typeof this.options.onOpenStart&&this.options.onOpenStart.call(this,this.el,this._openingTrigger),this.options.preventScrolling&&(document.body.style.overflow="hidden"),this.el.classList.add("open"),this.el.insertAdjacentElement("afterend",this.$overlay[0]),this.options.dismissible&&(this._handleKeydownBound=this._handleKeydown.bind(this),this._handleFocusBound=this._handleFocus.bind(this),document.addEventListener("keydown",this._handleKeydownBound),document.addEventListener("focus",this._handleFocusBound,!0)),e.remove(this.el),e.remove(this.$overlay[0]),this._animateIn(),this.el.focus(),this}},{key:"close",value:function(){if(this.isOpen)return this.isOpen=!1,c._modalsOpen--,this._nthModalOpened=0,"function"==typeof this.options.onCloseStart&&this.options.onCloseStart.call(this,this.el),this.el.classList.remove("open"),0===c._modalsOpen&&(document.body.style.overflow=""),this.options.dismissible&&(document.removeEventListener("keydown",this._handleKeydownBound),document.removeEventListener("focus",this._handleFocusBound,!0)),e.remove(this.el),e.remove(this.$overlay[0]),this._animateOut(),this}}],[{key:"init",value:function(t,e){return r(c.__proto__||Object.getPrototypeOf(c),"init",this).call(this,this,t,e)}},{key:"getInstance",value:function(t){return(t.jquery?t[0]:t).M_Modal}},{key:"defaults",get:function(){return n}}]),c}();i._modalsOpen=0,i._count=0,M.Modal=i,M.jQueryLoaded&&M.initializeJqueryWrapper(i,"modal","M_Modal")}(cash,M.anime),function(t,e){"use strict";var n={inDuration:275,outDuration:200,onOpenStart:null,onOpenEnd:null,onCloseStart:null,onCloseEnd:null},i=function(i){function c(e,n){u(this,c);var i=s(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,c,e,n));return(i.el.M_Materialbox=i).options=t.extend({},c.defaults,n),i.overlayActive=!1,i.doneAnimating=!0,i.placeholder=t("<div></div>").addClass("material-placeholder"),i.originalWidth=0,i.originalHeight=0,i.originInlineStyles=i.$el.attr("style"),i.caption=i.el.getAttribute("data-caption")||"",i.$el.before(i.placeholder),i.placeholder.append(i.$el),i._setupEventHandlers(),i}return a(c,l),o(c,[{key:"destroy",value:function(){this._removeEventHandlers(),this.el.M_Materialbox=void 0,t(this.placeholder).after(this.el).remove(),this.$el.removeAttr("style")}},{key:"_setupEventHandlers",value:function(){this._handleMaterialboxClickBound=this._handleMaterialboxClick.bind(this),this.el.addEventListener("click",this._handleMaterialboxClickBound)}},{key:"_removeEventHandlers",value:function(){this.el.removeEventListener("click",this._handleMaterialboxClickBound)}},{key:"_handleMaterialboxClick",value:function(t){!1===this.doneAnimating||this.overlayActive&&this.doneAnimating?this.close():this.open()}},{key:"_handleWindowScroll",value:function(){this.overlayActive&&this.close()}},{key:"_handleWindowResize",value:function(){this.overlayActive&&this.close()}},{key:"_handleWindowEscape",value:function(t){27===t.keyCode&&this.doneAnimating&&this.overlayActive&&this.close()}},{key:"_makeAncestorsOverflowVisible",value:function(){this.ancestorsChanged=t();for(var e=this.placeholder[0].parentNode;null!==e&&!t(e).is(document);){var n=t(e);"visible"!==n.css("overflow")&&(n.css("overflow","visible"),void 0===this.ancestorsChanged?this.ancestorsChanged=n:this.ancestorsChanged=this.ancestorsChanged.add(n)),e=e.parentNode}}},{key:"_animateImageIn",value:function(){var t=this,n={targets:this.el,height:[this.originalHeight,this.newHeight],width:[this.originalWidth,this.newWidth],left:M.getDocumentScrollLeft()+this.windowWidth/2-this.placeholder.offset().left-this.newWidth/2,top:M.getDocumentScrollTop()+this.windowHeight/2-this.placeholder.offset().top-this.newHeight/2,duration:this.options.inDuration,easing:"easeOutQuad",complete:function(){t.doneAnimating=!0,"function"==typeof t.options.onOpenEnd&&t.options.onOpenEnd.call(t,t.el)}};this.maxWidth=this.$el.css("max-width"),this.maxHeight=this.$el.css("max-height"),"none"!==this.maxWidth&&(n.maxWidth=this.newWidth),"none"!==this.maxHeight&&(n.maxHeight=this.newHeight),e(n)}},{key:"_animateImageOut",value:function(){var t=this,n={targets:this.el,width:this.originalWidth,height:this.originalHeight,left:0,top:0,duration:this.options.outDuration,easing:"easeOutQuad",complete:function(){t.placeholder.css({height:"",width:"",position:"",top:"",left:""}),t.attrWidth&&t.$el.attr("width",t.attrWidth),t.attrHeight&&t.$el.attr("height",t.attrHeight),t.$el.removeAttr("style"),t.originInlineStyles&&t.$el.attr("style",t.originInlineStyles),t.$el.removeClass("active"),t.doneAnimating=!0,t.ancestorsChanged.length&&t.ancestorsChanged.css("overflow",""),"function"==typeof t.options.onCloseEnd&&t.options.onCloseEnd.call(t,t.el)}};e(n)}},{key:"_updateVars",value:function(){this.windowWidth=window.innerWidth,this.windowHeight=window.innerHeight,this.caption=this.el.getAttribute("data-caption")||""}},{key:"open",value:function(){var n=this;this._updateVars(),this.originalWidth=this.el.getBoundingClientRect().width,this.originalHeight=this.el.getBoundingClientRect().height,this.doneAnimating=!1,this.$el.addClass("active"),this.overlayActive=!0,"function"==typeof this.options.onOpenStart&&this.options.onOpenStart.call(this,this.el),this.placeholder.css({width:this.placeholder[0].getBoundingClientRect().width+"px",height:this.placeholder[0].getBoundingClientRect().height+"px",position:"relative",top:0,left:0}),this._makeAncestorsOverflowVisible(),this.$el.css({position:"absolute","z-index":1e3,"will-change":"left, top, width, height"}),this.attrWidth=this.$el.attr("width"),this.attrHeight=this.$el.attr("height"),this.attrWidth&&(this.$el.css("width",this.attrWidth+"px"),this.$el.removeAttr("width")),this.attrHeight&&(this.$el.css("width",this.attrHeight+"px"),this.$el.removeAttr("height")),this.$overlay=t('<div id="materialbox-overlay"></div>').css({opacity:0}).one("click",(function(){n.doneAnimating&&n.close()})),this.$el.before(this.$overlay);var i=this.$overlay[0].getBoundingClientRect();this.$overlay.css({width:this.windowWidth+"px",height:this.windowHeight+"px",left:-1*i.left+"px",top:-1*i.top+"px"}),e.remove(this.el),e.remove(this.$overlay[0]),e({targets:this.$overlay[0],opacity:1,duration:this.options.inDuration,easing:"easeOutQuad"}),""!==this.caption&&(this.$photocaption&&e.remove(this.$photoCaption[0]),this.$photoCaption=t('<div class="materialbox-caption"></div>'),this.$photoCaption.text(this.caption),t("body").append(this.$photoCaption),this.$photoCaption.css({display:"inline"}),e({targets:this.$photoCaption[0],opacity:1,duration:this.options.inDuration,easing:"easeOutQuad"}));var r=0,o=this.originalWidth/this.windowWidth,s=this.originalHeight/this.windowHeight;this.newWidth=0,this.newHeight=0,s<o?(r=this.originalHeight/this.originalWidth,this.newWidth=.9*this.windowWidth,this.newHeight=.9*this.windowWidth*r):(r=this.originalWidth/this.originalHeight,this.newWidth=.9*this.windowHeight*r,this.newHeight=.9*this.windowHeight),this._animateImageIn(),this._handleWindowScrollBound=this._handleWindowScroll.bind(this),this._handleWindowResizeBound=this._handleWindowResize.bind(this),this._handleWindowEscapeBound=this._handleWindowEscape.bind(this),window.addEventListener("scroll",this._handleWindowScrollBound),window.addEventListener("resize",this._handleWindowResizeBound),window.addEventListener("keyup",this._handleWindowEscapeBound)}},{key:"close",value:function(){var t=this;this._updateVars(),this.doneAnimating=!1,"function"==typeof this.options.onCloseStart&&this.options.onCloseStart.call(this,this.el),e.remove(this.el),e.remove(this.$overlay[0]),""!==this.caption&&e.remove(this.$photoCaption[0]),window.removeEventListener("scroll",this._handleWindowScrollBound),window.removeEventListener("resize",this._handleWindowResizeBound),window.removeEventListener("keyup",this._handleWindowEscapeBound),e({targets:this.$overlay[0],opacity:0,duration:this.options.outDuration,easing:"easeOutQuad",complete:function(){t.overlayActive=!1,t.$overlay.remove()}}),this._animateImageOut(),""!==this.caption&&e({targets:this.$photoCaption[0],opacity:0,duration:this.options.outDuration,easing:"easeOutQuad",complete:function(){t.$photoCaption.remove()}})}}],[{key:"init",value:function(t,e){return r(c.__proto__||Object.getPrototypeOf(c),"init",this).call(this,this,t,e)}},{key:"getInstance",value:function(t){return(t.jquery?t[0]:t).M_Materialbox}},{key:"defaults",get:function(){return n}}]),c}();M.Materialbox=i,M.jQueryLoaded&&M.initializeJqueryWrapper(i,"materialbox","M_Materialbox")}(cash,M.anime),function(t){"use strict";var e={responsiveThreshold:0},n=function(n){function i(e,n){u(this,i);var r=s(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,i,e,n));return(r.el.M_Parallax=r).options=t.extend({},i.defaults,n),r._enabled=window.innerWidth>r.options.responsiveThreshold,r.$img=r.$el.find("img").first(),r.$img.each((function(){this.complete&&t(this).trigger("load")})),r._updateParallax(),r._setupEventHandlers(),r._setupStyles(),i._parallaxes.push(r),r}return a(i,l),o(i,[{key:"destroy",value:function(){i._parallaxes.splice(i._parallaxes.indexOf(this),1),this.$img[0].style.transform="",this._removeEventHandlers(),this.$el[0].M_Parallax=void 0}},{key:"_setupEventHandlers",value:function(){this._handleImageLoadBound=this._handleImageLoad.bind(this),this.$img[0].addEventListener("load",this._handleImageLoadBound),0===i._parallaxes.length&&(i._handleScrollThrottled=M.throttle(i._handleScroll,5),window.addEventListener("scroll",i._handleScrollThrottled),i._handleWindowResizeThrottled=M.throttle(i._handleWindowResize,5),window.addEventListener("resize",i._handleWindowResizeThrottled))}},{key:"_removeEventHandlers",value:function(){this.$img[0].removeEventListener("load",this._handleImageLoadBound),0===i._parallaxes.length&&(window.removeEventListener("scroll",i._handleScrollThrottled),window.removeEventListener("resize",i._handleWindowResizeThrottled))}},{key:"_setupStyles",value:function(){this.$img[0].style.opacity=1}},{key:"_handleImageLoad",value:function(){this._updateParallax()}},{key:"_updateParallax",value:function(){var t=0<this.$el.height()?this.el.parentNode.offsetHeight:500,e=this.$img[0].offsetHeight-t,n=this.$el.offset().top+t,i=this.$el.offset().top,r=M.getDocumentScrollTop(),o=window.innerHeight,s=e*((r+o-i)/(t+o));this._enabled?r<n&&i<r+o&&(this.$img[0].style.transform="translate3D(-50%, "+s+"px, 0)"):this.$img[0].style.transform=""}}],[{key:"init",value:function(t,e){return r(i.__proto__||Object.getPrototypeOf(i),"init",this).call(this,this,t,e)}},{key:"getInstance",value:function(t){return(t.jquery?t[0]:t).M_Parallax}},{key:"_handleScroll",value:function(){for(var t=0;t<i._parallaxes.length;t++){var e=i._parallaxes[t];e._updateParallax.call(e)}}},{key:"_handleWindowResize",value:function(){for(var t=0;t<i._parallaxes.length;t++){var e=i._parallaxes[t];e._enabled=window.innerWidth>e.options.responsiveThreshold}}},{key:"defaults",get:function(){return e}}]),i}();n._parallaxes=[],M.Parallax=n,M.jQueryLoaded&&M.initializeJqueryWrapper(n,"parallax","M_Parallax")}(cash),function(t,e){"use strict";var n={duration:300,onShow:null,swipeable:!1,responsiveThreshold:1/0},i=function(i){function c(e,n){u(this,c);var i=s(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,c,e,n));return(i.el.M_Tabs=i).options=t.extend({},c.defaults,n),i.$tabLinks=i.$el.children("li.tab").children("a"),i.index=0,i._setupActiveTabLink(),i.options.swipeable?i._setupSwipeableTabs():i._setupNormalTabs(),i._setTabsAndTabWidth(),i._createIndicator(),i._setupEventHandlers(),i}return a(c,l),o(c,[{key:"destroy",value:function(){this._removeEventHandlers(),this._indicator.parentNode.removeChild(this._indicator),this.options.swipeable?this._teardownSwipeableTabs():this._teardownNormalTabs(),this.$el[0].M_Tabs=void 0}},{key:"_setupEventHandlers",value:function(){this._handleWindowResizeBound=this._handleWindowResize.bind(this),window.addEventListener("resize",this._handleWindowResizeBound),this._handleTabClickBound=this._handleTabClick.bind(this),this.el.addEventListener("click",this._handleTabClickBound)}},{key:"_removeEventHandlers",value:function(){window.removeEventListener("resize",this._handleWindowResizeBound),this.el.removeEventListener("click",this._handleTabClickBound)}},{key:"_handleWindowResize",value:function(){this._setTabsAndTabWidth(),0!==this.tabWidth&&0!==this.tabsWidth&&(this._indicator.style.left=this._calcLeftPos(this.$activeTabLink)+"px",this._indicator.style.right=this._calcRightPos(this.$activeTabLink)+"px")}},{key:"_handleTabClick",value:function(e){var n=this,i=t(e.target).closest("li.tab"),r=t(e.target).closest("a");if(r.length&&r.parent().hasClass("tab"))if(i.hasClass("disabled"))e.preventDefault();else if(!r.attr("target")){this.$activeTabLink.removeClass("active");var o=this.$content;this.$activeTabLink=r,this.$content=t(M.escapeHash(r[0].hash)),this.$tabLinks=this.$el.children("li.tab").children("a"),this.$activeTabLink.addClass("active");var s=this.index;this.index=Math.max(this.$tabLinks.index(r),0),this.options.swipeable?this._tabsCarousel&&this._tabsCarousel.set(this.index,(function(){"function"==typeof n.options.onShow&&n.options.onShow.call(n,n.$content[0])})):this.$content.length&&(this.$content[0].style.display="block",this.$content.addClass("active"),"function"==typeof this.options.onShow&&this.options.onShow.call(this,this.$content[0]),o.length&&!o.is(this.$content)&&(o[0].style.display="none",o.removeClass("active"))),this._setTabsAndTabWidth(),this._animateIndicator(s),e.preventDefault()}}},{key:"_createIndicator",value:function(){var t=this,e=document.createElement("li");e.classList.add("indicator"),this.el.appendChild(e),this._indicator=e,setTimeout((function(){t._indicator.style.left=t._calcLeftPos(t.$activeTabLink)+"px",t._indicator.style.right=t._calcRightPos(t.$activeTabLink)+"px"}),0)}},{key:"_setupActiveTabLink",value:function(){this.$activeTabLink=t(this.$tabLinks.filter('[href="'+location.hash+'"]')),0===this.$activeTabLink.length&&(this.$activeTabLink=this.$el.children("li.tab").children("a.active").first()),0===this.$activeTabLink.length&&(this.$activeTabLink=this.$el.children("li.tab").children("a").first()),this.$tabLinks.removeClass("active"),this.$activeTabLink[0].classList.add("active"),this.index=Math.max(this.$tabLinks.index(this.$activeTabLink),0),this.$activeTabLink.length&&(this.$content=t(M.escapeHash(this.$activeTabLink[0].hash)),this.$content.addClass("active"))}},{key:"_setupSwipeableTabs",value:function(){var e=this;window.innerWidth>this.options.responsiveThreshold&&(this.options.swipeable=!1);var n=t();this.$tabLinks.each((function(e){var i=t(M.escapeHash(e.hash));i.addClass("carousel-item"),n=n.add(i)}));var i=t('<div class="tabs-content carousel carousel-slider"></div>');n.first().before(i),i.append(n),n[0].style.display="";var r=this.$activeTabLink.closest(".tab").index();this._tabsCarousel=M.Carousel.init(i[0],{fullWidth:!0,noWrap:!0,onCycleTo:function(n){var i=e.index;e.index=t(n).index(),e.$activeTabLink.removeClass("active"),e.$activeTabLink=e.$tabLinks.eq(e.index),e.$activeTabLink.addClass("active"),e._animateIndicator(i),"function"==typeof e.options.onShow&&e.options.onShow.call(e,e.$content[0])}}),this._tabsCarousel.set(r)}},{key:"_teardownSwipeableTabs",value:function(){var t=this._tabsCarousel.$el;this._tabsCarousel.destroy(),t.after(t.children()),t.remove()}},{key:"_setupNormalTabs",value:function(){this.$tabLinks.not(this.$activeTabLink).each((function(e){if(e.hash){var n=t(M.escapeHash(e.hash));n.length&&(n[0].style.display="none")}}))}},{key:"_teardownNormalTabs",value:function(){this.$tabLinks.each((function(e){if(e.hash){var n=t(M.escapeHash(e.hash));n.length&&(n[0].style.display="")}}))}},{key:"_setTabsAndTabWidth",value:function(){this.tabsWidth=this.$el.width(),this.tabWidth=Math.max(this.tabsWidth,this.el.scrollWidth)/this.$tabLinks.length}},{key:"_calcRightPos",value:function(t){return Math.ceil(this.tabsWidth-t.position().left-t[0].getBoundingClientRect().width)}},{key:"_calcLeftPos",value:function(t){return Math.floor(t.position().left)}},{key:"updateTabIndicator",value:function(){this._setTabsAndTabWidth(),this._animateIndicator(this.index)}},{key:"_animateIndicator",value:function(t){var n=0,i=0;0<=this.index-t?n=90:i=90;var r={targets:this._indicator,left:{value:this._calcLeftPos(this.$activeTabLink),delay:n},right:{value:this._calcRightPos(this.$activeTabLink),delay:i},duration:this.options.duration,easing:"easeOutQuad"};e.remove(this._indicator),e(r)}},{key:"select",value:function(t){var e=this.$tabLinks.filter('[href="#'+t+'"]');e.length&&e.trigger("click")}}],[{key:"init",value:function(t,e){return r(c.__proto__||Object.getPrototypeOf(c),"init",this).call(this,this,t,e)}},{key:"getInstance",value:function(t){return(t.jquery?t[0]:t).M_Tabs}},{key:"defaults",get:function(){return n}}]),c}();M.Tabs=i,M.jQueryLoaded&&M.initializeJqueryWrapper(i,"tabs","M_Tabs")}(cash,M.anime),function(t,e){"use strict";var n={exitDelay:200,enterDelay:0,html:null,margin:5,inDuration:250,outDuration:200,position:"bottom",transitionMovement:10},i=function(i){function c(e,n){u(this,c);var i=s(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,c,e,n));return(i.el.M_Tooltip=i).options=t.extend({},c.defaults,n),i.isOpen=!1,i.isHovered=!1,i.isFocused=!1,i._appendTooltipEl(),i._setupEventHandlers(),i}return a(c,l),o(c,[{key:"destroy",value:function(){t(this.tooltipEl).remove(),this._removeEventHandlers(),this.el.M_Tooltip=void 0}},{key:"_appendTooltipEl",value:function(){var t=document.createElement("div");t.classList.add("material-tooltip"),this.tooltipEl=t;var e=document.createElement("div");e.classList.add("tooltip-content"),e.innerHTML=this.options.html,t.appendChild(e),document.body.appendChild(t)}},{key:"_updateTooltipContent",value:function(){this.tooltipEl.querySelector(".tooltip-content").innerHTML=this.options.html}},{key:"_setupEventHandlers",value:function(){this._handleMouseEnterBound=this._handleMouseEnter.bind(this),this._handleMouseLeaveBound=this._handleMouseLeave.bind(this),this._handleFocusBound=this._handleFocus.bind(this),this._handleBlurBound=this._handleBlur.bind(this),this.el.addEventListener("mouseenter",this._handleMouseEnterBound),this.el.addEventListener("mouseleave",this._handleMouseLeaveBound),this.el.addEventListener("focus",this._handleFocusBound,!0),this.el.addEventListener("blur",this._handleBlurBound,!0)}},{key:"_removeEventHandlers",value:function(){this.el.removeEventListener("mouseenter",this._handleMouseEnterBound),this.el.removeEventListener("mouseleave",this._handleMouseLeaveBound),this.el.removeEventListener("focus",this._handleFocusBound,!0),this.el.removeEventListener("blur",this._handleBlurBound,!0)}},{key:"open",value:function(e){this.isOpen||(e=void 0===e||void 0,this.isOpen=!0,this.options=t.extend({},this.options,this._getAttributeOptions()),this._updateTooltipContent(),this._setEnterDelayTimeout(e))}},{key:"close",value:function(){this.isOpen&&(this.isHovered=!1,this.isFocused=!1,this.isOpen=!1,this._setExitDelayTimeout())}},{key:"_setExitDelayTimeout",value:function(){var t=this;clearTimeout(this._exitDelayTimeout),this._exitDelayTimeout=setTimeout((function(){t.isHovered||t.isFocused||t._animateOut()}),this.options.exitDelay)}},{key:"_setEnterDelayTimeout",value:function(t){var e=this;clearTimeout(this._enterDelayTimeout),this._enterDelayTimeout=setTimeout((function(){(e.isHovered||e.isFocused||t)&&e._animateIn()}),this.options.enterDelay)}},{key:"_positionTooltip",value:function(){var e,n=this.el,i=this.tooltipEl,r=n.offsetHeight,o=n.offsetWidth,s=i.offsetHeight,a=i.offsetWidth,u=this.options.margin,c=void 0,l=void 0;this.xMovement=0,this.yMovement=0,c=n.getBoundingClientRect().top+M.getDocumentScrollTop(),l=n.getBoundingClientRect().left+M.getDocumentScrollLeft(),"top"===this.options.position?(c+=-s-u,l+=o/2-a/2,this.yMovement=-this.options.transitionMovement):"right"===this.options.position?(c+=r/2-s/2,l+=o+u,this.xMovement=this.options.transitionMovement):"left"===this.options.position?(c+=r/2-s/2,l+=-a-u,this.xMovement=-this.options.transitionMovement):(c+=r+u,l+=o/2-a/2,this.yMovement=this.options.transitionMovement),e=this._repositionWithinScreen(l,c,a,s),t(i).css({top:e.y+"px",left:e.x+"px"})}},{key:"_repositionWithinScreen",value:function(t,e,n,i){var r=M.getDocumentScrollLeft(),o=M.getDocumentScrollTop(),s=t-r,a=e-o,u={left:s,top:a,width:n,height:i},c=this.options.margin+this.options.transitionMovement,l=M.checkWithinContainer(document.body,u,c);return l.left?s=c:l.right&&(s-=s+n-window.innerWidth),l.top?a=c:l.bottom&&(a-=a+i-window.innerHeight),{x:s+r,y:a+o}}},{key:"_animateIn",value:function(){this._positionTooltip(),this.tooltipEl.style.visibility="visible",e.remove(this.tooltipEl),e({targets:this.tooltipEl,opacity:1,translateX:this.xMovement,translateY:this.yMovement,duration:this.options.inDuration,easing:"easeOutCubic"})}},{key:"_animateOut",value:function(){e.remove(this.tooltipEl),e({targets:this.tooltipEl,opacity:0,translateX:0,translateY:0,duration:this.options.outDuration,easing:"easeOutCubic"})}},{key:"_handleMouseEnter",value:function(){this.isHovered=!0,this.isFocused=!1,this.open(!1)}},{key:"_handleMouseLeave",value:function(){this.isHovered=!1,this.isFocused=!1,this.close()}},{key:"_handleFocus",value:function(){M.tabPressed&&(this.isFocused=!0,this.open(!1))}},{key:"_handleBlur",value:function(){this.isFocused=!1,this.close()}},{key:"_getAttributeOptions",value:function(){var t={},e=this.el.getAttribute("data-tooltip"),n=this.el.getAttribute("data-position");return e&&(t.html=e),n&&(t.position=n),t}}],[{key:"init",value:function(t,e){return r(c.__proto__||Object.getPrototypeOf(c),"init",this).call(this,this,t,e)}},{key:"getInstance",value:function(t){return(t.jquery?t[0]:t).M_Tooltip}},{key:"defaults",get:function(){return n}}]),c}();M.Tooltip=i,M.jQueryLoaded&&M.initializeJqueryWrapper(i,"tooltip","M_Tooltip")}(cash,M.anime),function(t){"use strict";var e=e||{},n=document.querySelectorAll.bind(document);function i(t){var e="";for(var n in t)t.hasOwnProperty(n)&&(e+=n+":"+t[n]+";");return e}var r={duration:750,show:function(t,e){if(2===t.button)return!1;var n=e||this,o=document.createElement("div");o.className="waves-ripple",n.appendChild(o);var s,a,u,c,l,h,f,d=(h={top:0,left:0},a=(f=(s=n)&&s.ownerDocument).documentElement,void 0!==s.getBoundingClientRect&&(h=s.getBoundingClientRect()),u=null!==(l=c=f)&&l===l.window?c:9===c.nodeType&&c.defaultView,{top:h.top+u.pageYOffset-a.clientTop,left:h.left+u.pageXOffset-a.clientLeft}),p=t.pageY-d.top,v=t.pageX-d.left,g="scale("+n.clientWidth/100*10+")";"touches"in t&&(p=t.touches[0].pageY-d.top,v=t.touches[0].pageX-d.left),o.setAttribute("data-hold",Date.now()),o.setAttribute("data-scale",g),o.setAttribute("data-x",v),o.setAttribute("data-y",p);var m={top:p+"px",left:v+"px"};o.className=o.className+" waves-notransition",o.setAttribute("style",i(m)),o.className=o.className.replace("waves-notransition",""),m["-webkit-transform"]=g,m["-moz-transform"]=g,m["-ms-transform"]=g,m["-o-transform"]=g,m.transform=g,m.opacity="1",m["-webkit-transition-duration"]=r.duration+"ms",m["-moz-transition-duration"]=r.duration+"ms",m["-o-transition-duration"]=r.duration+"ms",m["transition-duration"]=r.duration+"ms",m["-webkit-transition-timing-function"]="cubic-bezier(0.250, 0.460, 0.450, 0.940)",m["-moz-transition-timing-function"]="cubic-bezier(0.250, 0.460, 0.450, 0.940)",m["-o-transition-timing-function"]="cubic-bezier(0.250, 0.460, 0.450, 0.940)",m["transition-timing-function"]="cubic-bezier(0.250, 0.460, 0.450, 0.940)",o.setAttribute("style",i(m))},hide:function(t){o.touchup(t);var e=this,n=(e.clientWidth,null),s=e.getElementsByClassName("waves-ripple");if(!(0<s.length))return!1;var a=(n=s[s.length-1]).getAttribute("data-x"),u=n.getAttribute("data-y"),c=n.getAttribute("data-scale"),l=350-(Date.now()-Number(n.getAttribute("data-hold")));l<0&&(l=0),setTimeout((function(){var t={top:u+"px",left:a+"px",opacity:"0","-webkit-transition-duration":r.duration+"ms","-moz-transition-duration":r.duration+"ms","-o-transition-duration":r.duration+"ms","transition-duration":r.duration+"ms","-webkit-transform":c,"-moz-transform":c,"-ms-transform":c,"-o-transform":c,transform:c};n.setAttribute("style",i(t)),setTimeout((function(){try{e.removeChild(n)}catch(t){return!1}}),r.duration)}),l)},wrapInput:function(t){for(var e=0;e<t.length;e++){var n=t[e];if("input"===n.tagName.toLowerCase()){var i=n.parentNode;if("i"===i.tagName.toLowerCase()&&-1!==i.className.indexOf("waves-effect"))continue;var r=document.createElement("i");r.className=n.className+" waves-input-wrapper";var o=n.getAttribute("style");o||(o=""),r.setAttribute("style",o),n.className="waves-button-input",n.removeAttribute("style"),i.replaceChild(r,n),r.appendChild(n)}}}},o={touches:0,allowEvent:function(t){var e=!0;return"touchstart"===t.type?o.touches+=1:"touchend"===t.type||"touchcancel"===t.type?setTimeout((function(){0<o.touches&&(o.touches-=1)}),500):"mousedown"===t.type&&0<o.touches&&(e=!1),e},touchup:function(t){o.allowEvent(t)}};function s(e){var n=function(t){if(!1===o.allowEvent(t))return null;for(var e=null,n=t.target||t.srcElement;null!==n.parentNode;){if(!(n instanceof SVGElement)&&-1!==n.className.indexOf("waves-effect")){e=n;break}n=n.parentNode}return e}(e);null!==n&&(r.show(e,n),"ontouchstart"in t&&(n.addEventListener("touchend",r.hide,!1),n.addEventListener("touchcancel",r.hide,!1)),n.addEventListener("mouseup",r.hide,!1),n.addEventListener("mouseleave",r.hide,!1),n.addEventListener("dragend",r.hide,!1))}e.displayEffect=function(e){"duration"in(e=e||{})&&(r.duration=e.duration),r.wrapInput(n(".waves-effect")),"ontouchstart"in t&&document.body.addEventListener("touchstart",s,!1),document.body.addEventListener("mousedown",s,!1)},e.attach=function(e){"input"===e.tagName.toLowerCase()&&(r.wrapInput([e]),e=e.parentNode),"ontouchstart"in t&&e.addEventListener("touchstart",s,!1),e.addEventListener("mousedown",s,!1)},t.Waves=e,document.addEventListener("DOMContentLoaded",(function(){e.displayEffect()}),!1)}(window),function(t,e){"use strict";var n={html:"",displayLength:4e3,inDuration:300,outDuration:375,classes:"",completeCallback:null,activationPercent:.8},i=function(){function i(e){u(this,i),this.options=t.extend({},i.defaults,e),this.message=this.options.html,this.panning=!1,this.timeRemaining=this.options.displayLength,0===i._toasts.length&&i._createContainer(),i._toasts.push(this);var n=this._createToast();(n.M_Toast=this).el=n,this.$el=t(n),this._animateIn(),this._setTimer()}return o(i,[{key:"_createToast",value:function(){var e=document.createElement("div");return e.classList.add("toast"),this.options.classes.length&&t(e).addClass(this.options.classes),("object"==typeof HTMLElement?this.message instanceof HTMLElement:this.message&&"object"==typeof this.message&&null!==this.message&&1===this.message.nodeType&&"string"==typeof this.message.nodeName)?e.appendChild(this.message):this.message.jquery?t(e).append(this.message[0]):e.innerHTML=this.message,i._container.appendChild(e),e}},{key:"_animateIn",value:function(){e({targets:this.el,top:0,opacity:1,duration:this.options.inDuration,easing:"easeOutCubic"})}},{key:"_setTimer",value:function(){var t=this;this.timeRemaining!==1/0&&(this.counterInterval=setInterval((function(){t.panning||(t.timeRemaining-=20),t.timeRemaining<=0&&t.dismiss()}),20))}},{key:"dismiss",value:function(){var t=this;window.clearInterval(this.counterInterval);var n=this.el.offsetWidth*this.options.activationPercent;this.wasSwiped&&(this.el.style.transition="transform .05s, opacity .05s",this.el.style.transform="translateX("+n+"px)",this.el.style.opacity=0),e({targets:this.el,opacity:0,marginTop:-40,duration:this.options.outDuration,easing:"easeOutExpo",complete:function(){"function"==typeof t.options.completeCallback&&t.options.completeCallback(),t.$el.remove(),i._toasts.splice(i._toasts.indexOf(t),1),0===i._toasts.length&&i._removeContainer()}})}}],[{key:"getInstance",value:function(t){return(t.jquery?t[0]:t).M_Toast}},{key:"_createContainer",value:function(){var t=document.createElement("div");t.setAttribute("id","toast-container"),t.addEventListener("touchstart",i._onDragStart),t.addEventListener("touchmove",i._onDragMove),t.addEventListener("touchend",i._onDragEnd),t.addEventListener("mousedown",i._onDragStart),document.addEventListener("mousemove",i._onDragMove),document.addEventListener("mouseup",i._onDragEnd),document.body.appendChild(t),i._container=t}},{key:"_removeContainer",value:function(){document.removeEventListener("mousemove",i._onDragMove),document.removeEventListener("mouseup",i._onDragEnd),t(i._container).remove(),i._container=null}},{key:"_onDragStart",value:function(e){if(e.target&&t(e.target).closest(".toast").length){var n=t(e.target).closest(".toast")[0].M_Toast;n.panning=!0,(i._draggedToast=n).el.classList.add("panning"),n.el.style.transition="",n.startingXPos=i._xPos(e),n.time=Date.now(),n.xPos=i._xPos(e)}}},{key:"_onDragMove",value:function(t){if(i._draggedToast){t.preventDefault();var e=i._draggedToast;e.deltaX=Math.abs(e.xPos-i._xPos(t)),e.xPos=i._xPos(t),e.velocityX=e.deltaX/(Date.now()-e.time),e.time=Date.now();var n=e.xPos-e.startingXPos,r=e.el.offsetWidth*e.options.activationPercent;e.el.style.transform="translateX("+n+"px)",e.el.style.opacity=1-Math.abs(n/r)}}},{key:"_onDragEnd",value:function(){if(i._draggedToast){var t=i._draggedToast;t.panning=!1,t.el.classList.remove("panning");var e=t.xPos-t.startingXPos,n=t.el.offsetWidth*t.options.activationPercent;Math.abs(e)>n||1<t.velocityX?(t.wasSwiped=!0,t.dismiss()):(t.el.style.transition="transform .2s, opacity .2s",t.el.style.transform="",t.el.style.opacity=""),i._draggedToast=null}}},{key:"_xPos",value:function(t){return t.targetTouches&&1<=t.targetTouches.length?t.targetTouches[0].clientX:t.clientX}},{key:"dismissAll",value:function(){for(var t in i._toasts)i._toasts[t].dismiss()}},{key:"defaults",get:function(){return n}}]),i}();i._toasts=[],i._container=null,i._draggedToast=null,M.Toast=i,M.toast=function(t){return new i(t)}}(cash,M.anime),function(t,e){"use strict";var n={edge:"left",draggable:!0,inDuration:250,outDuration:200,onOpenStart:null,onOpenEnd:null,onCloseStart:null,onCloseEnd:null,preventScrolling:!0},i=function(i){function c(e,n){u(this,c);var i=s(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,c,e,n));return(i.el.M_Sidenav=i).id=i.$el.attr("id"),i.options=t.extend({},c.defaults,n),i.isOpen=!1,i.isFixed=i.el.classList.contains("sidenav-fixed"),i.isDragged=!1,i.lastWindowWidth=window.innerWidth,i.lastWindowHeight=window.innerHeight,i._createOverlay(),i._createDragTarget(),i._setupEventHandlers(),i._setupClasses(),i._setupFixed(),c._sidenavs.push(i),i}return a(c,l),o(c,[{key:"destroy",value:function(){this._removeEventHandlers(),this._enableBodyScrolling(),this._overlay.parentNode.removeChild(this._overlay),this.dragTarget.parentNode.removeChild(this.dragTarget),this.el.M_Sidenav=void 0,this.el.style.transform="";var t=c._sidenavs.indexOf(this);0<=t&&c._sidenavs.splice(t,1)}},{key:"_createOverlay",value:function(){var t=document.createElement("div");this._closeBound=this.close.bind(this),t.classList.add("sidenav-overlay"),t.addEventListener("click",this._closeBound),document.body.appendChild(t),this._overlay=t}},{key:"_setupEventHandlers",value:function(){0===c._sidenavs.length&&document.body.addEventListener("click",this._handleTriggerClick),this._handleDragTargetDragBound=this._handleDragTargetDrag.bind(this),this._handleDragTargetReleaseBound=this._handleDragTargetRelease.bind(this),this._handleCloseDragBound=this._handleCloseDrag.bind(this),this._handleCloseReleaseBound=this._handleCloseRelease.bind(this),this._handleCloseTriggerClickBound=this._handleCloseTriggerClick.bind(this),this.dragTarget.addEventListener("touchmove",this._handleDragTargetDragBound),this.dragTarget.addEventListener("touchend",this._handleDragTargetReleaseBound),this._overlay.addEventListener("touchmove",this._handleCloseDragBound),this._overlay.addEventListener("touchend",this._handleCloseReleaseBound),this.el.addEventListener("touchmove",this._handleCloseDragBound),this.el.addEventListener("touchend",this._handleCloseReleaseBound),this.el.addEventListener("click",this._handleCloseTriggerClickBound),this.isFixed&&(this._handleWindowResizeBound=this._handleWindowResize.bind(this),window.addEventListener("resize",this._handleWindowResizeBound))}},{key:"_removeEventHandlers",value:function(){1===c._sidenavs.length&&document.body.removeEventListener("click",this._handleTriggerClick),this.dragTarget.removeEventListener("touchmove",this._handleDragTargetDragBound),this.dragTarget.removeEventListener("touchend",this._handleDragTargetReleaseBound),this._overlay.removeEventListener("touchmove",this._handleCloseDragBound),this._overlay.removeEventListener("touchend",this._handleCloseReleaseBound),this.el.removeEventListener("touchmove",this._handleCloseDragBound),this.el.removeEventListener("touchend",this._handleCloseReleaseBound),this.el.removeEventListener("click",this._handleCloseTriggerClickBound),this.isFixed&&window.removeEventListener("resize",this._handleWindowResizeBound)}},{key:"_handleTriggerClick",value:function(e){var n=t(e.target).closest(".sidenav-trigger");if(e.target&&n.length){var i=M.getIdFromTrigger(n[0]),r=document.getElementById(i).M_Sidenav;r&&r.open(n),e.preventDefault()}}},{key:"_startDrag",value:function(t){var n=t.targetTouches[0].clientX;this.isDragged=!0,this._startingXpos=n,this._xPos=this._startingXpos,this._time=Date.now(),this._width=this.el.getBoundingClientRect().width,this._overlay.style.display="block",this._initialScrollTop=this.isOpen?this.el.scrollTop:M.getDocumentScrollTop(),this._verticallyScrolling=!1,e.remove(this.el),e.remove(this._overlay)}},{key:"_dragMoveUpdate",value:function(t){var e=t.targetTouches[0].clientX,n=this.isOpen?this.el.scrollTop:M.getDocumentScrollTop();this.deltaX=Math.abs(this._xPos-e),this._xPos=e,this.velocityX=this.deltaX/(Date.now()-this._time),this._time=Date.now(),this._initialScrollTop!==n&&(this._verticallyScrolling=!0)}},{key:"_handleDragTargetDrag",value:function(t){if(this.options.draggable&&!this._isCurrentlyFixed()&&!this._verticallyScrolling){this.isDragged||this._startDrag(t),this._dragMoveUpdate(t);var e=this._xPos-this._startingXpos,n=0<e?"right":"left";e=Math.min(this._width,Math.abs(e)),this.options.edge===n&&(e=0);var i=e,r="translateX(-100%)";"right"===this.options.edge&&(r="translateX(100%)",i=-i),this.percentOpen=Math.min(1,e/this._width),this.el.style.transform=r+" translateX("+i+"px)",this._overlay.style.opacity=this.percentOpen}}},{key:"_handleDragTargetRelease",value:function(){this.isDragged&&(.2<this.percentOpen?this.open():this._animateOut(),this.isDragged=!1,this._verticallyScrolling=!1)}},{key:"_handleCloseDrag",value:function(t){if(this.isOpen){if(!this.options.draggable||this._isCurrentlyFixed()||this._verticallyScrolling)return;this.isDragged||this._startDrag(t),this._dragMoveUpdate(t);var e=this._xPos-this._startingXpos,n=0<e?"right":"left";e=Math.min(this._width,Math.abs(e)),this.options.edge!==n&&(e=0);var i=-e;"right"===this.options.edge&&(i=-i),this.percentOpen=Math.min(1,1-e/this._width),this.el.style.transform="translateX("+i+"px)",this._overlay.style.opacity=this.percentOpen}}},{key:"_handleCloseRelease",value:function(){this.isOpen&&this.isDragged&&(.8<this.percentOpen?this._animateIn():this.close(),this.isDragged=!1,this._verticallyScrolling=!1)}},{key:"_handleCloseTriggerClick",value:function(e){t(e.target).closest(".sidenav-close").length&&!this._isCurrentlyFixed()&&this.close()}},{key:"_handleWindowResize",value:function(){this.lastWindowWidth!==window.innerWidth&&(992<window.innerWidth?this.open():this.close()),this.lastWindowWidth=window.innerWidth,this.lastWindowHeight=window.innerHeight}},{key:"_setupClasses",value:function(){"right"===this.options.edge&&(this.el.classList.add("right-aligned"),this.dragTarget.classList.add("right-aligned"))}},{key:"_removeClasses",value:function(){this.el.classList.remove("right-aligned"),this.dragTarget.classList.remove("right-aligned")}},{key:"_setupFixed",value:function(){this._isCurrentlyFixed()&&this.open()}},{key:"_isCurrentlyFixed",value:function(){return this.isFixed&&992<window.innerWidth}},{key:"_createDragTarget",value:function(){var t=document.createElement("div");t.classList.add("drag-target"),document.body.appendChild(t),this.dragTarget=t}},{key:"_preventBodyScrolling",value:function(){document.body.style.overflow="hidden"}},{key:"_enableBodyScrolling",value:function(){document.body.style.overflow=""}},{key:"open",value:function(){!0!==this.isOpen&&(this.isOpen=!0,"function"==typeof this.options.onOpenStart&&this.options.onOpenStart.call(this,this.el),this._isCurrentlyFixed()?(e.remove(this.el),e({targets:this.el,translateX:0,duration:0,easing:"easeOutQuad"}),this._enableBodyScrolling(),this._overlay.style.display="none"):(this.options.preventScrolling&&this._preventBodyScrolling(),this.isDragged&&1==this.percentOpen||this._animateIn()))}},{key:"close",value:function(){if(!1!==this.isOpen)if(this.isOpen=!1,"function"==typeof this.options.onCloseStart&&this.options.onCloseStart.call(this,this.el),this._isCurrentlyFixed()){var t="left"===this.options.edge?"-105%":"105%";this.el.style.transform="translateX("+t+")"}else this._enableBodyScrolling(),this.isDragged&&0==this.percentOpen?this._overlay.style.display="none":this._animateOut()}},{key:"_animateIn",value:function(){this._animateSidenavIn(),this._animateOverlayIn()}},{key:"_animateSidenavIn",value:function(){var t=this,n="left"===this.options.edge?-1:1;this.isDragged&&(n="left"===this.options.edge?n+this.percentOpen:n-this.percentOpen),e.remove(this.el),e({targets:this.el,translateX:[100*n+"%",0],duration:this.options.inDuration,easing:"easeOutQuad",complete:function(){"function"==typeof t.options.onOpenEnd&&t.options.onOpenEnd.call(t,t.el)}})}},{key:"_animateOverlayIn",value:function(){var n=0;this.isDragged?n=this.percentOpen:t(this._overlay).css({display:"block"}),e.remove(this._overlay),e({targets:this._overlay,opacity:[n,1],duration:this.options.inDuration,easing:"easeOutQuad"})}},{key:"_animateOut",value:function(){this._animateSidenavOut(),this._animateOverlayOut()}},{key:"_animateSidenavOut",value:function(){var t=this,n="left"===this.options.edge?-1:1,i=0;this.isDragged&&(i="left"===this.options.edge?n+this.percentOpen:n-this.percentOpen),e.remove(this.el),e({targets:this.el,translateX:[100*i+"%",105*n+"%"],duration:this.options.outDuration,easing:"easeOutQuad",complete:function(){"function"==typeof t.options.onCloseEnd&&t.options.onCloseEnd.call(t,t.el)}})}},{key:"_animateOverlayOut",value:function(){var n=this;e.remove(this._overlay),e({targets:this._overlay,opacity:0,duration:this.options.outDuration,easing:"easeOutQuad",complete:function(){t(n._overlay).css("display","none")}})}}],[{key:"init",value:function(t,e){return r(c.__proto__||Object.getPrototypeOf(c),"init",this).call(this,this,t,e)}},{key:"getInstance",value:function(t){return(t.jquery?t[0]:t).M_Sidenav}},{key:"defaults",get:function(){return n}}]),c}();i._sidenavs=[],M.Sidenav=i,M.jQueryLoaded&&M.initializeJqueryWrapper(i,"sidenav","M_Sidenav")}(cash,M.anime),function(t,e){"use strict";var n={throttle:100,scrollOffset:200,activeClass:"active",getActiveElement:function(t){return'a[href="#'+t+'"]'}},i=function(i){function c(e,n){u(this,c);var i=s(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,c,e,n));return(i.el.M_ScrollSpy=i).options=t.extend({},c.defaults,n),c._elements.push(i),c._count++,c._increment++,i.tickId=-1,i.id=c._increment,i._setupEventHandlers(),i._handleWindowScroll(),i}return a(c,l),o(c,[{key:"destroy",value:function(){c._elements.splice(c._elements.indexOf(this),1),c._elementsInView.splice(c._elementsInView.indexOf(this),1),c._visibleElements.splice(c._visibleElements.indexOf(this.$el),1),c._count--,this._removeEventHandlers(),t(this.options.getActiveElement(this.$el.attr("id"))).removeClass(this.options.activeClass),this.el.M_ScrollSpy=void 0}},{key:"_setupEventHandlers",value:function(){var t=M.throttle(this._handleWindowScroll,200);this._handleThrottledResizeBound=t.bind(this),this._handleWindowScrollBound=this._handleWindowScroll.bind(this),1===c._count&&(window.addEventListener("scroll",this._handleWindowScrollBound),window.addEventListener("resize",this._handleThrottledResizeBound),document.body.addEventListener("click",this._handleTriggerClick))}},{key:"_removeEventHandlers",value:function(){0===c._count&&(window.removeEventListener("scroll",this._handleWindowScrollBound),window.removeEventListener("resize",this._handleThrottledResizeBound),document.body.removeEventListener("click",this._handleTriggerClick))}},{key:"_handleTriggerClick",value:function(n){for(var i=t(n.target),r=c._elements.length-1;0<=r;r--){var o=c._elements[r];if(i.is('a[href="#'+o.$el.attr("id")+'"]')){n.preventDefault();var s=o.$el.offset().top+1;e({targets:[document.documentElement,document.body],scrollTop:s-o.options.scrollOffset,duration:400,easing:"easeOutCubic"});break}}}},{key:"_handleWindowScroll",value:function(){c._ticks++;for(var t=M.getDocumentScrollTop(),e=M.getDocumentScrollLeft(),n=e+window.innerWidth,i=t+window.innerHeight,r=c._findElements(t,n,i,e),o=0;o<r.length;o++){var s=r[o];s.tickId<0&&s._enter(),s.tickId=c._ticks}for(var a=0;a<c._elementsInView.length;a++){var u=c._elementsInView[a],l=u.tickId;0<=l&&l!==c._ticks&&(u._exit(),u.tickId=-1)}c._elementsInView=r}},{key:"_enter",value:function(){(c._visibleElements=c._visibleElements.filter((function(t){return 0!=t.height()})))[0]?(t(this.options.getActiveElement(c._visibleElements[0].attr("id"))).removeClass(this.options.activeClass),c._visibleElements[0][0].M_ScrollSpy&&this.id<c._visibleElements[0][0].M_ScrollSpy.id?c._visibleElements.unshift(this.$el):c._visibleElements.push(this.$el)):c._visibleElements.push(this.$el),t(this.options.getActiveElement(c._visibleElements[0].attr("id"))).addClass(this.options.activeClass)}},{key:"_exit",value:function(){var e=this;(c._visibleElements=c._visibleElements.filter((function(t){return 0!=t.height()})))[0]&&(t(this.options.getActiveElement(c._visibleElements[0].attr("id"))).removeClass(this.options.activeClass),(c._visibleElements=c._visibleElements.filter((function(t){return t.attr("id")!=e.$el.attr("id")})))[0]&&t(this.options.getActiveElement(c._visibleElements[0].attr("id"))).addClass(this.options.activeClass))}}],[{key:"init",value:function(t,e){return r(c.__proto__||Object.getPrototypeOf(c),"init",this).call(this,this,t,e)}},{key:"getInstance",value:function(t){return(t.jquery?t[0]:t).M_ScrollSpy}},{key:"_findElements",value:function(t,e,n,i){for(var r=[],o=0;o<c._elements.length;o++){var s=c._elements[o],a=t+s.options.scrollOffset||200;if(0<s.$el.height()){var u=s.$el.offset().top,l=s.$el.offset().left,h=l+s.$el.width(),f=u+s.$el.height();!(e<l||h<i||n<u||f<a)&&r.push(s)}}return r}},{key:"defaults",get:function(){return n}}]),c}();i._elements=[],i._elementsInView=[],i._visibleElements=[],i._count=0,i._increment=0,i._ticks=0,M.ScrollSpy=i,M.jQueryLoaded&&M.initializeJqueryWrapper(i,"scrollSpy","M_ScrollSpy")}(cash,M.anime),function(t){"use strict";var e={data:{},limit:1/0,onAutocomplete:null,minLength:1,sortFunction:function(t,e,n){return t.indexOf(n)-e.indexOf(n)}},n=function(n){function i(e,n){u(this,i);var r=s(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,i,e,n));return(r.el.M_Autocomplete=r).options=t.extend({},i.defaults,n),r.isOpen=!1,r.count=0,r.activeIndex=-1,r.oldVal,r.$inputField=r.$el.closest(".input-field"),r.$active=t(),r._mousedown=!1,r._setupDropdown(),r._setupEventHandlers(),r}return a(i,l),o(i,[{key:"destroy",value:function(){this._removeEventHandlers(),this._removeDropdown(),this.el.M_Autocomplete=void 0}},{key:"_setupEventHandlers",value:function(){this._handleInputBlurBound=this._handleInputBlur.bind(this),this._handleInputKeyupAndFocusBound=this._handleInputKeyupAndFocus.bind(this),this._handleInputKeydownBound=this._handleInputKeydown.bind(this),this._handleInputClickBound=this._handleInputClick.bind(this),this._handleContainerMousedownAndTouchstartBound=this._handleContainerMousedownAndTouchstart.bind(this),this._handleContainerMouseupAndTouchendBound=this._handleContainerMouseupAndTouchend.bind(this),this.el.addEventListener("blur",this._handleInputBlurBound),this.el.addEventListener("keyup",this._handleInputKeyupAndFocusBound),this.el.addEventListener("focus",this._handleInputKeyupAndFocusBound),this.el.addEventListener("keydown",this._handleInputKeydownBound),this.el.addEventListener("click",this._handleInputClickBound),this.container.addEventListener("mousedown",this._handleContainerMousedownAndTouchstartBound),this.container.addEventListener("mouseup",this._handleContainerMouseupAndTouchendBound),void 0!==window.ontouchstart&&(this.container.addEventListener("touchstart",this._handleContainerMousedownAndTouchstartBound),this.container.addEventListener("touchend",this._handleContainerMouseupAndTouchendBound))}},{key:"_removeEventHandlers",value:function(){this.el.removeEventListener("blur",this._handleInputBlurBound),this.el.removeEventListener("keyup",this._handleInputKeyupAndFocusBound),this.el.removeEventListener("focus",this._handleInputKeyupAndFocusBound),this.el.removeEventListener("keydown",this._handleInputKeydownBound),this.el.removeEventListener("click",this._handleInputClickBound),this.container.removeEventListener("mousedown",this._handleContainerMousedownAndTouchstartBound),this.container.removeEventListener("mouseup",this._handleContainerMouseupAndTouchendBound),void 0!==window.ontouchstart&&(this.container.removeEventListener("touchstart",this._handleContainerMousedownAndTouchstartBound),this.container.removeEventListener("touchend",this._handleContainerMouseupAndTouchendBound))}},{key:"_setupDropdown",value:function(){var e=this;this.container=document.createElement("ul"),this.container.id="autocomplete-options-"+M.guid(),t(this.container).addClass("autocomplete-content dropdown-content"),this.$inputField.append(this.container),this.el.setAttribute("data-target",this.container.id),this.dropdown=M.Dropdown.init(this.el,{autoFocus:!1,closeOnClick:!1,coverTrigger:!1,onItemClick:function(n){e.selectOption(t(n))}}),this.el.removeEventListener("click",this.dropdown._handleClickBound)}},{key:"_removeDropdown",value:function(){this.container.parentNode.removeChild(this.container)}},{key:"_handleInputBlur",value:function(){this._mousedown||(this.close(),this._resetAutocomplete())}},{key:"_handleInputKeyupAndFocus",value:function(t){"keyup"===t.type&&(i._keydown=!1),this.count=0;var e=this.el.value.toLowerCase();13!==t.keyCode&&38!==t.keyCode&&40!==t.keyCode&&(this.oldVal===e||!M.tabPressed&&"focus"===t.type||this.open(),this.oldVal=e)}},{key:"_handleInputKeydown",value:function(e){i._keydown=!0;var n=e.keyCode,r=void 0,o=t(this.container).children("li").length;n===M.keys.ENTER&&0<=this.activeIndex?(r=t(this.container).children("li").eq(this.activeIndex)).length&&(this.selectOption(r),e.preventDefault()):n!==M.keys.ARROW_UP&&n!==M.keys.ARROW_DOWN||(e.preventDefault(),n===M.keys.ARROW_UP&&0<this.activeIndex&&this.activeIndex--,n===M.keys.ARROW_DOWN&&this.activeIndex<o-1&&this.activeIndex++,this.$active.removeClass("active"),0<=this.activeIndex&&(this.$active=t(this.container).children("li").eq(this.activeIndex),this.$active.addClass("active")))}},{key:"_handleInputClick",value:function(t){this.open()}},{key:"_handleContainerMousedownAndTouchstart",value:function(t){this._mousedown=!0}},{key:"_handleContainerMouseupAndTouchend",value:function(t){this._mousedown=!1}},{key:"_highlight",value:function(t,e){var n=e.find("img"),i=e.text().toLowerCase().indexOf(""+t.toLowerCase()),r=i+t.length-1,o=e.text().slice(0,i),s=e.text().slice(i,r+1),a=e.text().slice(r+1);e.html("<span>"+o+"<span class='highlight'>"+s+"</span>"+a+"</span>"),n.length&&e.prepend(n)}},{key:"_resetCurrentElement",value:function(){this.activeIndex=-1,this.$active.removeClass("active")}},{key:"_resetAutocomplete",value:function(){t(this.container).empty(),this._resetCurrentElement(),this.oldVal=null,this.isOpen=!1,this._mousedown=!1}},{key:"selectOption",value:function(t){var e=t.text().trim();this.el.value=e,this.$el.trigger("change"),this._resetAutocomplete(),this.close(),"function"==typeof this.options.onAutocomplete&&this.options.onAutocomplete.call(this,e)}},{key:"_renderDropdown",value:function(e,n){var i=this;this._resetAutocomplete();var r=[];for(var o in e)if(e.hasOwnProperty(o)&&-1!==o.toLowerCase().indexOf(n)){if(this.count>=this.options.limit)break;var s={data:e[o],key:o};r.push(s),this.count++}this.options.sortFunction&&r.sort((function(t,e){return i.options.sortFunction(t.key.toLowerCase(),e.key.toLowerCase(),n.toLowerCase())}));for(var a=0;a<r.length;a++){var u=r[a],c=t("<li></li>");u.data?c.append('<img src="'+u.data+'" class="right circle"><span>'+u.key+"</span>"):c.append("<span>"+u.key+"</span>"),t(this.container).append(c),this._highlight(n,c)}}},{key:"open",value:function(){var t=this.el.value.toLowerCase();this._resetAutocomplete(),t.length>=this.options.minLength&&(this.isOpen=!0,this._renderDropdown(this.options.data,t)),this.dropdown.isOpen?this.dropdown.recalculateDimensions():this.dropdown.open()}},{key:"close",value:function(){this.dropdown.close()}},{key:"updateData",value:function(t){var e=this.el.value.toLowerCase();this.options.data=t,this.isOpen&&this._renderDropdown(t,e)}}],[{key:"init",value:function(t,e){return r(i.__proto__||Object.getPrototypeOf(i),"init",this).call(this,this,t,e)}},{key:"getInstance",value:function(t){return(t.jquery?t[0]:t).M_Autocomplete}},{key:"defaults",get:function(){return e}}]),i}();n._keydown=!1,M.Autocomplete=n,M.jQueryLoaded&&M.initializeJqueryWrapper(n,"autocomplete","M_Autocomplete")}(cash),v=cash,M.updateTextFields=function(){v("input[type=text], input[type=password], input[type=email], input[type=url], input[type=tel], input[type=number], input[type=search], input[type=date], input[type=time], textarea").each((function(t,e){var n=v(this);0<t.value.length||v(t).is(":focus")||t.autofocus||null!==n.attr("placeholder")?n.siblings("label").addClass("active"):t.validity?n.siblings("label").toggleClass("active",!0===t.validity.badInput):n.siblings("label").removeClass("active")}))},M.validate_field=function(t){var e=null!==t.attr("data-length"),n=parseInt(t.attr("data-length")),i=t[0].value.length;0!==i||!1!==t[0].validity.badInput||t.is(":required")?t.hasClass("validate")&&(t.is(":valid")&&e&&i<=n||t.is(":valid")&&!e?(t.removeClass("invalid"),t.addClass("valid")):(t.removeClass("valid"),t.addClass("invalid"))):t.hasClass("validate")&&(t.removeClass("valid"),t.removeClass("invalid"))},M.textareaAutoResize=function(t){if(t instanceof Element&&(t=v(t)),t.length){var e=v(".hiddendiv").first();e.length||(e=v('<div class="hiddendiv common"></div>'),v("body").append(e));var n=t.css("font-family"),i=t.css("font-size"),r=t.css("line-height"),o=t.css("padding-top"),s=t.css("padding-right"),a=t.css("padding-bottom"),u=t.css("padding-left");i&&e.css("font-size",i),n&&e.css("font-family",n),r&&e.css("line-height",r),o&&e.css("padding-top",o),s&&e.css("padding-right",s),a&&e.css("padding-bottom",a),u&&e.css("padding-left",u),t.data("original-height")||t.data("original-height",t.height()),"off"===t.attr("wrap")&&e.css("overflow-wrap","normal").css("white-space","pre"),e.text(t[0].value+"\n");var c=e.html().replace(/\n/g,"<br>");e.html(c),0<t[0].offsetWidth&&0<t[0].offsetHeight?e.css("width",t.width()+"px"):e.css("width",window.innerWidth/2+"px"),t.data("original-height")<=e.innerHeight()?t.css("height",e.innerHeight()+"px"):t[0].value.length<t.data("previous-length")&&t.css("height",t.data("original-height")+"px"),t.data("previous-length",t[0].value.length)}else console.error("No textarea element found")},v(document).ready((function(){var t="input[type=text], input[type=password], input[type=email], input[type=url], input[type=tel], input[type=number], input[type=search], input[type=date], input[type=time], textarea";v(document).on("change",t,(function(){0===this.value.length&&null===v(this).attr("placeholder")||v(this).siblings("label").addClass("active"),M.validate_field(v(this))})),v(document).ready((function(){M.updateTextFields()})),v(document).on("reset",(function(e){var n=v(e.target);n.is("form")&&(n.find(t).removeClass("valid").removeClass("invalid"),n.find(t).each((function(t){this.value.length&&v(this).siblings("label").removeClass("active")})),setTimeout((function(){n.find("select").each((function(){this.M_FormSelect&&v(this).trigger("change")}))}),0))})),document.addEventListener("focus",(function(e){v(e.target).is(t)&&v(e.target).siblings("label, .prefix").addClass("active")}),!0),document.addEventListener("blur",(function(e){var n=v(e.target);if(n.is(t)){var i=".prefix";0===n[0].value.length&&!0!==n[0].validity.badInput&&null===n.attr("placeholder")&&(i+=", label"),n.siblings(i).removeClass("active"),M.validate_field(n)}}),!0),v(document).on("keyup","input[type=radio], input[type=checkbox]",(function(t){if(t.which===M.keys.TAB)return v(this).addClass("tabbed"),void v(this).one("blur",(function(t){v(this).removeClass("tabbed")}))}));var e=".materialize-textarea";v(e).each((function(){var t=v(this);t.data("original-height",t.height()),t.data("previous-length",this.value.length),M.textareaAutoResize(t)})),v(document).on("keyup",e,(function(){M.textareaAutoResize(v(this))})),v(document).on("keydown",e,(function(){M.textareaAutoResize(v(this))})),v(document).on("change",'.file-field input[type="file"]',(function(){for(var t=v(this).closest(".file-field").find("input.file-path"),e=v(this)[0].files,n=[],i=0;i<e.length;i++)n.push(e[i].name);t[0].value=n.join(", "),t.trigger("change")}))})),function(t,e){"use strict";var n={indicators:!0,height:400,duration:500,interval:6e3},i=function(i){function c(n,i){u(this,c);var r=s(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,c,n,i));return(r.el.M_Slider=r).options=t.extend({},c.defaults,i),r.$slider=r.$el.find(".slides"),r.$slides=r.$slider.children("li"),r.activeIndex=r.$slides.filter((function(e){return t(e).hasClass("active")})).first().index(),-1!=r.activeIndex&&(r.$active=r.$slides.eq(r.activeIndex)),r._setSliderHeight(),r.$slides.find(".caption").each((function(t){r._animateCaptionIn(t,0)})),r.$slides.find("img").each((function(e){var n="data:image/gif;base64,R0lGODlhAQABAIABAP///wAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==";t(e).attr("src")!==n&&(t(e).css("background-image",'url("'+t(e).attr("src")+'")'),t(e).attr("src",n))})),r._setupIndicators(),r.$active?r.$active.css("display","block"):(r.$slides.first().addClass("active"),e({targets:r.$slides.first()[0],opacity:1,duration:r.options.duration,easing:"easeOutQuad"}),r.activeIndex=0,r.$active=r.$slides.eq(r.activeIndex),r.options.indicators&&r.$indicators.eq(r.activeIndex).addClass("active")),r.$active.find("img").each((function(t){e({targets:r.$active.find(".caption")[0],opacity:1,translateX:0,translateY:0,duration:r.options.duration,easing:"easeOutQuad"})})),r._setupEventHandlers(),r.start(),r}return a(c,l),o(c,[{key:"destroy",value:function(){this.pause(),this._removeIndicators(),this._removeEventHandlers(),this.el.M_Slider=void 0}},{key:"_setupEventHandlers",value:function(){var t=this;this._handleIntervalBound=this._handleInterval.bind(this),this._handleIndicatorClickBound=this._handleIndicatorClick.bind(this),this.options.indicators&&this.$indicators.each((function(e){e.addEventListener("click",t._handleIndicatorClickBound)}))}},{key:"_removeEventHandlers",value:function(){var t=this;this.options.indicators&&this.$indicators.each((function(e){e.removeEventListener("click",t._handleIndicatorClickBound)}))}},{key:"_handleIndicatorClick",value:function(e){var n=t(e.target).index();this.set(n)}},{key:"_handleInterval",value:function(){var t=this.$slider.find(".active").index();this.$slides.length===t+1?t=0:t+=1,this.set(t)}},{key:"_animateCaptionIn",value:function(n,i){var r={targets:n,opacity:0,duration:i,easing:"easeOutQuad"};t(n).hasClass("center-align")?r.translateY=-100:t(n).hasClass("right-align")?r.translateX=100:t(n).hasClass("left-align")&&(r.translateX=-100),e(r)}},{key:"_setSliderHeight",value:function(){this.$el.hasClass("fullscreen")||(this.options.indicators?this.$el.css("height",this.options.height+40+"px"):this.$el.css("height",this.options.height+"px"),this.$slider.css("height",this.options.height+"px"))}},{key:"_setupIndicators",value:function(){var e=this;this.options.indicators&&(this.$indicators=t('<ul class="indicators"></ul>'),this.$slides.each((function(n,i){var r=t('<li class="indicator-item"></li>');e.$indicators.append(r[0])})),this.$el.append(this.$indicators[0]),this.$indicators=this.$indicators.children("li.indicator-item"))}},{key:"_removeIndicators",value:function(){this.$el.find("ul.indicators").remove()}},{key:"set",value:function(t){var n=this;if(t>=this.$slides.length?t=0:t<0&&(t=this.$slides.length-1),this.activeIndex!=t){this.$active=this.$slides.eq(this.activeIndex);var i=this.$active.find(".caption");this.$active.removeClass("active"),e({targets:this.$active[0],opacity:0,duration:this.options.duration,easing:"easeOutQuad",complete:function(){n.$slides.not(".active").each((function(t){e({targets:t,opacity:0,translateX:0,translateY:0,duration:0,easing:"easeOutQuad"})}))}}),this._animateCaptionIn(i[0],this.options.duration),this.options.indicators&&(this.$indicators.eq(this.activeIndex).removeClass("active"),this.$indicators.eq(t).addClass("active")),e({targets:this.$slides.eq(t)[0],opacity:1,duration:this.options.duration,easing:"easeOutQuad"}),e({targets:this.$slides.eq(t).find(".caption")[0],opacity:1,translateX:0,translateY:0,duration:this.options.duration,delay:this.options.duration,easing:"easeOutQuad"}),this.$slides.eq(t).addClass("active"),this.activeIndex=t,this.start()}}},{key:"pause",value:function(){clearInterval(this.interval)}},{key:"start",value:function(){clearInterval(this.interval),this.interval=setInterval(this._handleIntervalBound,this.options.duration+this.options.interval)}},{key:"next",value:function(){var t=this.activeIndex+1;t>=this.$slides.length?t=0:t<0&&(t=this.$slides.length-1),this.set(t)}},{key:"prev",value:function(){var t=this.activeIndex-1;t>=this.$slides.length?t=0:t<0&&(t=this.$slides.length-1),this.set(t)}}],[{key:"init",value:function(t,e){return r(c.__proto__||Object.getPrototypeOf(c),"init",this).call(this,this,t,e)}},{key:"getInstance",value:function(t){return(t.jquery?t[0]:t).M_Slider}},{key:"defaults",get:function(){return n}}]),c}();M.Slider=i,M.jQueryLoaded&&M.initializeJqueryWrapper(i,"slider","M_Slider")}(cash,M.anime),d=cash,p=M.anime,d(document).on("click",".card",(function(t){if(d(this).children(".card-reveal").length){var e=d(t.target).closest(".card");void 0===e.data("initialOverflow")&&e.data("initialOverflow",void 0===e.css("overflow")?"":e.css("overflow"));var n=d(this).find(".card-reveal");d(t.target).is(d(".card-reveal .card-title"))||d(t.target).is(d(".card-reveal .card-title i"))?p({targets:n[0],translateY:0,duration:225,easing:"easeInOutQuad",complete:function(t){var n=t.animatables[0].target;d(n).css({display:"none"}),e.css("overflow",e.data("initialOverflow"))}}):(d(t.target).is(d(".card .activator"))||d(t.target).is(d(".card .activator i")))&&(e.css("overflow","hidden"),n.css({display:"block"}),p({targets:n[0],translateY:"-100%",duration:300,easing:"easeInOutQuad"}))}})),function(t){"use strict";var e={data:[],placeholder:"",secondaryPlaceholder:"",autocompleteOptions:{},limit:1/0,onChipAdd:null,onChipSelect:null,onChipDelete:null},n=function(n){function i(e,n){u(this,i);var r=s(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,i,e,n));return(r.el.M_Chips=r).options=t.extend({},i.defaults,n),r.$el.addClass("chips input-field"),r.chipsData=[],r.$chips=t(),r._setupInput(),r.hasAutocomplete=0<Object.keys(r.options.autocompleteOptions).length,r.$input.attr("id")||r.$input.attr("id",M.guid()),r.options.data.length&&(r.chipsData=r.options.data,r._renderChips(r.chipsData)),r.hasAutocomplete&&r._setupAutocomplete(),r._setPlaceholder(),r._setupLabel(),r._setupEventHandlers(),r}return a(i,l),o(i,[{key:"getData",value:function(){return this.chipsData}},{key:"destroy",value:function(){this._removeEventHandlers(),this.$chips.remove(),this.el.M_Chips=void 0}},{key:"_setupEventHandlers",value:function(){this._handleChipClickBound=this._handleChipClick.bind(this),this._handleInputKeydownBound=this._handleInputKeydown.bind(this),this._handleInputFocusBound=this._handleInputFocus.bind(this),this._handleInputBlurBound=this._handleInputBlur.bind(this),this.el.addEventListener("click",this._handleChipClickBound),document.addEventListener("keydown",i._handleChipsKeydown),document.addEventListener("keyup",i._handleChipsKeyup),this.el.addEventListener("blur",i._handleChipsBlur,!0),this.$input[0].addEventListener("focus",this._handleInputFocusBound),this.$input[0].addEventListener("blur",this._handleInputBlurBound),this.$input[0].addEventListener("keydown",this._handleInputKeydownBound)}},{key:"_removeEventHandlers",value:function(){this.el.removeEventListener("click",this._handleChipClickBound),document.removeEventListener("keydown",i._handleChipsKeydown),document.removeEventListener("keyup",i._handleChipsKeyup),this.el.removeEventListener("blur",i._handleChipsBlur,!0),this.$input[0].removeEventListener("focus",this._handleInputFocusBound),this.$input[0].removeEventListener("blur",this._handleInputBlurBound),this.$input[0].removeEventListener("keydown",this._handleInputKeydownBound)}},{key:"_handleChipClick",value:function(e){var n=t(e.target).closest(".chip"),i=t(e.target).is(".close");if(n.length){var r=n.index();i?(this.deleteChip(r),this.$input[0].focus()):this.selectChip(r)}else this.$input[0].focus()}},{key:"_handleInputFocus",value:function(){this.$el.addClass("focus")}},{key:"_handleInputBlur",value:function(){this.$el.removeClass("focus")}},{key:"_handleInputKeydown",value:function(t){if(i._keydown=!0,13===t.keyCode){if(this.hasAutocomplete&&this.autocomplete&&this.autocomplete.isOpen)return;t.preventDefault(),this.addChip({tag:this.$input[0].value}),this.$input[0].value=""}else 8!==t.keyCode&&37!==t.keyCode||""!==this.$input[0].value||!this.chipsData.length||(t.preventDefault(),this.selectChip(this.chipsData.length-1))}},{key:"_renderChip",value:function(e){if(e.tag){var n=document.createElement("div"),i=document.createElement("i");if(n.classList.add("chip"),n.textContent=e.tag,n.setAttribute("tabindex",0),t(i).addClass("material-icons close"),i.textContent="close",e.image){var r=document.createElement("img");r.setAttribute("src",e.image),n.insertBefore(r,n.firstChild)}return n.appendChild(i),n}}},{key:"_renderChips",value:function(){this.$chips.remove();for(var t=0;t<this.chipsData.length;t++){var e=this._renderChip(this.chipsData[t]);this.$el.append(e),this.$chips.add(e)}this.$el.append(this.$input[0])}},{key:"_setupAutocomplete",value:function(){var t=this;this.options.autocompleteOptions.onAutocomplete=function(e){t.addChip({tag:e}),t.$input[0].value="",t.$input[0].focus()},this.autocomplete=M.Autocomplete.init(this.$input[0],this.options.autocompleteOptions)}},{key:"_setupInput",value:function(){this.$input=this.$el.find("input"),this.$input.length||(this.$input=t("<input></input>"),this.$el.append(this.$input)),this.$input.addClass("input")}},{key:"_setupLabel",value:function(){this.$label=this.$el.find("label"),this.$label.length&&this.$label.setAttribute("for",this.$input.attr("id"))}},{key:"_setPlaceholder",value:function(){void 0!==this.chipsData&&!this.chipsData.length&&this.options.placeholder?t(this.$input).prop("placeholder",this.options.placeholder):(void 0===this.chipsData||this.chipsData.length)&&this.options.secondaryPlaceholder&&t(this.$input).prop("placeholder",this.options.secondaryPlaceholder)}},{key:"_isValid",value:function(t){if(t.hasOwnProperty("tag")&&""!==t.tag){for(var e=!1,n=0;n<this.chipsData.length;n++)if(this.chipsData[n].tag===t.tag){e=!0;break}return!e}return!1}},{key:"addChip",value:function(e){if(this._isValid(e)&&!(this.chipsData.length>=this.options.limit)){var n=this._renderChip(e);this.$chips.add(n),this.chipsData.push(e),t(this.$input).before(n),this._setPlaceholder(),"function"==typeof this.options.onChipAdd&&this.options.onChipAdd.call(this,this.$el,n)}}},{key:"deleteChip",value:function(e){var n=this.$chips.eq(e);this.$chips.eq(e).remove(),this.$chips=this.$chips.filter((function(e){return 0<=t(e).index()})),this.chipsData.splice(e,1),this._setPlaceholder(),"function"==typeof this.options.onChipDelete&&this.options.onChipDelete.call(this,this.$el,n[0])}},{key:"selectChip",value:function(t){var e=this.$chips.eq(t);(this._selectedChip=e)[0].focus(),"function"==typeof this.options.onChipSelect&&this.options.onChipSelect.call(this,this.$el,e[0])}}],[{key:"init",value:function(t,e){return r(i.__proto__||Object.getPrototypeOf(i),"init",this).call(this,this,t,e)}},{key:"getInstance",value:function(t){return(t.jquery?t[0]:t).M_Chips}},{key:"_handleChipsKeydown",value:function(e){i._keydown=!0;var n=t(e.target).closest(".chips"),r=e.target&&n.length;if(!t(e.target).is("input, textarea")&&r){var o=n[0].M_Chips;if(8===e.keyCode||46===e.keyCode){e.preventDefault();var s=o.chipsData.length;if(o._selectedChip){var a=o._selectedChip.index();o.deleteChip(a),o._selectedChip=null,s=Math.max(a-1,0)}o.chipsData.length&&o.selectChip(s)}else if(37===e.keyCode){if(o._selectedChip){var u=o._selectedChip.index()-1;if(u<0)return;o.selectChip(u)}}else if(39===e.keyCode&&o._selectedChip){var c=o._selectedChip.index()+1;c>=o.chipsData.length?o.$input[0].focus():o.selectChip(c)}}}},{key:"_handleChipsKeyup",value:function(t){i._keydown=!1}},{key:"_handleChipsBlur",value:function(e){i._keydown||(t(e.target).closest(".chips")[0].M_Chips._selectedChip=null)}},{key:"defaults",get:function(){return e}}]),i}();n._keydown=!1,M.Chips=n,M.jQueryLoaded&&M.initializeJqueryWrapper(n,"chips","M_Chips"),t(document).ready((function(){t(document.body).on("click",".chip .close",(function(){var e=t(this).closest(".chips");e.length&&e[0].M_Chips||t(this).closest(".chip").remove()}))}))}(cash),function(t){"use strict";var e={top:0,bottom:1/0,offset:0,onPositionChange:null},n=function(n){function i(e,n){u(this,i);var r=s(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,i,e,n));return(r.el.M_Pushpin=r).options=t.extend({},i.defaults,n),r.originalOffset=r.el.offsetTop,i._pushpins.push(r),r._setupEventHandlers(),r._updatePosition(),r}return a(i,l),o(i,[{key:"destroy",value:function(){this.el.style.top=null,this._removePinClasses(),this._removeEventHandlers();var t=i._pushpins.indexOf(this);i._pushpins.splice(t,1)}},{key:"_setupEventHandlers",value:function(){document.addEventListener("scroll",i._updateElements)}},{key:"_removeEventHandlers",value:function(){document.removeEventListener("scroll",i._updateElements)}},{key:"_updatePosition",value:function(){var t=M.getDocumentScrollTop()+this.options.offset;this.options.top<=t&&this.options.bottom>=t&&!this.el.classList.contains("pinned")&&(this._removePinClasses(),this.el.style.top=this.options.offset+"px",this.el.classList.add("pinned"),"function"==typeof this.options.onPositionChange&&this.options.onPositionChange.call(this,"pinned")),t<this.options.top&&!this.el.classList.contains("pin-top")&&(this._removePinClasses(),this.el.style.top=0,this.el.classList.add("pin-top"),"function"==typeof this.options.onPositionChange&&this.options.onPositionChange.call(this,"pin-top")),t>this.options.bottom&&!this.el.classList.contains("pin-bottom")&&(this._removePinClasses(),this.el.classList.add("pin-bottom"),this.el.style.top=this.options.bottom-this.originalOffset+"px","function"==typeof this.options.onPositionChange&&this.options.onPositionChange.call(this,"pin-bottom"))}},{key:"_removePinClasses",value:function(){this.el.classList.remove("pin-top"),this.el.classList.remove("pinned"),this.el.classList.remove("pin-bottom")}}],[{key:"init",value:function(t,e){return r(i.__proto__||Object.getPrototypeOf(i),"init",this).call(this,this,t,e)}},{key:"getInstance",value:function(t){return(t.jquery?t[0]:t).M_Pushpin}},{key:"_updateElements",value:function(){for(var t in i._pushpins)i._pushpins[t]._updatePosition()}},{key:"defaults",get:function(){return e}}]),i}();n._pushpins=[],M.Pushpin=n,M.jQueryLoaded&&M.initializeJqueryWrapper(n,"pushpin","M_Pushpin")}(cash),function(t,e){"use strict";var n={direction:"top",hoverEnabled:!0,toolbarEnabled:!1};t.fn.reverse=[].reverse;var i=function(i){function c(e,n){u(this,c);var i=s(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,c,e,n));return(i.el.M_FloatingActionButton=i).options=t.extend({},c.defaults,n),i.isOpen=!1,i.$anchor=i.$el.children("a").first(),i.$menu=i.$el.children("ul").first(),i.$floatingBtns=i.$el.find("ul .btn-floating"),i.$floatingBtnsReverse=i.$el.find("ul .btn-floating").reverse(),i.offsetY=0,i.offsetX=0,i.$el.addClass("direction-"+i.options.direction),"top"===i.options.direction?i.offsetY=40:"right"===i.options.direction?i.offsetX=-40:"bottom"===i.options.direction?i.offsetY=-40:i.offsetX=40,i._setupEventHandlers(),i}return a(c,l),o(c,[{key:"destroy",value:function(){this._removeEventHandlers(),this.el.M_FloatingActionButton=void 0}},{key:"_setupEventHandlers",value:function(){this._handleFABClickBound=this._handleFABClick.bind(this),this._handleOpenBound=this.open.bind(this),this._handleCloseBound=this.close.bind(this),this.options.hoverEnabled&&!this.options.toolbarEnabled?(this.el.addEventListener("mouseenter",this._handleOpenBound),this.el.addEventListener("mouseleave",this._handleCloseBound)):this.el.addEventListener("click",this._handleFABClickBound)}},{key:"_removeEventHandlers",value:function(){this.options.hoverEnabled&&!this.options.toolbarEnabled?(this.el.removeEventListener("mouseenter",this._handleOpenBound),this.el.removeEventListener("mouseleave",this._handleCloseBound)):this.el.removeEventListener("click",this._handleFABClickBound)}},{key:"_handleFABClick",value:function(){this.isOpen?this.close():this.open()}},{key:"_handleDocumentClick",value:function(e){t(e.target).closest(this.$menu).length||this.close()}},{key:"open",value:function(){this.isOpen||(this.options.toolbarEnabled?this._animateInToolbar():this._animateInFAB(),this.isOpen=!0)}},{key:"close",value:function(){this.isOpen&&(this.options.toolbarEnabled?(window.removeEventListener("scroll",this._handleCloseBound,!0),document.body.removeEventListener("click",this._handleDocumentClickBound,!0),this._animateOutToolbar()):this._animateOutFAB(),this.isOpen=!1)}},{key:"_animateInFAB",value:function(){var t=this;this.$el.addClass("active");var n=0;this.$floatingBtnsReverse.each((function(i){e({targets:i,opacity:1,scale:[.4,1],translateY:[t.offsetY,0],translateX:[t.offsetX,0],duration:275,delay:n,easing:"easeInOutQuad"}),n+=40}))}},{key:"_animateOutFAB",value:function(){var t=this;this.$floatingBtnsReverse.each((function(n){e.remove(n),e({targets:n,opacity:0,scale:.4,translateY:t.offsetY,translateX:t.offsetX,duration:175,easing:"easeOutQuad",complete:function(){t.$el.removeClass("active")}})}))}},{key:"_animateInToolbar",value:function(){var e,n=this,i=window.innerWidth,r=window.innerHeight,o=this.el.getBoundingClientRect(),s=t('<div class="fab-backdrop"></div>'),a=this.$anchor.css("background-color");this.$anchor.append(s),this.offsetX=o.left-i/2+o.width/2,this.offsetY=r-o.bottom,e=i/s[0].clientWidth,this.btnBottom=o.bottom,this.btnLeft=o.left,this.btnWidth=o.width,this.$el.addClass("active"),this.$el.css({"text-align":"center",width:"100%",bottom:0,left:0,transform:"translateX("+this.offsetX+"px)",transition:"none"}),this.$anchor.css({transform:"translateY("+-this.offsetY+"px)",transition:"none"}),s.css({"background-color":a}),setTimeout((function(){n.$el.css({transform:"",transition:"transform .2s cubic-bezier(0.550, 0.085, 0.680, 0.530), background-color 0s linear .2s"}),n.$anchor.css({overflow:"visible",transform:"",transition:"transform .2s"}),setTimeout((function(){n.$el.css({overflow:"hidden","background-color":a}),s.css({transform:"scale("+e+")",transition:"transform .2s cubic-bezier(0.550, 0.055, 0.675, 0.190)"}),n.$menu.children("li").children("a").css({opacity:1}),n._handleDocumentClickBound=n._handleDocumentClick.bind(n),window.addEventListener("scroll",n._handleCloseBound,!0),document.body.addEventListener("click",n._handleDocumentClickBound,!0)}),100)}),0)}},{key:"_animateOutToolbar",value:function(){var t=this,e=window.innerWidth,n=window.innerHeight,i=this.$el.find(".fab-backdrop"),r=this.$anchor.css("background-color");this.offsetX=this.btnLeft-e/2+this.btnWidth/2,this.offsetY=n-this.btnBottom,this.$el.removeClass("active"),this.$el.css({"background-color":"transparent",transition:"none"}),this.$anchor.css({transition:"none"}),i.css({transform:"scale(0)","background-color":r}),this.$menu.children("li").children("a").css({opacity:""}),setTimeout((function(){i.remove(),t.$el.css({"text-align":"",width:"",bottom:"",left:"",overflow:"","background-color":"",transform:"translate3d("+-t.offsetX+"px,0,0)"}),t.$anchor.css({overflow:"",transform:"translate3d(0,"+t.offsetY+"px,0)"}),setTimeout((function(){t.$el.css({transform:"translate3d(0,0,0)",transition:"transform .2s"}),t.$anchor.css({transform:"translate3d(0,0,0)",transition:"transform .2s cubic-bezier(0.550, 0.055, 0.675, 0.190)"})}),20)}),200)}}],[{key:"init",value:function(t,e){return r(c.__proto__||Object.getPrototypeOf(c),"init",this).call(this,this,t,e)}},{key:"getInstance",value:function(t){return(t.jquery?t[0]:t).M_FloatingActionButton}},{key:"defaults",get:function(){return n}}]),c}();M.FloatingActionButton=i,M.jQueryLoaded&&M.initializeJqueryWrapper(i,"floatingActionButton","M_FloatingActionButton")}(cash,M.anime),function(t){"use strict";var e={autoClose:!1,format:"mmm dd, yyyy",parse:null,defaultDate:null,setDefaultDate:!1,disableWeekends:!1,disableDayFn:null,firstDay:0,minDate:null,maxDate:null,yearRange:10,minYear:0,maxYear:9999,minMonth:void 0,maxMonth:void 0,startRange:null,endRange:null,isRTL:!1,showMonthAfterYear:!1,showDaysInNextAndPreviousMonths:!1,container:null,showClearBtn:!1,i18n:{cancel:"Cancel",clear:"Clear",done:"Ok",previousMonth:"",nextMonth:"",months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],weekdays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],weekdaysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],weekdaysAbbrev:["S","M","T","W","T","F","S"]},events:[],onSelect:null,onOpen:null,onClose:null,onDraw:null},n=function(n){function i(e,n){u(this,i);var r=s(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,i,e,n));(r.el.M_Datepicker=r).options=t.extend({},i.defaults,n),n&&n.hasOwnProperty("i18n")&&"object"==typeof n.i18n&&(r.options.i18n=t.extend({},i.defaults.i18n,n.i18n)),r.options.minDate&&r.options.minDate.setHours(0,0,0,0),r.options.maxDate&&r.options.maxDate.setHours(0,0,0,0),r.id=M.guid(),r._setupVariables(),r._insertHTMLIntoDOM(),r._setupModal(),r._setupEventHandlers(),r.options.defaultDate||(r.options.defaultDate=new Date(Date.parse(r.el.value)));var o=r.options.defaultDate;return i._isDate(o)?r.options.setDefaultDate?(r.setDate(o,!0),r.setInputValue()):r.gotoDate(o):r.gotoDate(new Date),r.isOpen=!1,r}return a(i,l),o(i,[{key:"destroy",value:function(){this._removeEventHandlers(),this.modal.destroy(),t(this.modalEl).remove(),this.destroySelects(),this.el.M_Datepicker=void 0}},{key:"destroySelects",value:function(){var t=this.calendarEl.querySelector(".orig-select-year");t&&M.FormSelect.getInstance(t).destroy();var e=this.calendarEl.querySelector(".orig-select-month");e&&M.FormSelect.getInstance(e).destroy()}},{key:"_insertHTMLIntoDOM",value:function(){this.options.showClearBtn&&(t(this.clearBtn).css({visibility:""}),this.clearBtn.innerHTML=this.options.i18n.clear),this.doneBtn.innerHTML=this.options.i18n.done,this.cancelBtn.innerHTML=this.options.i18n.cancel,this.options.container?this.$modalEl.appendTo(this.options.container):this.$modalEl.insertBefore(this.el)}},{key:"_setupModal",value:function(){var t=this;this.modalEl.id="modal-"+this.id,this.modal=M.Modal.init(this.modalEl,{onCloseEnd:function(){t.isOpen=!1}})}},{key:"toString",value:function(t){var e=this;return t=t||this.options.format,i._isDate(this.date)?t.split(/(d{1,4}|m{1,4}|y{4}|yy|!.)/g).map((function(t){return e.formats[t]?e.formats[t]():t})).join(""):""}},{key:"setDate",value:function(t,e){if(!t)return this.date=null,this._renderDateDisplay(),this.draw();if("string"==typeof t&&(t=new Date(Date.parse(t))),i._isDate(t)){var n=this.options.minDate,r=this.options.maxDate;i._isDate(n)&&t<n?t=n:i._isDate(r)&&r<t&&(t=r),this.date=new Date(t.getTime()),this._renderDateDisplay(),i._setToStartOfDay(this.date),this.gotoDate(this.date),e||"function"!=typeof this.options.onSelect||this.options.onSelect.call(this,this.date)}}},{key:"setInputValue",value:function(){this.el.value=this.toString(),this.$el.trigger("change",{firedBy:this})}},{key:"_renderDateDisplay",value:function(){var t=i._isDate(this.date)?this.date:new Date,e=this.options.i18n,n=e.weekdaysShort[t.getDay()],r=e.monthsShort[t.getMonth()],o=t.getDate();this.yearTextEl.innerHTML=t.getFullYear(),this.dateTextEl.innerHTML=n+", "+r+" "+o}},{key:"gotoDate",value:function(t){var e=!0;if(i._isDate(t)){if(this.calendars){var n=new Date(this.calendars[0].year,this.calendars[0].month,1),r=new Date(this.calendars[this.calendars.length-1].year,this.calendars[this.calendars.length-1].month,1),o=t.getTime();r.setMonth(r.getMonth()+1),r.setDate(r.getDate()-1),e=o<n.getTime()||r.getTime()<o}e&&(this.calendars=[{month:t.getMonth(),year:t.getFullYear()}]),this.adjustCalendars()}}},{key:"adjustCalendars",value:function(){this.calendars[0]=this.adjustCalendar(this.calendars[0]),this.draw()}},{key:"adjustCalendar",value:function(t){return t.month<0&&(t.year-=Math.ceil(Math.abs(t.month)/12),t.month+=12),11<t.month&&(t.year+=Math.floor(Math.abs(t.month)/12),t.month-=12),t}},{key:"nextMonth",value:function(){this.calendars[0].month++,this.adjustCalendars()}},{key:"prevMonth",value:function(){this.calendars[0].month--,this.adjustCalendars()}},{key:"render",value:function(t,e,n){var r=this.options,o=new Date,s=i._getDaysInMonth(t,e),a=new Date(t,e,1).getDay(),u=[],c=[];i._setToStartOfDay(o),0<r.firstDay&&(a-=r.firstDay)<0&&(a+=7);for(var l=0===e?11:e-1,h=11===e?0:e+1,f=0===e?t-1:t,d=11===e?t+1:t,p=i._getDaysInMonth(f,l),v=s+a,g=v;7<g;)g-=7;v+=7-g;for(var m=!1,y=0,b=0;y<v;y++){var w=new Date(t,e,y-a+1),_=!!i._isDate(this.date)&&i._compareDates(w,this.date),E=i._compareDates(w,o),k=-1!==r.events.indexOf(w.toDateString()),I=y<a||s+a<=y,T=y-a+1,O=e,S=t,C=r.startRange&&i._compareDates(r.startRange,w),A=r.endRange&&i._compareDates(r.endRange,w),x=r.startRange&&r.endRange&&r.startRange<w&&w<r.endRange;I&&(y<a?(T=p+T,O=l,S=f):(T-=s,O=h,S=d));var D={day:T,month:O,year:S,hasEvent:k,isSelected:_,isToday:E,isDisabled:r.minDate&&w<r.minDate||r.maxDate&&w>r.maxDate||r.disableWeekends&&i._isWeekend(w)||r.disableDayFn&&r.disableDayFn(w),isEmpty:I,isStartRange:C,isEndRange:A,isInRange:x,showDaysInNextAndPreviousMonths:r.showDaysInNextAndPreviousMonths};c.push(this.renderDay(D)),7==++b&&(u.push(this.renderRow(c,r.isRTL,m)),b=0,m=!(c=[]))}return this.renderTable(r,u,n)}},{key:"renderDay",value:function(t){var e=[],n="false";if(t.isEmpty){if(!t.showDaysInNextAndPreviousMonths)return'<td class="is-empty"></td>';e.push("is-outside-current-month"),e.push("is-selection-disabled")}return t.isDisabled&&e.push("is-disabled"),t.isToday&&e.push("is-today"),t.isSelected&&(e.push("is-selected"),n="true"),t.hasEvent&&e.push("has-event"),t.isInRange&&e.push("is-inrange"),t.isStartRange&&e.push("is-startrange"),t.isEndRange&&e.push("is-endrange"),'<td data-day="'+t.day+'" class="'+e.join(" ")+'" aria-selected="'+n+'"><button class="datepicker-day-button" type="button" data-year="'+t.year+'" data-month="'+t.month+'" data-day="'+t.day+'">'+t.day+"</button></td>"}},{key:"renderRow",value:function(t,e,n){return'<tr class="datepicker-row'+(n?" is-selected":"")+'">'+(e?t.reverse():t).join("")+"</tr>"}},{key:"renderTable",value:function(t,e,n){return'<div class="datepicker-table-wrapper"><table cellpadding="0" cellspacing="0" class="datepicker-table" role="grid" aria-labelledby="'+n+'">'+this.renderHead(t)+this.renderBody(e)+"</table></div>"}},{key:"renderHead",value:function(t){var e=void 0,n=[];for(e=0;e<7;e++)n.push('<th scope="col"><abbr title="'+this.renderDayName(t,e)+'">'+this.renderDayName(t,e,!0)+"</abbr></th>");return"<thead><tr>"+(t.isRTL?n.reverse():n).join("")+"</tr></thead>"}},{key:"renderBody",value:function(t){return"<tbody>"+t.join("")+"</tbody>"}},{key:"renderTitle",value:function(e,n,i,r,o,s){var a,u,c=void 0,l=void 0,h=void 0,f=this.options,d=i===f.minYear,p=i===f.maxYear,v='<div id="'+s+'" class="datepicker-controls" role="heading" aria-live="assertive">',g=!0,m=!0;for(h=[],c=0;c<12;c++)h.push('<option value="'+(i===o?c-n:12+c-n)+'"'+(c===r?' selected="selected"':"")+(d&&c<f.minMonth||p&&c>f.maxMonth?'disabled="disabled"':"")+">"+f.i18n.months[c]+"</option>");for(a='<select class="datepicker-select orig-select-month" tabindex="-1">'+h.join("")+"</select>",t.isArray(f.yearRange)?(c=f.yearRange[0],l=f.yearRange[1]+1):(c=i-f.yearRange,l=1+i+f.yearRange),h=[];c<l&&c<=f.maxYear;c++)c>=f.minYear&&h.push('<option value="'+c+'" '+(c===i?'selected="selected"':"")+">"+c+"</option>");return u='<select class="datepicker-select orig-select-year" tabindex="-1">'+h.join("")+"</select>",v+='<button class="month-prev'+(g?"":" is-disabled")+'" type="button"><svg fill="#000000" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M15.41 16.09l-4.58-4.59 4.58-4.59L14 5.5l-6 6 6 6z"/><path d="M0-.5h24v24H0z" fill="none"/></svg></button>',v+='<div class="selects-container">',f.showMonthAfterYear?v+=u+a:v+=a+u,v+="</div>",d&&(0===r||f.minMonth>=r)&&(g=!1),p&&(11===r||f.maxMonth<=r)&&(m=!1),(v+='<button class="month-next'+(m?"":" is-disabled")+'" type="button"><svg fill="#000000" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"/><path d="M0-.25h24v24H0z" fill="none"/></svg></button>')+"</div>"}},{key:"draw",value:function(t){if(this.isOpen||t){var e,n=this.options,i=n.minYear,r=n.maxYear,o=n.minMonth,s=n.maxMonth,a="";this._y<=i&&(this._y=i,!isNaN(o)&&this._m<o&&(this._m=o)),this._y>=r&&(this._y=r,!isNaN(s)&&this._m>s&&(this._m=s)),e="datepicker-title-"+Math.random().toString(36).replace(/[^a-z]+/g,"").substr(0,2);for(var u=0;u<1;u++)this._renderDateDisplay(),a+=this.renderTitle(this,u,this.calendars[u].year,this.calendars[u].month,this.calendars[0].year,e)+this.render(this.calendars[u].year,this.calendars[u].month,e);this.destroySelects(),this.calendarEl.innerHTML=a;var c=this.calendarEl.querySelector(".orig-select-year"),l=this.calendarEl.querySelector(".orig-select-month");M.FormSelect.init(c,{classes:"select-year",dropdownOptions:{container:document.body,constrainWidth:!1}}),M.FormSelect.init(l,{classes:"select-month",dropdownOptions:{container:document.body,constrainWidth:!1}}),c.addEventListener("change",this._handleYearChange.bind(this)),l.addEventListener("change",this._handleMonthChange.bind(this)),"function"==typeof this.options.onDraw&&this.options.onDraw(this)}}},{key:"_setupEventHandlers",value:function(){this._handleInputKeydownBound=this._handleInputKeydown.bind(this),this._handleInputClickBound=this._handleInputClick.bind(this),this._handleInputChangeBound=this._handleInputChange.bind(this),this._handleCalendarClickBound=this._handleCalendarClick.bind(this),this._finishSelectionBound=this._finishSelection.bind(this),this._handleMonthChange=this._handleMonthChange.bind(this),this._closeBound=this.close.bind(this),this.el.addEventListener("click",this._handleInputClickBound),this.el.addEventListener("keydown",this._handleInputKeydownBound),this.el.addEventListener("change",this._handleInputChangeBound),this.calendarEl.addEventListener("click",this._handleCalendarClickBound),this.doneBtn.addEventListener("click",this._finishSelectionBound),this.cancelBtn.addEventListener("click",this._closeBound),this.options.showClearBtn&&(this._handleClearClickBound=this._handleClearClick.bind(this),this.clearBtn.addEventListener("click",this._handleClearClickBound))}},{key:"_setupVariables",value:function(){var e=this;this.$modalEl=t(i._template),this.modalEl=this.$modalEl[0],this.calendarEl=this.modalEl.querySelector(".datepicker-calendar"),this.yearTextEl=this.modalEl.querySelector(".year-text"),this.dateTextEl=this.modalEl.querySelector(".date-text"),this.options.showClearBtn&&(this.clearBtn=this.modalEl.querySelector(".datepicker-clear")),this.doneBtn=this.modalEl.querySelector(".datepicker-done"),this.cancelBtn=this.modalEl.querySelector(".datepicker-cancel"),this.formats={d:function(){return e.date.getDate()},dd:function(){var t=e.date.getDate();return(t<10?"0":"")+t},ddd:function(){return e.options.i18n.weekdaysShort[e.date.getDay()]},dddd:function(){return e.options.i18n.weekdays[e.date.getDay()]},m:function(){return e.date.getMonth()+1},mm:function(){var t=e.date.getMonth()+1;return(t<10?"0":"")+t},mmm:function(){return e.options.i18n.monthsShort[e.date.getMonth()]},mmmm:function(){return e.options.i18n.months[e.date.getMonth()]},yy:function(){return(""+e.date.getFullYear()).slice(2)},yyyy:function(){return e.date.getFullYear()}}}},{key:"_removeEventHandlers",value:function(){this.el.removeEventListener("click",this._handleInputClickBound),this.el.removeEventListener("keydown",this._handleInputKeydownBound),this.el.removeEventListener("change",this._handleInputChangeBound),this.calendarEl.removeEventListener("click",this._handleCalendarClickBound)}},{key:"_handleInputClick",value:function(){this.open()}},{key:"_handleInputKeydown",value:function(t){t.which===M.keys.ENTER&&(t.preventDefault(),this.open())}},{key:"_handleCalendarClick",value:function(e){if(this.isOpen){var n=t(e.target);n.hasClass("is-disabled")||(!n.hasClass("datepicker-day-button")||n.hasClass("is-empty")||n.parent().hasClass("is-disabled")?n.closest(".month-prev").length?this.prevMonth():n.closest(".month-next").length&&this.nextMonth():(this.setDate(new Date(e.target.getAttribute("data-year"),e.target.getAttribute("data-month"),e.target.getAttribute("data-day"))),this.options.autoClose&&this._finishSelection()))}}},{key:"_handleClearClick",value:function(){this.date=null,this.setInputValue(),this.close()}},{key:"_handleMonthChange",value:function(t){this.gotoMonth(t.target.value)}},{key:"_handleYearChange",value:function(t){this.gotoYear(t.target.value)}},{key:"gotoMonth",value:function(t){isNaN(t)||(this.calendars[0].month=parseInt(t,10),this.adjustCalendars())}},{key:"gotoYear",value:function(t){isNaN(t)||(this.calendars[0].year=parseInt(t,10),this.adjustCalendars())}},{key:"_handleInputChange",value:function(t){var e=void 0;t.firedBy!==this&&(e=this.options.parse?this.options.parse(this.el.value,this.options.format):new Date(Date.parse(this.el.value)),i._isDate(e)&&this.setDate(e))}},{key:"renderDayName",value:function(t,e,n){for(e+=t.firstDay;7<=e;)e-=7;return n?t.i18n.weekdaysAbbrev[e]:t.i18n.weekdays[e]}},{key:"_finishSelection",value:function(){this.setInputValue(),this.close()}},{key:"open",value:function(){if(!this.isOpen)return this.isOpen=!0,"function"==typeof this.options.onOpen&&this.options.onOpen.call(this),this.draw(),this.modal.open(),this}},{key:"close",value:function(){if(this.isOpen)return this.isOpen=!1,"function"==typeof this.options.onClose&&this.options.onClose.call(this),this.modal.close(),this}}],[{key:"init",value:function(t,e){return r(i.__proto__||Object.getPrototypeOf(i),"init",this).call(this,this,t,e)}},{key:"_isDate",value:function(t){return/Date/.test(Object.prototype.toString.call(t))&&!isNaN(t.getTime())}},{key:"_isWeekend",value:function(t){var e=t.getDay();return 0===e||6===e}},{key:"_setToStartOfDay",value:function(t){i._isDate(t)&&t.setHours(0,0,0,0)}},{key:"_getDaysInMonth",value:function(t,e){return[31,i._isLeapYear(t)?29:28,31,30,31,30,31,31,30,31,30,31][e]}},{key:"_isLeapYear",value:function(t){return t%4==0&&t%100!=0||t%400==0}},{key:"_compareDates",value:function(t,e){return t.getTime()===e.getTime()}},{key:"_setToStartOfDay",value:function(t){i._isDate(t)&&t.setHours(0,0,0,0)}},{key:"getInstance",value:function(t){return(t.jquery?t[0]:t).M_Datepicker}},{key:"defaults",get:function(){return e}}]),i}();n._template=['<div class= "modal datepicker-modal">','<div class="modal-content datepicker-container">','<div class="datepicker-date-display">','<span class="year-text"></span>','<span class="date-text"></span>',"</div>",'<div class="datepicker-calendar-container">','<div class="datepicker-calendar"></div>','<div class="datepicker-footer">','<button class="btn-flat datepicker-clear waves-effect" style="visibility: hidden;" type="button"></button>','<div class="confirmation-btns">','<button class="btn-flat datepicker-cancel waves-effect" type="button"></button>','<button class="btn-flat datepicker-done waves-effect" type="button"></button>',"</div>","</div>","</div>","</div>","</div>"].join(""),M.Datepicker=n,M.jQueryLoaded&&M.initializeJqueryWrapper(n,"datepicker","M_Datepicker")}(cash),function(t){"use strict";var e={dialRadius:135,outerRadius:105,innerRadius:70,tickRadius:20,duration:350,container:null,defaultTime:"now",fromNow:0,showClearBtn:!1,i18n:{cancel:"Cancel",clear:"Clear",done:"Ok"},autoClose:!1,twelveHour:!0,vibrate:!0,onOpenStart:null,onOpenEnd:null,onCloseStart:null,onCloseEnd:null,onSelect:null},n=function(n){function i(e,n){u(this,i);var r=s(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,i,e,n));return(r.el.M_Timepicker=r).options=t.extend({},i.defaults,n),r.id=M.guid(),r._insertHTMLIntoDOM(),r._setupModal(),r._setupVariables(),r._setupEventHandlers(),r._clockSetup(),r._pickerSetup(),r}return a(i,l),o(i,[{key:"destroy",value:function(){this._removeEventHandlers(),this.modal.destroy(),t(this.modalEl).remove(),this.el.M_Timepicker=void 0}},{key:"_setupEventHandlers",value:function(){this._handleInputKeydownBound=this._handleInputKeydown.bind(this),this._handleInputClickBound=this._handleInputClick.bind(this),this._handleClockClickStartBound=this._handleClockClickStart.bind(this),this._handleDocumentClickMoveBound=this._handleDocumentClickMove.bind(this),this._handleDocumentClickEndBound=this._handleDocumentClickEnd.bind(this),this.el.addEventListener("click",this._handleInputClickBound),this.el.addEventListener("keydown",this._handleInputKeydownBound),this.plate.addEventListener("mousedown",this._handleClockClickStartBound),this.plate.addEventListener("touchstart",this._handleClockClickStartBound),t(this.spanHours).on("click",this.showView.bind(this,"hours")),t(this.spanMinutes).on("click",this.showView.bind(this,"minutes"))}},{key:"_removeEventHandlers",value:function(){this.el.removeEventListener("click",this._handleInputClickBound),this.el.removeEventListener("keydown",this._handleInputKeydownBound)}},{key:"_handleInputClick",value:function(){this.open()}},{key:"_handleInputKeydown",value:function(t){t.which===M.keys.ENTER&&(t.preventDefault(),this.open())}},{key:"_handleClockClickStart",value:function(t){t.preventDefault();var e=this.plate.getBoundingClientRect(),n=e.left,r=e.top;this.x0=n+this.options.dialRadius,this.y0=r+this.options.dialRadius,this.moved=!1;var o=i._Pos(t);this.dx=o.x-this.x0,this.dy=o.y-this.y0,this.setHand(this.dx,this.dy,!1),document.addEventListener("mousemove",this._handleDocumentClickMoveBound),document.addEventListener("touchmove",this._handleDocumentClickMoveBound),document.addEventListener("mouseup",this._handleDocumentClickEndBound),document.addEventListener("touchend",this._handleDocumentClickEndBound)}},{key:"_handleDocumentClickMove",value:function(t){t.preventDefault();var e=i._Pos(t),n=e.x-this.x0,r=e.y-this.y0;this.moved=!0,this.setHand(n,r,!1,!0)}},{key:"_handleDocumentClickEnd",value:function(e){var n=this;e.preventDefault(),document.removeEventListener("mouseup",this._handleDocumentClickEndBound),document.removeEventListener("touchend",this._handleDocumentClickEndBound);var r=i._Pos(e),o=r.x-this.x0,s=r.y-this.y0;this.moved&&o===this.dx&&s===this.dy&&this.setHand(o,s),"hours"===this.currentView?this.showView("minutes",this.options.duration/2):this.options.autoClose&&(t(this.minutesView).addClass("timepicker-dial-out"),setTimeout((function(){n.done()}),this.options.duration/2)),"function"==typeof this.options.onSelect&&this.options.onSelect.call(this,this.hours,this.minutes),document.removeEventListener("mousemove",this._handleDocumentClickMoveBound),document.removeEventListener("touchmove",this._handleDocumentClickMoveBound)}},{key:"_insertHTMLIntoDOM",value:function(){this.$modalEl=t(i._template),this.modalEl=this.$modalEl[0],this.modalEl.id="modal-"+this.id;var e=document.querySelector(this.options.container);this.options.container&&e?this.$modalEl.appendTo(e):this.$modalEl.insertBefore(this.el)}},{key:"_setupModal",value:function(){var t=this;this.modal=M.Modal.init(this.modalEl,{onOpenStart:this.options.onOpenStart,onOpenEnd:this.options.onOpenEnd,onCloseStart:this.options.onCloseStart,onCloseEnd:function(){"function"==typeof t.options.onCloseEnd&&t.options.onCloseEnd.call(t),t.isOpen=!1}})}},{key:"_setupVariables",value:function(){this.currentView="hours",this.vibrate=navigator.vibrate?"vibrate":navigator.webkitVibrate?"webkitVibrate":null,this._canvas=this.modalEl.querySelector(".timepicker-canvas"),this.plate=this.modalEl.querySelector(".timepicker-plate"),this.hoursView=this.modalEl.querySelector(".timepicker-hours"),this.minutesView=this.modalEl.querySelector(".timepicker-minutes"),this.spanHours=this.modalEl.querySelector(".timepicker-span-hours"),this.spanMinutes=this.modalEl.querySelector(".timepicker-span-minutes"),this.spanAmPm=this.modalEl.querySelector(".timepicker-span-am-pm"),this.footer=this.modalEl.querySelector(".timepicker-footer"),this.amOrPm="PM"}},{key:"_pickerSetup",value:function(){var e=t('<button class="btn-flat timepicker-clear waves-effect" style="visibility: hidden;" type="button" tabindex="'+(this.options.twelveHour?"3":"1")+'">'+this.options.i18n.clear+"</button>").appendTo(this.footer).on("click",this.clear.bind(this));this.options.showClearBtn&&e.css({visibility:""});var n=t('<div class="confirmation-btns"></div>');t('<button class="btn-flat timepicker-close waves-effect" type="button" tabindex="'+(this.options.twelveHour?"3":"1")+'">'+this.options.i18n.cancel+"</button>").appendTo(n).on("click",this.close.bind(this)),t('<button class="btn-flat timepicker-close waves-effect" type="button" tabindex="'+(this.options.twelveHour?"3":"1")+'">'+this.options.i18n.done+"</button>").appendTo(n).on("click",this.done.bind(this)),n.appendTo(this.footer)}},{key:"_clockSetup",value:function(){this.options.twelveHour&&(this.$amBtn=t('<div class="am-btn">AM</div>'),this.$pmBtn=t('<div class="pm-btn">PM</div>'),this.$amBtn.on("click",this._handleAmPmClick.bind(this)).appendTo(this.spanAmPm),this.$pmBtn.on("click",this._handleAmPmClick.bind(this)).appendTo(this.spanAmPm)),this._buildHoursView(),this._buildMinutesView(),this._buildSVGClock()}},{key:"_buildSVGClock",value:function(){var t=this.options.dialRadius,e=this.options.tickRadius,n=2*t,r=i._createSVGEl("svg");r.setAttribute("class","timepicker-svg"),r.setAttribute("width",n),r.setAttribute("height",n);var o=i._createSVGEl("g");o.setAttribute("transform","translate("+t+","+t+")");var s=i._createSVGEl("circle");s.setAttribute("class","timepicker-canvas-bearing"),s.setAttribute("cx",0),s.setAttribute("cy",0),s.setAttribute("r",4);var a=i._createSVGEl("line");a.setAttribute("x1",0),a.setAttribute("y1",0);var u=i._createSVGEl("circle");u.setAttribute("class","timepicker-canvas-bg"),u.setAttribute("r",e),o.appendChild(a),o.appendChild(u),o.appendChild(s),r.appendChild(o),this._canvas.appendChild(r),this.hand=a,this.bg=u,this.bearing=s,this.g=o}},{key:"_buildHoursView",value:function(){var e=t('<div class="timepicker-tick"></div>');if(this.options.twelveHour)for(var n=1;n<13;n+=1){var i=e.clone(),r=n/6*Math.PI,o=this.options.outerRadius;i.css({left:this.options.dialRadius+Math.sin(r)*o-this.options.tickRadius+"px",top:this.options.dialRadius-Math.cos(r)*o-this.options.tickRadius+"px"}),i.html(0===n?"00":n),this.hoursView.appendChild(i[0])}else for(var s=0;s<24;s+=1){var a=e.clone(),u=s/6*Math.PI,c=0<s&&s<13?this.options.innerRadius:this.options.outerRadius;a.css({left:this.options.dialRadius+Math.sin(u)*c-this.options.tickRadius+"px",top:this.options.dialRadius-Math.cos(u)*c-this.options.tickRadius+"px"}),a.html(0===s?"00":s),this.hoursView.appendChild(a[0])}}},{key:"_buildMinutesView",value:function(){for(var e=t('<div class="timepicker-tick"></div>'),n=0;n<60;n+=5){var r=e.clone(),o=n/30*Math.PI;r.css({left:this.options.dialRadius+Math.sin(o)*this.options.outerRadius-this.options.tickRadius+"px",top:this.options.dialRadius-Math.cos(o)*this.options.outerRadius-this.options.tickRadius+"px"}),r.html(i._addLeadingZero(n)),this.minutesView.appendChild(r[0])}}},{key:"_handleAmPmClick",value:function(e){var n=t(e.target);this.amOrPm=n.hasClass("am-btn")?"AM":"PM",this._updateAmPmView()}},{key:"_updateAmPmView",value:function(){this.options.twelveHour&&(this.$amBtn.toggleClass("text-primary","AM"===this.amOrPm),this.$pmBtn.toggleClass("text-primary","PM"===this.amOrPm))}},{key:"_updateTimeFromInput",value:function(){var t=((this.el.value||this.options.defaultTime||"")+"").split(":");if(this.options.twelveHour&&void 0!==t[1]&&(0<t[1].toUpperCase().indexOf("AM")?this.amOrPm="AM":this.amOrPm="PM",t[1]=t[1].replace("AM","").replace("PM","")),"now"===t[0]){var e=new Date(+new Date+this.options.fromNow);t=[e.getHours(),e.getMinutes()],this.options.twelveHour&&(this.amOrPm=12<=t[0]&&t[0]<24?"PM":"AM")}this.hours=+t[0]||0,this.minutes=+t[1]||0,this.spanHours.innerHTML=this.hours,this.spanMinutes.innerHTML=i._addLeadingZero(this.minutes),this._updateAmPmView()}},{key:"showView",value:function(e,n){"minutes"===e&&t(this.hoursView).css("visibility");var i="hours"===e,r=i?this.hoursView:this.minutesView,o=i?this.minutesView:this.hoursView;this.currentView=e,t(this.spanHours).toggleClass("text-primary",i),t(this.spanMinutes).toggleClass("text-primary",!i),o.classList.add("timepicker-dial-out"),t(r).css("visibility","visible").removeClass("timepicker-dial-out"),this.resetClock(n),clearTimeout(this.toggleViewTimer),this.toggleViewTimer=setTimeout((function(){t(o).css("visibility","hidden")}),this.options.duration)}},{key:"resetClock",value:function(e){var n=this.currentView,i=this[n],r="hours"===n,o=i*(Math.PI/(r?6:30)),s=r&&0<i&&i<13?this.options.innerRadius:this.options.outerRadius,a=Math.sin(o)*s,u=-Math.cos(o)*s,c=this;e?(t(this.canvas).addClass("timepicker-canvas-out"),setTimeout((function(){t(c.canvas).removeClass("timepicker-canvas-out"),c.setHand(a,u)}),e)):this.setHand(a,u)}},{key:"setHand",value:function(t,e,n){var r=this,o=Math.atan2(t,-e),s="hours"===this.currentView,a=Math.PI/(s||n?6:30),u=Math.sqrt(t*t+e*e),c=s&&u<(this.options.outerRadius+this.options.innerRadius)/2,l=c?this.options.innerRadius:this.options.outerRadius;this.options.twelveHour&&(l=this.options.outerRadius),o<0&&(o=2*Math.PI+o);var h=Math.round(o/a);o=h*a,this.options.twelveHour?s?0===h&&(h=12):(n&&(h*=5),60===h&&(h=0)):s?(12===h&&(h=0),h=c?0===h?12:h:0===h?0:h+12):(n&&(h*=5),60===h&&(h=0)),this[this.currentView]!==h&&this.vibrate&&this.options.vibrate&&(this.vibrateTimer||(navigator[this.vibrate](10),this.vibrateTimer=setTimeout((function(){r.vibrateTimer=null}),100))),this[this.currentView]=h,s?this.spanHours.innerHTML=h:this.spanMinutes.innerHTML=i._addLeadingZero(h);var f=Math.sin(o)*(l-this.options.tickRadius),d=-Math.cos(o)*(l-this.options.tickRadius),p=Math.sin(o)*l,v=-Math.cos(o)*l;this.hand.setAttribute("x2",f),this.hand.setAttribute("y2",d),this.bg.setAttribute("cx",p),this.bg.setAttribute("cy",v)}},{key:"open",value:function(){this.isOpen||(this.isOpen=!0,this._updateTimeFromInput(),this.showView("hours"),this.modal.open())}},{key:"close",value:function(){this.isOpen&&(this.isOpen=!1,this.modal.close())}},{key:"done",value:function(t,e){var n=this.el.value,r=e?"":i._addLeadingZero(this.hours)+":"+i._addLeadingZero(this.minutes);this.time=r,!e&&this.options.twelveHour&&(r=r+" "+this.amOrPm),(this.el.value=r)!==n&&this.$el.trigger("change"),this.close(),this.el.focus()}},{key:"clear",value:function(){this.done(null,!0)}}],[{key:"init",value:function(t,e){return r(i.__proto__||Object.getPrototypeOf(i),"init",this).call(this,this,t,e)}},{key:"_addLeadingZero",value:function(t){return(t<10?"0":"")+t}},{key:"_createSVGEl",value:function(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}},{key:"_Pos",value:function(t){return t.targetTouches&&1<=t.targetTouches.length?{x:t.targetTouches[0].clientX,y:t.targetTouches[0].clientY}:{x:t.clientX,y:t.clientY}}},{key:"getInstance",value:function(t){return(t.jquery?t[0]:t).M_Timepicker}},{key:"defaults",get:function(){return e}}]),i}();n._template=['<div class= "modal timepicker-modal">','<div class="modal-content timepicker-container">','<div class="timepicker-digital-display">','<div class="timepicker-text-container">','<div class="timepicker-display-column">','<span class="timepicker-span-hours text-primary"></span>',":",'<span class="timepicker-span-minutes"></span>',"</div>",'<div class="timepicker-display-column timepicker-display-am-pm">','<div class="timepicker-span-am-pm"></div>',"</div>","</div>","</div>",'<div class="timepicker-analog-display">','<div class="timepicker-plate">','<div class="timepicker-canvas"></div>','<div class="timepicker-dial timepicker-hours"></div>','<div class="timepicker-dial timepicker-minutes timepicker-dial-out"></div>',"</div>",'<div class="timepicker-footer"></div>',"</div>","</div>","</div>"].join(""),M.Timepicker=n,M.jQueryLoaded&&M.initializeJqueryWrapper(n,"timepicker","M_Timepicker")}(cash),function(t){"use strict";var e={},n=function(n){function i(e,n){u(this,i);var r=s(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,i,e,n));return(r.el.M_CharacterCounter=r).options=t.extend({},i.defaults,n),r.isInvalid=!1,r.isValidLength=!1,r._setupCounter(),r._setupEventHandlers(),r}return a(i,l),o(i,[{key:"destroy",value:function(){this._removeEventHandlers(),this.el.CharacterCounter=void 0,this._removeCounter()}},{key:"_setupEventHandlers",value:function(){this._handleUpdateCounterBound=this.updateCounter.bind(this),this.el.addEventListener("focus",this._handleUpdateCounterBound,!0),this.el.addEventListener("input",this._handleUpdateCounterBound,!0)}},{key:"_removeEventHandlers",value:function(){this.el.removeEventListener("focus",this._handleUpdateCounterBound,!0),this.el.removeEventListener("input",this._handleUpdateCounterBound,!0)}},{key:"_setupCounter",value:function(){this.counterEl=document.createElement("span"),t(this.counterEl).addClass("character-counter").css({float:"right","font-size":"12px",height:1}),this.$el.parent().append(this.counterEl)}},{key:"_removeCounter",value:function(){t(this.counterEl).remove()}},{key:"updateCounter",value:function(){var e=+this.$el.attr("data-length"),n=this.el.value.length;this.isValidLength=n<=e;var i=n;e&&(i+="/"+e,this._validateInput()),t(this.counterEl).html(i)}},{key:"_validateInput",value:function(){this.isValidLength&&this.isInvalid?(this.isInvalid=!1,this.$el.removeClass("invalid")):this.isValidLength||this.isInvalid||(this.isInvalid=!0,this.$el.removeClass("valid"),this.$el.addClass("invalid"))}}],[{key:"init",value:function(t,e){return r(i.__proto__||Object.getPrototypeOf(i),"init",this).call(this,this,t,e)}},{key:"getInstance",value:function(t){return(t.jquery?t[0]:t).M_CharacterCounter}},{key:"defaults",get:function(){return e}}]),i}();M.CharacterCounter=n,M.jQueryLoaded&&M.initializeJqueryWrapper(n,"characterCounter","M_CharacterCounter")}(cash),function(t){"use strict";var e={duration:200,dist:-100,shift:0,padding:0,numVisible:5,fullWidth:!1,indicators:!1,noWrap:!1,onCycleTo:null},n=function(n){function i(e,n){u(this,i);var r=s(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,i,e,n));return(r.el.M_Carousel=r).options=t.extend({},i.defaults,n),r.hasMultipleSlides=1<r.$el.find(".carousel-item").length,r.showIndicators=r.options.indicators&&r.hasMultipleSlides,r.noWrap=r.options.noWrap||!r.hasMultipleSlides,r.pressed=!1,r.dragged=!1,r.offset=r.target=0,r.images=[],r.itemWidth=r.$el.find(".carousel-item").first().innerWidth(),r.itemHeight=r.$el.find(".carousel-item").first().innerHeight(),r.dim=2*r.itemWidth+r.options.padding||1,r._autoScrollBound=r._autoScroll.bind(r),r._trackBound=r._track.bind(r),r.options.fullWidth&&(r.options.dist=0,r._setCarouselHeight(),r.showIndicators&&r.$el.find(".carousel-fixed-item").addClass("with-indicators")),r.$indicators=t('<ul class="indicators"></ul>'),r.$el.find(".carousel-item").each((function(e,n){if(r.images.push(e),r.showIndicators){var i=t('<li class="indicator-item"></li>');0===n&&i[0].classList.add("active"),r.$indicators.append(i)}})),r.showIndicators&&r.$el.append(r.$indicators),r.count=r.images.length,r.options.numVisible=Math.min(r.count,r.options.numVisible),r.xform="transform",["webkit","Moz","O","ms"].every((function(t){var e=t+"Transform";return void 0===document.body.style[e]||(r.xform=e,!1)})),r._setupEventHandlers(),r._scroll(r.offset),r}return a(i,l),o(i,[{key:"destroy",value:function(){this._removeEventHandlers(),this.el.M_Carousel=void 0}},{key:"_setupEventHandlers",value:function(){var t=this;this._handleCarouselTapBound=this._handleCarouselTap.bind(this),this._handleCarouselDragBound=this._handleCarouselDrag.bind(this),this._handleCarouselReleaseBound=this._handleCarouselRelease.bind(this),this._handleCarouselClickBound=this._handleCarouselClick.bind(this),void 0!==window.ontouchstart&&(this.el.addEventListener("touchstart",this._handleCarouselTapBound),this.el.addEventListener("touchmove",this._handleCarouselDragBound),this.el.addEventListener("touchend",this._handleCarouselReleaseBound)),this.el.addEventListener("mousedown",this._handleCarouselTapBound),this.el.addEventListener("mousemove",this._handleCarouselDragBound),this.el.addEventListener("mouseup",this._handleCarouselReleaseBound),this.el.addEventListener("mouseleave",this._handleCarouselReleaseBound),this.el.addEventListener("click",this._handleCarouselClickBound),this.showIndicators&&this.$indicators&&(this._handleIndicatorClickBound=this._handleIndicatorClick.bind(this),this.$indicators.find(".indicator-item").each((function(e,n){e.addEventListener("click",t._handleIndicatorClickBound)})));var e=M.throttle(this._handleResize,200);this._handleThrottledResizeBound=e.bind(this),window.addEventListener("resize",this._handleThrottledResizeBound)}},{key:"_removeEventHandlers",value:function(){var t=this;void 0!==window.ontouchstart&&(this.el.removeEventListener("touchstart",this._handleCarouselTapBound),this.el.removeEventListener("touchmove",this._handleCarouselDragBound),this.el.removeEventListener("touchend",this._handleCarouselReleaseBound)),this.el.removeEventListener("mousedown",this._handleCarouselTapBound),this.el.removeEventListener("mousemove",this._handleCarouselDragBound),this.el.removeEventListener("mouseup",this._handleCarouselReleaseBound),this.el.removeEventListener("mouseleave",this._handleCarouselReleaseBound),this.el.removeEventListener("click",this._handleCarouselClickBound),this.showIndicators&&this.$indicators&&this.$indicators.find(".indicator-item").each((function(e,n){e.removeEventListener("click",t._handleIndicatorClickBound)})),window.removeEventListener("resize",this._handleThrottledResizeBound)}},{key:"_handleCarouselTap",value:function(e){"mousedown"===e.type&&t(e.target).is("img")&&e.preventDefault(),this.pressed=!0,this.dragged=!1,this.verticalDragged=!1,this.reference=this._xpos(e),this.referenceY=this._ypos(e),this.velocity=this.amplitude=0,this.frame=this.offset,this.timestamp=Date.now(),clearInterval(this.ticker),this.ticker=setInterval(this._trackBound,100)}},{key:"_handleCarouselDrag",value:function(t){var e=void 0,n=void 0,i=void 0;if(this.pressed)if(e=this._xpos(t),n=this._ypos(t),i=this.reference-e,Math.abs(this.referenceY-n)<30&&!this.verticalDragged)(2<i||i<-2)&&(this.dragged=!0,this.reference=e,this._scroll(this.offset+i));else{if(this.dragged)return t.preventDefault(),t.stopPropagation(),!1;this.verticalDragged=!0}if(this.dragged)return t.preventDefault(),t.stopPropagation(),!1}},{key:"_handleCarouselRelease",value:function(t){if(this.pressed)return this.pressed=!1,clearInterval(this.ticker),this.target=this.offset,(10<this.velocity||this.velocity<-10)&&(this.amplitude=.9*this.velocity,this.target=this.offset+this.amplitude),this.target=Math.round(this.target/this.dim)*this.dim,this.noWrap&&(this.target>=this.dim*(this.count-1)?this.target=this.dim*(this.count-1):this.target<0&&(this.target=0)),this.amplitude=this.target-this.offset,this.timestamp=Date.now(),requestAnimationFrame(this._autoScrollBound),this.dragged&&(t.preventDefault(),t.stopPropagation()),!1}},{key:"_handleCarouselClick",value:function(e){if(this.dragged)return e.preventDefault(),e.stopPropagation(),!1;if(!this.options.fullWidth){var n=t(e.target).closest(".carousel-item").index();0!=this._wrap(this.center)-n&&(e.preventDefault(),e.stopPropagation()),this._cycleTo(n)}}},{key:"_handleIndicatorClick",value:function(e){e.stopPropagation();var n=t(e.target).closest(".indicator-item");n.length&&this._cycleTo(n.index())}},{key:"_handleResize",value:function(t){this.options.fullWidth?(this.itemWidth=this.$el.find(".carousel-item").first().innerWidth(),this.imageHeight=this.$el.find(".carousel-item.active").height(),this.dim=2*this.itemWidth+this.options.padding,this.offset=2*this.center*this.itemWidth,this.target=this.offset,this._setCarouselHeight(!0)):this._scroll()}},{key:"_setCarouselHeight",value:function(t){var e=this,n=this.$el.find(".carousel-item.active").length?this.$el.find(".carousel-item.active").first():this.$el.find(".carousel-item").first(),i=n.find("img").first();if(i.length)if(i[0].complete){var r=i.height();if(0<r)this.$el.css("height",r+"px");else{var o=i[0].naturalWidth,s=i[0].naturalHeight,a=this.$el.width()/o*s;this.$el.css("height",a+"px")}}else i.one("load",(function(t,n){e.$el.css("height",t.offsetHeight+"px")}));else if(!t){var u=n.height();this.$el.css("height",u+"px")}}},{key:"_xpos",value:function(t){return t.targetTouches&&1<=t.targetTouches.length?t.targetTouches[0].clientX:t.clientX}},{key:"_ypos",value:function(t){return t.targetTouches&&1<=t.targetTouches.length?t.targetTouches[0].clientY:t.clientY}},{key:"_wrap",value:function(t){return t>=this.count?t%this.count:t<0?this._wrap(this.count+t%this.count):t}},{key:"_track",value:function(){var t,e,n,i;e=(t=Date.now())-this.timestamp,this.timestamp=t,n=this.offset-this.frame,this.frame=this.offset,i=1e3*n/(1+e),this.velocity=.8*i+.2*this.velocity}},{key:"_autoScroll",value:function(){var t=void 0,e=void 0;this.amplitude&&(t=Date.now()-this.timestamp,2<(e=this.amplitude*Math.exp(-t/this.options.duration))||e<-2?(this._scroll(this.target-e),requestAnimationFrame(this._autoScrollBound)):this._scroll(this.target))}},{key:"_scroll",value:function(e){var n=this;this.$el.hasClass("scrolling")||this.el.classList.add("scrolling"),null!=this.scrollingTimeout&&window.clearTimeout(this.scrollingTimeout),this.scrollingTimeout=window.setTimeout((function(){n.$el.removeClass("scrolling")}),this.options.duration);var i,r,o,s,a=void 0,u=void 0,c=void 0,l=void 0,h=void 0,f=void 0,d=this.center,p=1/this.options.numVisible;if(this.offset="number"==typeof e?e:this.offset,this.center=Math.floor((this.offset+this.dim/2)/this.dim),s=-(o=(r=this.offset-this.center*this.dim)<0?1:-1)*r*2/this.dim,i=this.count>>1,this.options.fullWidth?(c="translateX(0)",f=1):(c="translateX("+(this.el.clientWidth-this.itemWidth)/2+"px) ",c+="translateY("+(this.el.clientHeight-this.itemHeight)/2+"px)",f=1-p*s),this.showIndicators){var v=this.center%this.count,g=this.$indicators.find(".indicator-item.active");g.index()!==v&&(g.removeClass("active"),this.$indicators.find(".indicator-item").eq(v)[0].classList.add("active"))}if(!this.noWrap||0<=this.center&&this.center<this.count){u=this.images[this._wrap(this.center)],t(u).hasClass("active")||(this.$el.find(".carousel-item").removeClass("active"),u.classList.add("active"));var m=c+" translateX("+-r/2+"px) translateX("+o*this.options.shift*s*a+"px) translateZ("+this.options.dist*s+"px)";this._updateItemStyle(u,f,0,m)}for(a=1;a<=i;++a){if(this.options.fullWidth?(l=this.options.dist,h=a===i&&r<0?1-s:1):(l=this.options.dist*(2*a+s*o),h=1-p*(2*a+s*o)),!this.noWrap||this.center+a<this.count){u=this.images[this._wrap(this.center+a)];var y=c+" translateX("+(this.options.shift+(this.dim*a-r)/2)+"px) translateZ("+l+"px)";this._updateItemStyle(u,h,-a,y)}if(this.options.fullWidth?(l=this.options.dist,h=a===i&&0<r?1-s:1):(l=this.options.dist*(2*a-s*o),h=1-p*(2*a-s*o)),!this.noWrap||0<=this.center-a){u=this.images[this._wrap(this.center-a)];var b=c+" translateX("+(-this.options.shift+(-this.dim*a-r)/2)+"px) translateZ("+l+"px)";this._updateItemStyle(u,h,-a,b)}}if(!this.noWrap||0<=this.center&&this.center<this.count){u=this.images[this._wrap(this.center)];var w=c+" translateX("+-r/2+"px) translateX("+o*this.options.shift*s+"px) translateZ("+this.options.dist*s+"px)";this._updateItemStyle(u,f,0,w)}var _=this.$el.find(".carousel-item").eq(this._wrap(this.center));d!==this.center&&"function"==typeof this.options.onCycleTo&&this.options.onCycleTo.call(this,_[0],this.dragged),"function"==typeof this.oneTimeCallback&&(this.oneTimeCallback.call(this,_[0],this.dragged),this.oneTimeCallback=null)}},{key:"_updateItemStyle",value:function(t,e,n,i){t.style[this.xform]=i,t.style.zIndex=n,t.style.opacity=e,t.style.visibility="visible"}},{key:"_cycleTo",value:function(t,e){var n=this.center%this.count-t;this.noWrap||(n<0?Math.abs(n+this.count)<Math.abs(n)&&(n+=this.count):0<n&&Math.abs(n-this.count)<n&&(n-=this.count)),this.target=this.dim*Math.round(this.offset/this.dim),n<0?this.target+=this.dim*Math.abs(n):0<n&&(this.target-=this.dim*n),"function"==typeof e&&(this.oneTimeCallback=e),this.offset!==this.target&&(this.amplitude=this.target-this.offset,this.timestamp=Date.now(),requestAnimationFrame(this._autoScrollBound))}},{key:"next",value:function(t){(void 0===t||isNaN(t))&&(t=1);var e=this.center+t;if(e>=this.count||e<0){if(this.noWrap)return;e=this._wrap(e)}this._cycleTo(e)}},{key:"prev",value:function(t){(void 0===t||isNaN(t))&&(t=1);var e=this.center-t;if(e>=this.count||e<0){if(this.noWrap)return;e=this._wrap(e)}this._cycleTo(e)}},{key:"set",value:function(t,e){if((void 0===t||isNaN(t))&&(t=0),t>this.count||t<0){if(this.noWrap)return;t=this._wrap(t)}this._cycleTo(t,e)}}],[{key:"init",value:function(t,e){return r(i.__proto__||Object.getPrototypeOf(i),"init",this).call(this,this,t,e)}},{key:"getInstance",value:function(t){return(t.jquery?t[0]:t).M_Carousel}},{key:"defaults",get:function(){return e}}]),i}();M.Carousel=n,M.jQueryLoaded&&M.initializeJqueryWrapper(n,"carousel","M_Carousel")}(cash),function(t){"use strict";var e={onOpen:void 0,onClose:void 0},n=function(n){function i(e,n){u(this,i);var r=s(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,i,e,n));return(r.el.M_TapTarget=r).options=t.extend({},i.defaults,n),r.isOpen=!1,r.$origin=t("#"+r.$el.attr("data-target")),r._setup(),r._calculatePositioning(),r._setupEventHandlers(),r}return a(i,l),o(i,[{key:"destroy",value:function(){this._removeEventHandlers(),this.el.TapTarget=void 0}},{key:"_setupEventHandlers",value:function(){this._handleDocumentClickBound=this._handleDocumentClick.bind(this),this._handleTargetClickBound=this._handleTargetClick.bind(this),this._handleOriginClickBound=this._handleOriginClick.bind(this),this.el.addEventListener("click",this._handleTargetClickBound),this.originEl.addEventListener("click",this._handleOriginClickBound);var t=M.throttle(this._handleResize,200);this._handleThrottledResizeBound=t.bind(this),window.addEventListener("resize",this._handleThrottledResizeBound)}},{key:"_removeEventHandlers",value:function(){this.el.removeEventListener("click",this._handleTargetClickBound),this.originEl.removeEventListener("click",this._handleOriginClickBound),window.removeEventListener("resize",this._handleThrottledResizeBound)}},{key:"_handleTargetClick",value:function(t){this.open()}},{key:"_handleOriginClick",value:function(t){this.close()}},{key:"_handleResize",value:function(t){this._calculatePositioning()}},{key:"_handleDocumentClick",value:function(e){t(e.target).closest(".tap-target-wrapper").length||(this.close(),e.preventDefault(),e.stopPropagation())}},{key:"_setup",value:function(){this.wrapper=this.$el.parent()[0],this.waveEl=t(this.wrapper).find(".tap-target-wave")[0],this.originEl=t(this.wrapper).find(".tap-target-origin")[0],this.contentEl=this.$el.find(".tap-target-content")[0],t(this.wrapper).hasClass(".tap-target-wrapper")||(this.wrapper=document.createElement("div"),this.wrapper.classList.add("tap-target-wrapper"),this.$el.before(t(this.wrapper)),this.wrapper.append(this.el)),this.contentEl||(this.contentEl=document.createElement("div"),this.contentEl.classList.add("tap-target-content"),this.$el.append(this.contentEl)),this.waveEl||(this.waveEl=document.createElement("div"),this.waveEl.classList.add("tap-target-wave"),this.originEl||(this.originEl=this.$origin.clone(!0,!0),this.originEl.addClass("tap-target-origin"),this.originEl.removeAttr("id"),this.originEl.removeAttr("style"),this.originEl=this.originEl[0],this.waveEl.append(this.originEl)),this.wrapper.append(this.waveEl))}},{key:"_calculatePositioning",value:function(){var e="fixed"===this.$origin.css("position");if(!e)for(var n=this.$origin.parents(),i=0;i<n.length&&!(e="fixed"==t(n[i]).css("position"));i++);var r=this.$origin.outerWidth(),o=this.$origin.outerHeight(),s=e?this.$origin.offset().top-M.getDocumentScrollTop():this.$origin.offset().top,a=e?this.$origin.offset().left-M.getDocumentScrollLeft():this.$origin.offset().left,u=window.innerWidth,c=window.innerHeight,l=u/2,h=c/2,f=a<=l,d=l<a,p=s<=h,v=h<s,g=.25*u<=a&&a<=.75*u,m=this.$el.outerWidth(),y=this.$el.outerHeight(),b=s+o/2-y/2,w=a+r/2-m/2,_=e?"fixed":"absolute",E=g?m:m/2+r,k=y/2,I=p?y/2:0,T=f&&!g?m/2-r:0,O=r,S=v?"bottom":"top",C=2*r,A=C,x=y/2-A/2,D=m/2-C/2,L={};L.top=p?b+"px":"",L.right=d?u-w-m+"px":"",L.bottom=v?c-b-y+"px":"",L.left=f?w+"px":"",L.position=_,t(this.wrapper).css(L),t(this.contentEl).css({width:E+"px",height:k+"px",top:I+"px",right:"0px",bottom:"0px",left:T+"px",padding:O+"px",verticalAlign:S}),t(this.waveEl).css({top:x+"px",left:D+"px",width:C+"px",height:A+"px"})}},{key:"open",value:function(){this.isOpen||("function"==typeof this.options.onOpen&&this.options.onOpen.call(this,this.$origin[0]),this.isOpen=!0,this.wrapper.classList.add("open"),document.body.addEventListener("click",this._handleDocumentClickBound,!0),document.body.addEventListener("touchend",this._handleDocumentClickBound))}},{key:"close",value:function(){this.isOpen&&("function"==typeof this.options.onClose&&this.options.onClose.call(this,this.$origin[0]),this.isOpen=!1,this.wrapper.classList.remove("open"),document.body.removeEventListener("click",this._handleDocumentClickBound,!0),document.body.removeEventListener("touchend",this._handleDocumentClickBound))}}],[{key:"init",value:function(t,e){return r(i.__proto__||Object.getPrototypeOf(i),"init",this).call(this,this,t,e)}},{key:"getInstance",value:function(t){return(t.jquery?t[0]:t).M_TapTarget}},{key:"defaults",get:function(){return e}}]),i}();M.TapTarget=n,M.jQueryLoaded&&M.initializeJqueryWrapper(n,"tapTarget","M_TapTarget")}(cash),function(t){"use strict";var e={classes:"",dropdownOptions:{}},n=function(n){function i(e,n){u(this,i);var r=s(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,i,e,n));return r.$el.hasClass("browser-default")?s(r):((r.el.M_FormSelect=r).options=t.extend({},i.defaults,n),r.isMultiple=r.$el.prop("multiple"),r.el.tabIndex=-1,r._keysSelected={},r._valueDict={},r._setupDropdown(),r._setupEventHandlers(),r)}return a(i,l),o(i,[{key:"destroy",value:function(){this._removeEventHandlers(),this._removeDropdown(),this.el.M_FormSelect=void 0}},{key:"_setupEventHandlers",value:function(){var e=this;this._handleSelectChangeBound=this._handleSelectChange.bind(this),this._handleOptionClickBound=this._handleOptionClick.bind(this),this._handleInputClickBound=this._handleInputClick.bind(this),t(this.dropdownOptions).find("li:not(.optgroup)").each((function(t){t.addEventListener("click",e._handleOptionClickBound)})),this.el.addEventListener("change",this._handleSelectChangeBound),this.input.addEventListener("click",this._handleInputClickBound)}},{key:"_removeEventHandlers",value:function(){var e=this;t(this.dropdownOptions).find("li:not(.optgroup)").each((function(t){t.removeEventListener("click",e._handleOptionClickBound)})),this.el.removeEventListener("change",this._handleSelectChangeBound),this.input.removeEventListener("click",this._handleInputClickBound)}},{key:"_handleSelectChange",value:function(t){this._setValueToInput()}},{key:"_handleOptionClick",value:function(e){e.preventDefault();var n=t(e.target).closest("li")[0],i=n.id;if(!t(n).hasClass("disabled")&&!t(n).hasClass("optgroup")&&i.length){var r=!0;if(this.isMultiple){var o=t(this.dropdownOptions).find("li.disabled.selected");o.length&&(o.removeClass("selected"),o.find('input[type="checkbox"]').prop("checked",!1),this._toggleEntryFromArray(o[0].id)),r=this._toggleEntryFromArray(i)}else t(this.dropdownOptions).find("li").removeClass("selected"),t(n).toggleClass("selected",r);t(this._valueDict[i].el).prop("selected")!==r&&(t(this._valueDict[i].el).prop("selected",r),this.$el.trigger("change"))}e.stopPropagation()}},{key:"_handleInputClick",value:function(){this.dropdown&&this.dropdown.isOpen&&(this._setValueToInput(),this._setSelectedStates())}},{key:"_setupDropdown",value:function(){var e=this;this.wrapper=document.createElement("div"),t(this.wrapper).addClass("select-wrapper "+this.options.classes),this.$el.before(t(this.wrapper)),this.wrapper.appendChild(this.el),this.el.disabled&&this.wrapper.classList.add("disabled"),this.$selectOptions=this.$el.children("option, optgroup"),this.dropdownOptions=document.createElement("ul"),this.dropdownOptions.id="select-options-"+M.guid(),t(this.dropdownOptions).addClass("dropdown-content select-dropdown "+(this.isMultiple?"multiple-select-dropdown":"")),this.$selectOptions.length&&this.$selectOptions.each((function(n){if(t(n).is("option")){var i;i=e.isMultiple?e._appendOptionWithIcon(e.$el,n,"multiple"):e._appendOptionWithIcon(e.$el,n),e._addOptionToValueDict(n,i)}else if(t(n).is("optgroup")){var r=t(n).children("option");t(e.dropdownOptions).append(t('<li class="optgroup"><span>'+n.getAttribute("label")+"</span></li>")[0]),r.each((function(t){var n=e._appendOptionWithIcon(e.$el,t,"optgroup-option");e._addOptionToValueDict(t,n)}))}})),this.$el.after(this.dropdownOptions),this.input=document.createElement("input"),t(this.input).addClass("select-dropdown dropdown-trigger"),this.input.setAttribute("type","text"),this.input.setAttribute("readonly","true"),this.input.setAttribute("data-target",this.dropdownOptions.id),this.el.disabled&&t(this.input).prop("disabled","true"),this.$el.before(this.input),this._setValueToInput();var n=t('<svg class="caret" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M7 10l5 5 5-5z"/><path d="M0 0h24v24H0z" fill="none"/></svg>');if(this.$el.before(n[0]),!this.el.disabled){var i=t.extend({},this.options.dropdownOptions);i.onOpenEnd=function(n){var i=t(e.dropdownOptions).find(".selected").first();if(i.length&&(M.keyDown=!0,e.dropdown.focusedIndex=i.index(),e.dropdown._focusFocusedItem(),M.keyDown=!1,e.dropdown.isScrollable)){var r=i[0].getBoundingClientRect().top-e.dropdownOptions.getBoundingClientRect().top;r-=e.dropdownOptions.clientHeight/2,e.dropdownOptions.scrollTop=r}},this.isMultiple&&(i.closeOnClick=!1),this.dropdown=M.Dropdown.init(this.input,i)}this._setSelectedStates()}},{key:"_addOptionToValueDict",value:function(t,e){var n=Object.keys(this._valueDict).length,i=this.dropdownOptions.id+n,r={};e.id=i,r.el=t,r.optionEl=e,this._valueDict[i]=r}},{key:"_removeDropdown",value:function(){t(this.wrapper).find(".caret").remove(),t(this.input).remove(),t(this.dropdownOptions).remove(),t(this.wrapper).before(this.$el),t(this.wrapper).remove()}},{key:"_appendOptionWithIcon",value:function(e,n,i){var r=n.disabled?"disabled ":"",o="optgroup-option"===i?"optgroup-option ":"",s=this.isMultiple?'<label><input type="checkbox"'+r+'"/><span>'+n.innerHTML+"</span></label>":n.innerHTML,a=t("<li></li>"),u=t("<span></span>");u.html(s),a.addClass(r+" "+o),a.append(u);var c=n.getAttribute("data-icon");if(c){var l=t('<img alt="" src="'+c+'">');a.prepend(l)}return t(this.dropdownOptions).append(a[0]),a[0]}},{key:"_toggleEntryFromArray",value:function(e){var n=!this._keysSelected.hasOwnProperty(e),i=t(this._valueDict[e].optionEl);return n?this._keysSelected[e]=!0:delete this._keysSelected[e],i.toggleClass("selected",n),i.find('input[type="checkbox"]').prop("checked",n),i.prop("selected",n),n}},{key:"_setValueToInput",value:function(){var e=[];if(this.$el.find("option").each((function(n){if(t(n).prop("selected")){var i=t(n).text();e.push(i)}})),!e.length){var n=this.$el.find("option:disabled").eq(0);n.length&&""===n[0].value&&e.push(n.text())}this.input.value=e.join(", ")}},{key:"_setSelectedStates",value:function(){for(var e in this._keysSelected={},this._valueDict){var n=this._valueDict[e],i=t(n.el).prop("selected");t(n.optionEl).find('input[type="checkbox"]').prop("checked",i),i?(this._activateOption(t(this.dropdownOptions),t(n.optionEl)),this._keysSelected[e]=!0):t(n.optionEl).removeClass("selected")}}},{key:"_activateOption",value:function(e,n){n&&(this.isMultiple||e.find("li.selected").removeClass("selected"),t(n).addClass("selected"))}},{key:"getSelectedValues",value:function(){var t=[];for(var e in this._keysSelected)t.push(this._valueDict[e].el.value);return t}}],[{key:"init",value:function(t,e){return r(i.__proto__||Object.getPrototypeOf(i),"init",this).call(this,this,t,e)}},{key:"getInstance",value:function(t){return(t.jquery?t[0]:t).M_FormSelect}},{key:"defaults",get:function(){return e}}]),i}();M.FormSelect=n,M.jQueryLoaded&&M.initializeJqueryWrapper(n,"formSelect","M_FormSelect")}(cash),function(t,e){"use strict";var n={},i=function(i){function c(e,n){u(this,c);var i=s(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,c,e,n));return(i.el.M_Range=i).options=t.extend({},c.defaults,n),i._mousedown=!1,i._setupThumb(),i._setupEventHandlers(),i}return a(c,l),o(c,[{key:"destroy",value:function(){this._removeEventHandlers(),this._removeThumb(),this.el.M_Range=void 0}},{key:"_setupEventHandlers",value:function(){this._handleRangeChangeBound=this._handleRangeChange.bind(this),this._handleRangeMousedownTouchstartBound=this._handleRangeMousedownTouchstart.bind(this),this._handleRangeInputMousemoveTouchmoveBound=this._handleRangeInputMousemoveTouchmove.bind(this),this._handleRangeMouseupTouchendBound=this._handleRangeMouseupTouchend.bind(this),this._handleRangeBlurMouseoutTouchleaveBound=this._handleRangeBlurMouseoutTouchleave.bind(this),this.el.addEventListener("change",this._handleRangeChangeBound),this.el.addEventListener("mousedown",this._handleRangeMousedownTouchstartBound),this.el.addEventListener("touchstart",this._handleRangeMousedownTouchstartBound),this.el.addEventListener("input",this._handleRangeInputMousemoveTouchmoveBound),this.el.addEventListener("mousemove",this._handleRangeInputMousemoveTouchmoveBound),this.el.addEventListener("touchmove",this._handleRangeInputMousemoveTouchmoveBound),this.el.addEventListener("mouseup",this._handleRangeMouseupTouchendBound),this.el.addEventListener("touchend",this._handleRangeMouseupTouchendBound),this.el.addEventListener("blur",this._handleRangeBlurMouseoutTouchleaveBound),this.el.addEventListener("mouseout",this._handleRangeBlurMouseoutTouchleaveBound),this.el.addEventListener("touchleave",this._handleRangeBlurMouseoutTouchleaveBound)}},{key:"_removeEventHandlers",value:function(){this.el.removeEventListener("change",this._handleRangeChangeBound),this.el.removeEventListener("mousedown",this._handleRangeMousedownTouchstartBound),this.el.removeEventListener("touchstart",this._handleRangeMousedownTouchstartBound),this.el.removeEventListener("input",this._handleRangeInputMousemoveTouchmoveBound),this.el.removeEventListener("mousemove",this._handleRangeInputMousemoveTouchmoveBound),this.el.removeEventListener("touchmove",this._handleRangeInputMousemoveTouchmoveBound),this.el.removeEventListener("mouseup",this._handleRangeMouseupTouchendBound),this.el.removeEventListener("touchend",this._handleRangeMouseupTouchendBound),this.el.removeEventListener("blur",this._handleRangeBlurMouseoutTouchleaveBound),this.el.removeEventListener("mouseout",this._handleRangeBlurMouseoutTouchleaveBound),this.el.removeEventListener("touchleave",this._handleRangeBlurMouseoutTouchleaveBound)}},{key:"_handleRangeChange",value:function(){t(this.value).html(this.$el.val()),t(this.thumb).hasClass("active")||this._showRangeBubble();var e=this._calcRangeOffset();t(this.thumb).addClass("active").css("left",e+"px")}},{key:"_handleRangeMousedownTouchstart",value:function(e){if(t(this.value).html(this.$el.val()),this._mousedown=!0,this.$el.addClass("active"),t(this.thumb).hasClass("active")||this._showRangeBubble(),"input"!==e.type){var n=this._calcRangeOffset();t(this.thumb).addClass("active").css("left",n+"px")}}},{key:"_handleRangeInputMousemoveTouchmove",value:function(){if(this._mousedown){t(this.thumb).hasClass("active")||this._showRangeBubble();var e=this._calcRangeOffset();t(this.thumb).addClass("active").css("left",e+"px"),t(this.value).html(this.$el.val())}}},{key:"_handleRangeMouseupTouchend",value:function(){this._mousedown=!1,this.$el.removeClass("active")}},{key:"_handleRangeBlurMouseoutTouchleave",value:function(){if(!this._mousedown){var n=7+parseInt(this.$el.css("padding-left"))+"px";t(this.thumb).hasClass("active")&&(e.remove(this.thumb),e({targets:this.thumb,height:0,width:0,top:10,easing:"easeOutQuad",marginLeft:n,duration:100})),t(this.thumb).removeClass("active")}}},{key:"_setupThumb",value:function(){this.thumb=document.createElement("span"),this.value=document.createElement("span"),t(this.thumb).addClass("thumb"),t(this.value).addClass("value"),t(this.thumb).append(this.value),this.$el.after(this.thumb)}},{key:"_removeThumb",value:function(){t(this.thumb).remove()}},{key:"_showRangeBubble",value:function(){var n=-7+parseInt(t(this.thumb).parent().css("padding-left"))+"px";e.remove(this.thumb),e({targets:this.thumb,height:30,width:30,top:-30,marginLeft:n,duration:300,easing:"easeOutQuint"})}},{key:"_calcRangeOffset",value:function(){var t=this.$el.width()-15,e=parseFloat(this.$el.attr("max"))||100,n=parseFloat(this.$el.attr("min"))||0;return(parseFloat(this.$el.val())-n)/(e-n)*t}}],[{key:"init",value:function(t,e){return r(c.__proto__||Object.getPrototypeOf(c),"init",this).call(this,this,t,e)}},{key:"getInstance",value:function(t){return(t.jquery?t[0]:t).M_Range}},{key:"defaults",get:function(){return n}}]),c}();M.Range=i,M.jQueryLoaded&&M.initializeJqueryWrapper(i,"range","M_Range"),i.init(t("input[type=range]"))}(cash,M.anime)}).call(this,n("pCvA"))},bLPS:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}Object.create;Object.create},clxC:function(t,e,n){var i=n("+iL7");t.exports=!!Object.getOwnPropertySymbols&&!i((function(){return!String(Symbol())}))},co8E:function(t,e,n){"use strict";e.__esModule=!0,e.checkRevision=function(t){var e=t&&t[0]||1,n=a.COMPILER_REVISION;if(e>=a.LAST_COMPATIBLE_COMPILER_REVISION&&e<=a.COMPILER_REVISION)return;if(e<a.LAST_COMPATIBLE_COMPILER_REVISION){var i=a.REVISION_CHANGES[n],r=a.REVISION_CHANGES[e];throw new s.default("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+i+") or downgrade your runtime to an older version ("+r+").")}throw new s.default("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+t[1]+").")},e.template=function(t,e){if(!e)throw new s.default("No environment passed to template");if(!t||!t.main)throw new s.default("Unknown template object: "+typeof t);t.main.decorator=t.main_d,e.VM.checkRevision(t.compiler);var n=t.compiler&&7===t.compiler[0];var i={strict:function(t,e,n){if(!t||!(e in t))throw new s.default('"'+e+'" not defined in '+t,{loc:n});return t[e]},lookupProperty:function(t,e){var n=t[e];return null==n||Object.prototype.hasOwnProperty.call(t,e)||l.resultIsAllowed(n,i.protoAccessControl,e)?n:void 0},lookup:function(t,e){for(var n=t.length,r=0;r<n;r++){if(null!=(t[r]&&i.lookupProperty(t[r],e)))return t[r][e]}},lambda:function(t,e){return"function"==typeof t?t.call(e):t},escapeExpression:r.escapeExpression,invokePartial:function(n,i,o){o.hash&&(i=r.extend({},i,o.hash),o.ids&&(o.ids[0]=!0)),n=e.VM.resolvePartial.call(this,n,i,o);var a=r.extend({},o,{hooks:this.hooks,protoAccessControl:this.protoAccessControl}),u=e.VM.invokePartial.call(this,n,i,a);if(null==u&&e.compile&&(o.partials[o.name]=e.compile(n,t.compilerOptions,e),u=o.partials[o.name](i,a)),null!=u){if(o.indent){for(var c=u.split("\n"),l=0,h=c.length;l<h&&(c[l]||l+1!==h);l++)c[l]=o.indent+c[l];u=c.join("\n")}return u}throw new s.default("The partial "+o.name+" could not be compiled when running in runtime-only mode")},fn:function(e){var n=t[e];return n.decorator=t[e+"_d"],n},programs:[],program:function(t,e,n,i,r){var o=this.programs[t],s=this.fn(t);return e||r||i||n?o=h(this,t,s,e,n,i,r):o||(o=this.programs[t]=h(this,t,s)),o},data:function(t,e){for(;t&&e--;)t=t._parent;return t},mergeIfNeeded:function(t,e){var n=t||e;return t&&e&&t!==e&&(n=r.extend({},e,t)),n},nullContext:Object.seal({}),noop:e.VM.noop,compilerInfo:t.compiler};function o(e){var n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],r=n.data;o._setup(n),!n.partial&&t.useData&&(r=d(e,r));var s=void 0,a=t.useBlockParams?[]:void 0;function u(e){return""+t.main(i,e,i.helpers,i.partials,r,a,s)}return t.useDepths&&(s=n.depths?e!=n.depths[0]?[e].concat(n.depths):n.depths:[e]),(u=p(t.main,u,i,n.depths||[],r,a))(e,n)}return o.isTop=!0,o._setup=function(o){if(o.partial)i.protoAccessControl=o.protoAccessControl,i.helpers=o.helpers,i.partials=o.partials,i.decorators=o.decorators,i.hooks=o.hooks;else{var s=r.extend({},e.helpers,o.helpers);!function(t,e){Object.keys(t).forEach((function(n){var i=t[n];t[n]=function(t,e){var n=e.lookupProperty;return c.wrapHelper(t,(function(t){return r.extend({lookupProperty:n},t)}))}(i,e)}))}(s,i),i.helpers=s,t.usePartial&&(i.partials=i.mergeIfNeeded(o.partials,e.partials)),(t.usePartial||t.useDecorators)&&(i.decorators=r.extend({},e.decorators,o.decorators)),i.hooks={},i.protoAccessControl=l.createProtoAccessControl(o);var a=o.allowCallsToHelperMissing||n;u.moveHelperToHooks(i,"helperMissing",a),u.moveHelperToHooks(i,"blockHelperMissing",a)}},o._child=function(e,n,r,o){if(t.useBlockParams&&!r)throw new s.default("must pass block params");if(t.useDepths&&!o)throw new s.default("must pass parent depths");return h(i,e,t[e],n,0,r,o)},o},e.wrapProgram=h,e.resolvePartial=function(t,e,n){t?t.call||n.name||(n.name=t,t=n.partials[t]):t="@partial-block"===n.name?n.data["partial-block"]:n.partials[n.name];return t},e.invokePartial=function(t,e,n){var i=n.data&&n.data["partial-block"];n.partial=!0,n.ids&&(n.data.contextPath=n.ids[0]||n.data.contextPath);var o=void 0;n.fn&&n.fn!==f&&function(){n.data=a.createFrame(n.data);var t=n.fn;o=n.data["partial-block"]=function(e){var n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];return n.data=a.createFrame(n.data),n.data["partial-block"]=i,t(e,n)},t.partials&&(n.partials=r.extend({},n.partials,t.partials))}();void 0===t&&o&&(t=o);if(void 0===t)throw new s.default("The partial "+n.name+" could not be found");if(t instanceof Function)return t(e,n)},e.noop=f;var i,r=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n("82EY")),o=n("AIJh"),s=(i=o)&&i.__esModule?i:{default:i},a=n("dJlP"),u=n("hSGR"),c=n("lLDp"),l=n("4wZq");function h(t,e,n,i,r,o,s){function a(e){var r=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],a=s;return!s||e==s[0]||e===t.nullContext&&null===s[0]||(a=[e].concat(s)),n(t,e,t.helpers,t.partials,r.data||i,o&&[r.blockParams].concat(o),a)}return(a=p(n,a,t,s,i,o)).program=e,a.depth=s?s.length:0,a.blockParams=r||0,a}function f(){return""}function d(t,e){return e&&"root"in e||((e=e?a.createFrame(e):{}).root=t),e}function p(t,e,n,i,o,s){if(t.decorator){var a={};e=t.decorator(e,a,n,i&&i[0],o,s,i),r.extend(e,a)}return e}},d5e9:function(t,e,n){var i=n("GHf2"),r=n("w/Ji"),o=n("nRc6"),s=i("unscopables"),a=Array.prototype;null==a[s]&&o.f(a,s,{configurable:!0,value:r(null)}),t.exports=function(t){a[s][t]=!0}},dJlP:function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0,e.HandlebarsEnvironment=l;var r=n("82EY"),o=i(n("AIJh")),s=n("hSGR"),a=n("/YDJ"),u=i(n("jYw0")),c=n("4wZq");e.VERSION="4.7.6";e.COMPILER_REVISION=8;e.LAST_COMPATIBLE_COMPILER_REVISION=7;e.REVISION_CHANGES={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:"== 1.x.x",5:"== 2.0.0-alpha.x",6:">= 2.0.0-beta.1",7:">= 4.0.0 <4.3.0",8:">= 4.3.0"};function l(t,e,n){this.helpers=t||{},this.partials=e||{},this.decorators=n||{},s.registerDefaultHelpers(this),a.registerDefaultDecorators(this)}l.prototype={constructor:l,logger:u.default,log:u.default.log,registerHelper:function(t,e){if("[object Object]"===r.toString.call(t)){if(e)throw new o.default("Arg not supported with multiple helpers");r.extend(this.helpers,t)}else this.helpers[t]=e},unregisterHelper:function(t){delete this.helpers[t]},registerPartial:function(t,e){if("[object Object]"===r.toString.call(t))r.extend(this.partials,t);else{if(void 0===e)throw new o.default('Attempting to register a partial called "'+t+'" as undefined');this.partials[t]=e}},unregisterPartial:function(t){delete this.partials[t]},registerDecorator:function(t,e){if("[object Object]"===r.toString.call(t)){if(e)throw new o.default("Arg not supported with multiple decorators");r.extend(this.decorators,t)}else this.decorators[t]=e},unregisterDecorator:function(t){delete this.decorators[t]},resetLoggedPropertyAccesses:function(){c.resetLoggedProperties()}};var h=u.default.log;e.log=h,e.createFrame=r.createFrame,e.logger=u.default},diAC:function(t,e,n){"use strict";e.__esModule=!0;var i,r=n("AIJh"),o=(i=r)&&i.__esModule?i:{default:i};e.default=function(t){t.registerHelper("helperMissing",(function(){if(1!==arguments.length)throw new o.default('Missing helper: "'+arguments[arguments.length-1].name+'"')}))},t.exports=e.default},"ek/P":function(t,e){t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},"fK/z":function(t,e,n){"use strict";var i=n("+iL7");t.exports=function(t,e){var n=[][t];return!!n&&i((function(){n.call(null,e||function(){throw 1},1)}))}},fSIz:function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},fT8P:function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},fshm:function(t,e,n){var i=n("k2M3"),r=n("fSIz"),o=n("GHf2")("toStringTag"),s="Arguments"==r(function(){return arguments}());t.exports=i?r:function(t){var e,n,i;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),o))?n:s?r(e):"Object"==(i=r(e))&&"function"==typeof e.callee?"Arguments":i}},gDYM:function(t,e,n){var i=n("fT8P");t.exports=function(t){if(!i(t))throw TypeError(String(t)+" is not an object");return t}},gIo2:function(t,e,n){var i=n("PCqT"),r=n("MoOl");(t.exports=function(t,e){return r[t]||(r[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.6.5",mode:i?"pure":"global",copyright:" 2020 Denis Pushkarev (zloirock.ru)"})},glsI:function(t,e,n){var i=n("wTAb"),r=Math.max,o=Math.min;t.exports=function(t,e){var n=i(t);return n<0?r(n+e,0):o(n,e)}},gmtn:function(t,e){t.exports=function(t){try{return{error:!1,value:t()}}catch(t){return{error:!0,value:t}}}},"h/Mk":function(t,e,n){var i=n("fSIz");t.exports=Array.isArray||function(t){return"Array"==i(t)}},hGk8:function(t,e,n){"use strict";e.__esModule=!0;var i=n("82EY");e.default=function(t){t.registerDecorator("inline",(function(t,e,n,r){var o=t;return e.partials||(e.partials={},o=function(r,o){var s=n.partials;n.partials=i.extend({},s,e.partials);var a=t(r,o);return n.partials=s,a}),e.partials[r.args[0]]=r.fn,o}))},t.exports=e.default},hSGR:function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0,e.registerDefaultHelpers=function(t){r.default(t),o.default(t),s.default(t),a.default(t),u.default(t),c.default(t),l.default(t)},e.moveHelperToHooks=function(t,e,n){t.helpers[e]&&(t.hooks[e]=t.helpers[e],n||delete t.helpers[e])};var r=i(n("ZyKY")),o=i(n("20JI")),s=i(n("diAC")),a=i(n("7UkH")),u=i(n("IVfQ")),c=i(n("iRzr")),l=i(n("k+yp"))},hVpg:function(t,e,n){"use strict";var i,r,o=n("O2Ja"),s=n("BqYr"),a=RegExp.prototype.exec,u=String.prototype.replace,c=a,l=(i=/a/,r=/b*/g,a.call(i,"a"),a.call(r,"a"),0!==i.lastIndex||0!==r.lastIndex),h=s.UNSUPPORTED_Y||s.BROKEN_CARET,f=void 0!==/()??/.exec("")[1];(l||f||h)&&(c=function(t){var e,n,i,r,s=this,c=h&&s.sticky,d=o.call(s),p=s.source,v=0,g=t;return c&&(-1===(d=d.replace("y","")).indexOf("g")&&(d+="g"),g=String(t).slice(s.lastIndex),s.lastIndex>0&&(!s.multiline||s.multiline&&"\n"!==t[s.lastIndex-1])&&(p="(?: "+p+")",g=" "+g,v++),n=new RegExp("^(?:"+p+")",d)),f&&(n=new RegExp("^"+p+"$(?!\\s)",d)),l&&(e=s.lastIndex),i=a.call(c?n:s,g),c?i?(i.input=i.input.slice(v),i[0]=i[0].slice(v),i.index=s.lastIndex,s.lastIndex+=i[0].length):s.lastIndex=0:l&&i&&(s.lastIndex=s.global?i.index+i[0].length:e),f&&i&&i.length>1&&u.call(i[0],n,(function(){for(r=1;r<arguments.length-2;r++)void 0===arguments[r]&&(i[r]=void 0)})),i}),t.exports=c},hXTI:function(t,e,n){var i=n("nEaP");t.exports=i.Promise},iBt0:function(t,e){t.exports=function(t,e,n){if(!(t instanceof e))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation");return t}},iRzr:function(t,e,n){"use strict";e.__esModule=!0,e.default=function(t){t.registerHelper("lookup",(function(t,e,n){return t?n.lookupProperty(t,e):t}))},t.exports=e.default},iSxr:function(t,e,n){var i=n("fT8P"),r=n("h/Mk"),o=n("GHf2")("species");t.exports=function(t,e){var n;return r(t)&&("function"!=typeof(n=t.constructor)||n!==Array&&!r(n.prototype)?i(n)&&null===(n=n[o])&&(n=void 0):n=void 0),new(void 0===n?Array:n)(0===e?0:e)}},jYw0:function(t,e,n){"use strict";e.__esModule=!0;var i=n("82EY"),r={methodMap:["debug","info","warn","error"],level:"info",lookupLevel:function(t){if("string"==typeof t){var e=i.indexOf(r.methodMap,t.toLowerCase());t=e>=0?e:parseInt(t,10)}return t},log:function(t){if(t=r.lookupLevel(t),"undefined"!=typeof console&&r.lookupLevel(r.level)<=t){var e=r.methodMap[t];console[e]||(e="log");for(var n=arguments.length,i=Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];console[e].apply(console,i)}}};e.default=r,t.exports=e.default},jmCa:function(t,e){t.exports=function(t){return t&&"object"==typeof t&&"function"==typeof t.copy&&"function"==typeof t.fill&&"function"==typeof t.readUInt8}},jmUq:function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(String(t)+" is not a function");return t}},"k+yp":function(t,e,n){"use strict";e.__esModule=!0;var i,r=n("82EY"),o=n("AIJh"),s=(i=o)&&i.__esModule?i:{default:i};e.default=function(t){t.registerHelper("with",(function(t,e){if(2!=arguments.length)throw new s.default("#with requires exactly one argument");r.isFunction(t)&&(t=t.call(this));var n=e.fn;if(r.isEmpty(t))return e.inverse(this);var i=e.data;return e.data&&e.ids&&((i=r.createFrame(e.data)).contextPath=r.appendContextPath(e.data.contextPath,e.ids[0])),n(t,{data:i,blockParams:r.blockParams([t],[i&&i.contextPath])})}))},t.exports=e.default},k2M3:function(t,e,n){var i={};i[n("GHf2")("toStringTag")]="z",t.exports="[object z]"===String(i)},kMPr:function(t,e,n){var i=n("M/tt"),r=n("zrDt"),o=n("glsI"),s=function(t){return function(e,n,s){var a,u=i(e),c=r(u.length),l=o(s,c);if(t&&n!=n){for(;c>l;)if((a=u[l++])!=a)return!0}else for(;c>l;l++)if((t||l in u)&&u[l]===n)return t||l||0;return!t&&-1}};t.exports={includes:s(!0),indexOf:s(!1)}},l3gt:function(t,e,n){"use strict";function i(t){this.string=t}e.__esModule=!0,i.prototype.toString=i.prototype.toHTML=function(){return""+this.string},e.default=i,t.exports=e.default},lAJ5:function(t,e,n){"use strict";var i=n("JRM0"),r=n("5q7I").some,o=n("fK/z"),s=n("p2JK"),a=o("some"),u=s("some");i({target:"Array",proto:!0,forced:!a||!u},{some:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}})},lLDp:function(t,e,n){"use strict";e.__esModule=!0,e.wrapHelper=function(t,e){if("function"!=typeof t)return t;return function(){var n=arguments[arguments.length-1];return arguments[arguments.length-1]=e(n),t.apply(this,arguments)}}},lUv3:function(t,e,n){var i=n("nEaP");t.exports=i},lmye:function(t,e,n){"use strict";var i=n("JRM0"),r=n("5q7I").map,o=n("WCig"),s=n("p2JK"),a=o("map"),u=s("map");i({target:"Array",proto:!0,forced:!a||!u},{map:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}})},m1e9:function(t,e,n){var i,r,o,s,a,u,c,l,h=n("nEaP"),f=n("Fup7").f,d=n("fSIz"),p=n("4ssk").set,v=n("s06e"),g=h.MutationObserver||h.WebKitMutationObserver,m=h.process,y=h.Promise,b="process"==d(m),w=f(h,"queueMicrotask"),_=w&&w.value;_||(i=function(){var t,e;for(b&&(t=m.domain)&&t.exit();r;){e=r.fn,r=r.next;try{e()}catch(t){throw r?s():o=void 0,t}}o=void 0,t&&t.enter()},b?s=function(){m.nextTick(i)}:g&&!v?(a=!0,u=document.createTextNode(""),new g(i).observe(u,{characterData:!0}),s=function(){u.data=a=!a}):y&&y.resolve?(c=y.resolve(void 0),l=c.then,s=function(){l.call(c,i)}):s=function(){p.call(h,i)}),t.exports=_||function(t){var e={fn:t,next:void 0};o&&(o.next=e),r||(r=e,s()),o=e}},maYj:function(t,e,n){var i=n("gDYM"),r=n("6+ef"),o=n("zrDt"),s=n("a72Q"),a=n("QYi2"),u=n("7YMQ"),c=function(t,e){this.stopped=t,this.result=e};(t.exports=function(t,e,n,l,h){var f,d,p,v,g,m,y,b=s(e,n,l?2:1);if(h)f=t;else{if("function"!=typeof(d=a(t)))throw TypeError("Target is not iterable");if(r(d)){for(p=0,v=o(t.length);v>p;p++)if((g=l?b(i(y=t[p])[0],y[1]):b(t[p]))&&g instanceof c)return g;return new c(!1)}f=d.call(t)}for(m=f.next;!(y=m.call(f)).done;)if("object"==typeof(g=u(f,b,y.value,l))&&g&&g instanceof c)return g;return new c(!1)}).stop=function(t){return new c(!0,t)}},mp5j:function(t,e,n){t.exports=n("Jikt").default},mvOm:function(t,e){t.exports=Object.is||function(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e}},nEaP:function(t,e,n){(function(e){var n=function(t){return t&&t.Math==Math&&t};t.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof e&&e)||Function("return this")()}).call(this,n("pCvA"))},nHIk:function(t,e,n){var i=n("Hvpk"),r=n("nRc6"),o=n("VSW8");t.exports=i?function(t,e,n){return r.f(t,e,o(1,n))}:function(t,e,n){return t[e]=n,t}},nRc6:function(t,e,n){var i=n("Hvpk"),r=n("xwiM"),o=n("gDYM"),s=n("W9fh"),a=Object.defineProperty;e.f=i?a:function(t,e,n){if(o(t),e=s(e,!0),o(n),r)try{return a(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},nrda:function(t,e){var n=0,i=Math.random();t.exports=function(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++n+i).toString(36)}},ozP9:function(t,e){e.module=function(t,e){"use strict";var n=function(e){t.Paginator.call(this,e)};t.SearchPaginator=n,e.inherits(n,t.Paginator),n.prototype.render=function(){var t,e,n,i,r=this.getPaginationData(),o='<div class="paginator">';if(r.pageCount<2)return o+="</div>";if(i=this.preparePreLink(r.prelink),r.previous&&(o+='<a href="'+i+r.previous+'" class="paginator-previous">'+this.options.translator("PREVIOUS")+"</a>"),r.range.length)for(t=0,e=r.range.length;t<e;t++)n="paginator-page",r.range[t]===r.current&&(n="paginator-current"),0===t?n+=" paginator-page-first":t===e-1&&(n+=" paginator-page-last"),o+='<a href="'+i+r.range[t]+'" class="'+n+'">'+r.range[t]+"</a>";return r.next&&(o+='<a href="'+i+r.next+'" class="paginator-next">'+this.options.translator("NEXT")+"</a>"),o+="</div>"},t.registerFactory("search",n)}},p2JK:function(t,e,n){var i=n("Hvpk"),r=n("+iL7"),o=n("tF07"),s=Object.defineProperty,a={},u=function(t){throw t};t.exports=function(t,e){if(o(a,t))return a[t];e||(e={});var n=[][t],c=!!o(e,"ACCESSORS")&&e.ACCESSORS,l=o(e,0)?e[0]:u,h=o(e,1)?e[1]:void 0;return a[t]=!!n&&!r((function(){if(c&&!i)return!0;var t={length:-1};c?s(t,1,{enumerable:!0,get:u}):t[1]=1,n.call(t,l,h)}))}},pCvA:function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},ptwD:function(t,e,n){"use strict";e.__esModule=!0,e.createNewLookupObject=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return i.extend.apply(void 0,[Object.create(null)].concat(e))};var i=n("82EY")},"q/gS":function(t,e){t.exports={}},rk7W:function(t,e){e.f=Object.getOwnPropertySymbols},rxbk:function(t,e,n){var i=n("UVdV");t.exports=i("navigator","userAgent")||""},s06e:function(t,e,n){var i=n("rxbk");t.exports=/(iphone|ipod|ipad).*applewebkit/i.test(i)},s3NK:function(t,e){t.exports={}},spsd:function(t,e,n){(function(t){var i=Object.getOwnPropertyDescriptors||function(t){for(var e=Object.keys(t),n={},i=0;i<e.length;i++)n[e[i]]=Object.getOwnPropertyDescriptor(t,e[i]);return n},r=/%[sdj%]/g;e.format=function(t){if(!m(t)){for(var e=[],n=0;n<arguments.length;n++)e.push(a(arguments[n]));return e.join(" ")}n=1;for(var i=arguments,o=i.length,s=String(t).replace(r,(function(t){if("%%"===t)return"%";if(n>=o)return t;switch(t){case"%s":return String(i[n++]);case"%d":return Number(i[n++]);case"%j":try{return JSON.stringify(i[n++])}catch(t){return"[Circular]"}default:return t}})),u=i[n];n<o;u=i[++n])v(u)||!w(u)?s+=" "+u:s+=" "+a(u);return s},e.deprecate=function(n,i){if(void 0!==t&&!0===t.noDeprecation)return n;if(void 0===t)return function(){return e.deprecate(n,i).apply(this,arguments)};var r=!1;return function(){if(!r){if(t.throwDeprecation)throw new Error(i);t.traceDeprecation?console.trace(i):console.error(i),r=!0}return n.apply(this,arguments)}};var o,s={};function a(t,n){var i={seen:[],stylize:c};return arguments.length>=3&&(i.depth=arguments[2]),arguments.length>=4&&(i.colors=arguments[3]),p(n)?i.showHidden=n:n&&e._extend(i,n),y(i.showHidden)&&(i.showHidden=!1),y(i.depth)&&(i.depth=2),y(i.colors)&&(i.colors=!1),y(i.customInspect)&&(i.customInspect=!0),i.colors&&(i.stylize=u),l(i,t,i.depth)}function u(t,e){var n=a.styles[e];return n?"["+a.colors[n][0]+"m"+t+"["+a.colors[n][1]+"m":t}function c(t,e){return t}function l(t,n,i){if(t.customInspect&&n&&k(n.inspect)&&n.inspect!==e.inspect&&(!n.constructor||n.constructor.prototype!==n)){var r=n.inspect(i,t);return m(r)||(r=l(t,r,i)),r}var o=function(t,e){if(y(e))return t.stylize("undefined","undefined");if(m(e)){var n="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(n,"string")}if(g(e))return t.stylize(""+e,"number");if(p(e))return t.stylize(""+e,"boolean");if(v(e))return t.stylize("null","null")}(t,n);if(o)return o;var s=Object.keys(n),a=function(t){var e={};return t.forEach((function(t,n){e[t]=!0})),e}(s);if(t.showHidden&&(s=Object.getOwnPropertyNames(n)),E(n)&&(s.indexOf("message")>=0||s.indexOf("description")>=0))return h(n);if(0===s.length){if(k(n)){var u=n.name?": "+n.name:"";return t.stylize("[Function"+u+"]","special")}if(b(n))return t.stylize(RegExp.prototype.toString.call(n),"regexp");if(_(n))return t.stylize(Date.prototype.toString.call(n),"date");if(E(n))return h(n)}var c,w="",I=!1,T=["{","}"];(d(n)&&(I=!0,T=["[","]"]),k(n))&&(w=" [Function"+(n.name?": "+n.name:"")+"]");return b(n)&&(w=" "+RegExp.prototype.toString.call(n)),_(n)&&(w=" "+Date.prototype.toUTCString.call(n)),E(n)&&(w=" "+h(n)),0!==s.length||I&&0!=n.length?i<0?b(n)?t.stylize(RegExp.prototype.toString.call(n),"regexp"):t.stylize("[Object]","special"):(t.seen.push(n),c=I?function(t,e,n,i,r){for(var o=[],s=0,a=e.length;s<a;++s)C(e,String(s))?o.push(f(t,e,n,i,String(s),!0)):o.push("");return r.forEach((function(r){r.match(/^\d+$/)||o.push(f(t,e,n,i,r,!0))})),o}(t,n,i,a,s):s.map((function(e){return f(t,n,i,a,e,I)})),t.seen.pop(),function(t,e,n){if(t.reduce((function(t,e){return e.indexOf("\n")>=0&&0,t+e.replace(/\u001b\[\d\d?m/g,"").length+1}),0)>60)return n[0]+(""===e?"":e+"\n ")+" "+t.join(",\n  ")+" "+n[1];return n[0]+e+" "+t.join(", ")+" "+n[1]}(c,w,T)):T[0]+w+T[1]}function h(t){return"["+Error.prototype.toString.call(t)+"]"}function f(t,e,n,i,r,o){var s,a,u;if((u=Object.getOwnPropertyDescriptor(e,r)||{value:e[r]}).get?a=u.set?t.stylize("[Getter/Setter]","special"):t.stylize("[Getter]","special"):u.set&&(a=t.stylize("[Setter]","special")),C(i,r)||(s="["+r+"]"),a||(t.seen.indexOf(u.value)<0?(a=v(n)?l(t,u.value,null):l(t,u.value,n-1)).indexOf("\n")>-1&&(a=o?a.split("\n").map((function(t){return"  "+t})).join("\n").substr(2):"\n"+a.split("\n").map((function(t){return"   "+t})).join("\n")):a=t.stylize("[Circular]","special")),y(s)){if(o&&r.match(/^\d+$/))return a;(s=JSON.stringify(""+r)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.substr(1,s.length-2),s=t.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),s=t.stylize(s,"string"))}return s+": "+a}function d(t){return Array.isArray(t)}function p(t){return"boolean"==typeof t}function v(t){return null===t}function g(t){return"number"==typeof t}function m(t){return"string"==typeof t}function y(t){return void 0===t}function b(t){return w(t)&&"[object RegExp]"===I(t)}function w(t){return"object"==typeof t&&null!==t}function _(t){return w(t)&&"[object Date]"===I(t)}function E(t){return w(t)&&("[object Error]"===I(t)||t instanceof Error)}function k(t){return"function"==typeof t}function I(t){return Object.prototype.toString.call(t)}function T(t){return t<10?"0"+t.toString(10):t.toString(10)}e.debuglog=function(n){if(y(o)&&(o=t.env.NODE_DEBUG||""),n=n.toUpperCase(),!s[n])if(new RegExp("\\b"+n+"\\b","i").test(o)){var i=t.pid;s[n]=function(){var t=e.format.apply(e,arguments);console.error("%s %d: %s",n,i,t)}}else s[n]=function(){};return s[n]},e.inspect=a,a.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},a.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},e.isArray=d,e.isBoolean=p,e.isNull=v,e.isNullOrUndefined=function(t){return null==t},e.isNumber=g,e.isString=m,e.isSymbol=function(t){return"symbol"==typeof t},e.isUndefined=y,e.isRegExp=b,e.isObject=w,e.isDate=_,e.isError=E,e.isFunction=k,e.isPrimitive=function(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||void 0===t},e.isBuffer=n("jmCa");var O=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function S(){var t=new Date,e=[T(t.getHours()),T(t.getMinutes()),T(t.getSeconds())].join(":");return[t.getDate(),O[t.getMonth()],e].join(" ")}function C(t,e){return Object.prototype.hasOwnProperty.call(t,e)}e.log=function(){console.log("%s - %s",S(),e.format.apply(e,arguments))},e.inherits=n("Fx6Z"),e._extend=function(t,e){if(!e||!w(e))return t;for(var n=Object.keys(e),i=n.length;i--;)t[n[i]]=e[n[i]];return t};var A="undefined"!=typeof Symbol?Symbol("util.promisify.custom"):void 0;function x(t,e){if(!t){var n=new Error("Promise was rejected with a falsy value");n.reason=t,t=n}return e(t)}e.promisify=function(t){if("function"!=typeof t)throw new TypeError('The "original" argument must be of type Function');if(A&&t[A]){var e;if("function"!=typeof(e=t[A]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(e,A,{value:e,enumerable:!1,writable:!1,configurable:!0}),e}function e(){for(var e,n,i=new Promise((function(t,i){e=t,n=i})),r=[],o=0;o<arguments.length;o++)r.push(arguments[o]);r.push((function(t,i){t?n(t):e(i)}));try{t.apply(this,r)}catch(t){n(t)}return i}return Object.setPrototypeOf(e,Object.getPrototypeOf(t)),A&&Object.defineProperty(e,A,{value:e,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(e,i(t))},e.promisify.custom=A,e.callbackify=function(e){if("function"!=typeof e)throw new TypeError('The "original" argument must be of type Function');function n(){for(var n=[],i=0;i<arguments.length;i++)n.push(arguments[i]);var r=n.pop();if("function"!=typeof r)throw new TypeError("The last argument must be of type Function");var o=this,s=function(){return r.apply(o,arguments)};e.apply(this,n).then((function(e){t.nextTick(s,null,e)}),(function(e){t.nextTick(x,e,s)}))}return Object.setPrototypeOf(n,Object.getPrototypeOf(e)),Object.defineProperties(n,i(e)),n}}).call(this,n("5IsQ"))},tF07:function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},tPpl:function(t,e){t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},uQK7:function(t,e,n){"use strict";var i=n("JRM0"),r=n("kMPr").indexOf,o=n("fK/z"),s=n("p2JK"),a=[].indexOf,u=!!a&&1/[1].indexOf(1,-0)<0,c=o("indexOf"),l=s("indexOf",{ACCESSORS:!0,1:0});i({target:"Array",proto:!0,forced:u||!c||!l},{indexOf:function(t){return u?a.apply(this,arguments)||0:r(this,t,arguments.length>1?arguments[1]:void 0)}})},ujzH:function(t,e,n){var i=n("8OJN"),r=n("ek/P");t.exports=Object.keys||function(t){return i(t,r)}},v0JE:function(t,e,n){var i=n("tF07"),r=n("LMdw"),o=n("Fup7"),s=n("nRc6");t.exports=function(t,e){for(var n=r(e),a=s.f,u=o.f,c=0;c<n.length;c++){var l=n[c];i(t,l)||a(t,l,u(e,l))}}},vj29:function(t,e,n){"use strict";n.d(e,"b",(function(){return r})),n.d(e,"a",(function(){return o})),n.d(e,"c",(function(){return s})),n.d(e,"d",(function(){return a}));
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}function o(t,e,n,i){return new(n||(n=Promise))((function(r,o){function s(t){try{u(i.next(t))}catch(t){o(t)}}function a(t){try{u(i.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}u((i=i.apply(t,e||[])).next())}))}function s(t,e){var n,i,r,o,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,i=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(r=s.trys,(r=r.length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){s.label=o[1];break}if(6===o[0]&&s.label<r[1]){s.label=r[1],r=o;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(o);break}r[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}Object.create;function a(t,e){for(var n=0,i=e.length,r=t.length;n<i;n++,r++)t[r]=e[n];return t}Object.create},"vy/h":function(t,e,n){"use strict";t.exports=function(t,e){return e||(e={}),"string"!=typeof(t=t&&t.__esModule?t.default:t)?t:(e.hash&&(t+=e.hash),e.maybeNeedQuotes&&/[\t\n\f\r "'=<>`]/.test(t)?'"'.concat(t,'"'):t)}},"w/Ji":function(t,e,n){var i,r=n("gDYM"),o=n("11ZY"),s=n("ek/P"),a=n("s3NK"),u=n("R1TW"),c=n("HRgQ"),l=n("3pC9"),h=l("IE_PROTO"),f=function(){},d=function(t){return"<script>"+t+"<\/script>"},p=function(){try{i=document.domain&&new ActiveXObject("htmlfile")}catch(t){}var t,e;p=i?function(t){t.write(d("")),t.close();var e=t.parentWindow.Object;return t=null,e}(i):((e=c("iframe")).style.display="none",u.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write(d("document.F=Object")),t.close(),t.F);for(var n=s.length;n--;)delete p.prototype[s[n]];return p()};a[h]=!0,t.exports=Object.create||function(t,e){var n;return null!==t?(f.prototype=r(t),n=new f,f.prototype=null,n[h]=t):n=p(),void 0===e?n:o(n,e)}},wTAb:function(t,e){var n=Math.ceil,i=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?i:n)(t)}},wcNg:function(t,e,n){var i=function(t){"use strict";var e=Object.prototype,n=e.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},r=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function a(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{a({},"")}catch(t){a=function(t,e,n){return t[e]=n}}function u(t,e,n,i){var r=e&&e.prototype instanceof h?e:h,o=Object.create(r.prototype),s=new k(i||[]);return o._invoke=function(t,e,n){var i="suspendedStart";return function(r,o){if("executing"===i)throw new Error("Generator is already running");if("completed"===i){if("throw"===r)throw o;return T()}for(n.method=r,n.arg=o;;){var s=n.delegate;if(s){var a=w(s,n);if(a){if(a===l)continue;return a}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===i)throw i="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i="executing";var u=c(t,e,n);if("normal"===u.type){if(i=n.done?"completed":"suspendedYield",u.arg===l)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(i="completed",n.method="throw",n.arg=u.arg)}}}(t,n,s),o}function c(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=u;var l={};function h(){}function f(){}function d(){}var p={};p[r]=function(){return this};var v=Object.getPrototypeOf,g=v&&v(v(I([])));g&&g!==e&&n.call(g,r)&&(p=g);var m=d.prototype=h.prototype=Object.create(p);function y(t){["next","throw","return"].forEach((function(e){a(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){var i;this._invoke=function(r,o){function s(){return new e((function(i,s){!function i(r,o,s,a){var u=c(t[r],t,o);if("throw"!==u.type){var l=u.arg,h=l.value;return h&&"object"==typeof h&&n.call(h,"__await")?e.resolve(h.__await).then((function(t){i("next",t,s,a)}),(function(t){i("throw",t,s,a)})):e.resolve(h).then((function(t){l.value=t,s(l)}),(function(t){return i("throw",t,s,a)}))}a(u.arg)}(r,o,i,s)}))}return i=i?i.then(s,s):s()}}function w(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var i=c(n,t.iterator,e.arg);if("throw"===i.type)return e.method="throw",e.arg=i.arg,e.delegate=null,l;var r=i.arg;return r?r.done?(e[t.resultName]=r.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):r:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function k(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function I(t){if(t){var e=t[r];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,o=function e(){for(;++i<t.length;)if(n.call(t,i))return e.value=t[i],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:T}}function T(){return{value:void 0,done:!0}}return f.prototype=m.constructor=d,d.constructor=f,f.displayName=a(d,s,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===f||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,a(t,s,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},y(b.prototype),b.prototype[o]=function(){return this},t.AsyncIterator=b,t.async=function(e,n,i,r,o){void 0===o&&(o=Promise);var s=new b(u(e,n,i,r),o);return t.isGeneratorFunction(n)?s:s.next().then((function(t){return t.done?t.value:s.next()}))},y(m),a(m,s,"Generator"),m[r]=function(){return this},m.toString=function(){return"[object Generator]"},t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var i=e.pop();if(i in t)return n.value=i,n.done=!1,n}return n.done=!0,n}},t.values=I,k.prototype={constructor:k,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function i(n,i){return s.type="throw",s.arg=t,e.next=n,i&&(e.method="next",e.arg=void 0),!!i}for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r],s=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var a=n.call(o,"catchLoc"),u=n.call(o,"finallyLoc");if(a&&u){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(t,e){for(var i=this.tryEntries.length-1;i>=0;--i){var r=this.tryEntries[i];if(r.tryLoc<=this.prev&&n.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var s=o?o.completion:{};return s.type=t,s.arg=e,o?(this.method="next",this.next=o.finallyLoc,l):this.complete(s)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),E(n),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var i=n.completion;if("throw"===i.type){var r=i.arg;E(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:I(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},t}(t.exports);try{regeneratorRuntime=i}catch(t){Function("r","regeneratorRuntime = r")(i)}},x3Br:function(t,e,n){"use strict";var i=n("JRM0"),r=n("SmY9").left,o=n("fK/z"),s=n("p2JK"),a=o("reduce"),u=s("reduce",{1:0});i({target:"Array",proto:!0,forced:!a||!u},{reduce:function(t){return r(this,t,arguments.length,arguments.length>1?arguments[1]:void 0)}})},xwiM:function(t,e,n){var i=n("Hvpk"),r=n("+iL7"),o=n("HRgQ");t.exports=!i&&!r((function(){return 7!=Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a}))},xxLW:function(t,e,n){var i=n("0K2p");t.exports=function(t,e,n){for(var r in e)i(t,r,e[r],n);return t}},"z+V7":function(t,e,n){var i=n("wTAb"),r=n("Qean"),o=function(t){return function(e,n){var o,s,a=String(r(e)),u=i(n),c=a.length;return u<0||u>=c?t?"":void 0:(o=a.charCodeAt(u))<55296||o>56319||u+1===c||(s=a.charCodeAt(u+1))<56320||s>57343?t?a.charAt(u):o:t?a.slice(u,u+2):s-56320+(o-55296<<10)+65536}};t.exports={codeAt:o(!1),charAt:o(!0)}},zrDt:function(t,e,n){var i=n("wTAb"),r=Math.min;t.exports=function(t){return t>0?r(i(t),9007199254740991):0}},ztTQ:function(t,e,n){"use strict";var i=n("W9fh"),r=n("nRc6"),o=n("VSW8");t.exports=function(t,e,n){var s=i(e);s in t?r.f(t,s,o(0,n)):t[s]=n}}}]);
//# sourceMappingURL=vendors.fba74f2b9e9d70307e71.js.map