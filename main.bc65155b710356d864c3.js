(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{"1OFI":function(e,t,i){var n=i("mp5j");e.exports=(n.default||n).template({compiler:[8,">= 4.3.0"],main:function(e,t,i,n,a){var s,o=null!=t?t:e.nullContext||{},r=e.hooks.helperMissing,l="function",c=e.escapeExpression,u=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<li class="gallery__item" data-id="'+c(typeof(s=null!=(s=u(i,"id")||(null!=t?u(t,"id"):t))?s:r)===l?s.call(o,{name:"id",hash:{},data:a,loc:{start:{line:1,column:35},end:{line:1,column:41}}}):s)+'">\r\n    <img class="gallery__img" src="https://image.tmdb.org/t/p/w500'+c(typeof(s=null!=(s=u(i,"poster_path")||(null!=t?u(t,"poster_path"):t))?s:r)===l?s.call(o,{name:"poster_path",hash:{},data:a,loc:{start:{line:2,column:66},end:{line:2,column:81}}}):s)+'" alt="'+c(typeof(s=null!=(s=u(i,"title")||(null!=t?u(t,"title"):t))?s:r)===l?s.call(o,{name:"title",hash:{},data:a,loc:{start:{line:2,column:88},end:{line:2,column:97}}}):s)+' movie poster">\r\n    <h3 class="gallery__movie-title">'+c(typeof(s=null!=(s=u(i,"title")||(null!=t?u(t,"title"):t))?s:r)===l?s.call(o,{name:"title",hash:{},data:a,loc:{start:{line:3,column:37},end:{line:3,column:46}}}):s)+'</h3>\r\n    <p class="gallery__movie-genre">'+c(typeof(s=null!=(s=u(i,"media_type")||(null!=t?u(t,"media_type"):t))?s:r)===l?s.call(o,{name:"media_type",hash:{},data:a,loc:{start:{line:4,column:36},end:{line:4,column:50}}}):s)+"</p>\r\n</li>"},useData:!0})},"4AnZ":function(e,t,i){var n='<header data-js="page-header" class="page-header"> <div class="container"> <nav class="site-nav"> <a class="logo" href="./index.html"> <svg class="logo-svg" width="24px" height="24px" alt="logo"> <use href="'+i("vy/h")(i("4din"),{hash:"#logo"})+'"></use> </svg> <span class="logo-text">Filmoteka</span> </a> <ul class="site-nav-link list"> <li data-js="home-btn" class="item home-js current"> <a><span>HOME</span> </a></li> <li data-js="lib-btn" class="item lib-js"> <a><span>MY LIBRARY</span> </a></li> </ul> </nav> <form data-js="search-form" class="search-form" id="search-form"> <input class="search-form-input" type="text" name="query" autocomplete="off" placeholder="Поиск фильмов"/> </form> <div class="header-button"> <button data-js="button-watch" class="button watch is-hidden is-active" type="button"> <span>WATCHED</span> </button> <button data-js="button-queue" class="button queue is-hidden" type="button"> <span>QUEUE</span> </button> </div> </div> </header> ';e.exports=n},"4din":function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMCIgaGVpZ2h0PSIwIiBjbGFzcz0iaGlkZGVuIj4NCiAgPHN5bWJvbCB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2aWV3Qm94PSIwIDAgNjcgNjciIGlkPSJhcnJvdy1yaWdodCI+DQogICAgPGltYWdlIHg9IjExIiB5PSIxMSIgd2lkdGg9IjQ1IiBoZWlnaHQ9IjQ1IiB4bGluazpocmVmPSJkYXRhOmltZy9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFDMEFBQUF0Q0FRQUFBQ1FFeW9SQUFBQUJHZEJUVUVBQUxHUEMveGhCUUFBQUNCalNGSk5BQUI2SmdBQWdJUUFBUG9BQUFDQTZBQUFkVEFBQU9wZ0FBQTZtQUFBRjNDY3VsRThBQUFBQW1KTFIwUUFBS3FOSXpJQUFBQUpjRWhaY3dBQUxpTUFBQzRqQVhpbFAzWUFBQUFIZEVsTlJRZmxBZ3dTQXljcnpsMy9BQUFBcjBsRVFWUkl4KzNYdlEzQ01CQ0c0WmVrb2J5UzBpTXdndWxnUWtyUFFSVTJnQTNJQnNrR3BrRW9ndWFTM0FrSjNibHk0Y2ZXSi8vSW9DMmgwRkZJNmhIcWVsQ3BWQWIydG5CK3dUUHdac0UwUW1lNzh0dGszY2F4U09DQkJ4NzRuK0FiQVBKcXZDQ1Qvc2lCKy9lY05tMUFXczRjN2JKNTE1WmQ0L0ZDQTVBYWVpZTZoK1NWdGVzT1dWOXVoeWJnZ0FNTytLZXc0MThtejRlWGZPN01MdnJQUU5SUnRHcjZnakJ5NWFSOXFKOFJQRzN4ajRuNnVnQUFBQUJKUlU1RXJrSmdnZz09Ij48L2ltYWdlPg0KICA8L3N5bWJvbD4NCiAgPHN5bWJvbCBmaWxsPSJub25lIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxMiAxMiIgaWQ9ImlucHV0LXNlYXJjaCI+DQogICAgPHBhdGggZD0iTTUuNSA5LjVhNCA0IDAgMTAwLTggNCA0IDAgMDAwIDh6bTUgMUw4LjMyNSA4LjMyNSIgc3Ryb2tlPSIjZmZmIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiPjwvcGF0aD4NCiAgPC9zeW1ib2w+DQogIDxzeW1ib2wgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB2aWV3Qm94PSIwIDAgMjQgMjQiIGlkPSJsb2dvIj4NCiAgICA8cGF0aCBkPSJNMTkuODIgMkg0LjE4QTIuMTggMi4xOCAwIDAwMiA0LjE4djE1LjY0QTIuMTggMi4xOCAwIDAwNC4xOCAyMmgxNS42NEEyLjE4IDIuMTggMCAwMDIyIDE5LjgyVjQuMThBMi4xOCAyLjE4IDAgMDAxOS44MiAyek03IDJ2MjBNMTcgMnYyME0yIDEyaDIwTTIgN2g1TTIgMTdoNW0xMCAwaDVNMTcgN2g1IiBzdHJva2U9IiM4MTgxODEiIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIj48L3BhdGg+DQogIDwvc3ltYm9sPg0KICA8c3ltYm9sIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgdmlld0JveD0iMCAwIDE0IDEzIiBpZD0ibG92ZSI+DQogICAgPHBhdGggZD0iTTcgMTIuODhsLS45OC0uOThDMi4zOCA4LjY4IDAgNi41MSAwIDMuODUgMCAxLjY4IDEuNjggMCAzLjg1IDAgNS4wNCAwIDYuMjMuNTYgNyAxLjQ3IDcuNzcuNTYgOC45NiAwIDEwLjE1IDAgMTIuMzIgMCAxNCAxLjY4IDE0IDMuODVjMCAyLjY2LTIuMzggNC44My02LjAyIDguMDVsLS45OC45OHoiIGZpbGw9IiNGRjZCMDgiPjwvcGF0aD4NCiAgPC9zeW1ib2w+DQogIDxzeW1ib2wgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB2aWV3Qm94PSIwIDAgMTYgMTYiIGlkPSJhcnJvdy1sZWZ0Ij4NCiAgICA8cGF0aCBkPSJNMTIuNjY3IDhIMy4zMzNNOCAxMi42NjdMMy4zMzMgOCA4IDMuMzMzIiBzdHJva2U9IiMwMDAiIHN0cm9rZS13aWR0aD0iMS4zMzMiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCI+PC9wYXRoPg0KICA8L3N5bWJvbD4NCjwvc3ZnPg=="},MJS0:function(e,t){e.exports=' <ul id="auth" class=""> <li class="logged-out is-hidden"> <a href="#" class="grey-text" id="logout"> <i class="material-icons"> logout </i> </a> </li> <li class="logged-in is-hidden"> <a href="#" class="grey-text modal-trigger" data-target="modal-login"> <i class="material-icons"> perm_identity </i> </a> </li> </ul> <div id="modal-signup" class="modal"> <div class="modal-content"> <h4>Sign up</h4> <br/> <form id="signup-form"> <div class="input-field"> <input type="email" id="signup-email" required/> <label for="signup-email">Email address</label> </div> <div class="input-field"> <input type="password" id="signup-password" required/> <label for="signup-password">Choose password</label> </div> <button class="btn darken-2 z-depth-0">Sign up</button> </form> </div> </div> <div id="modal-login" class="modal"> <div class="modal-content"> <h4>Login</h4> <br/> <form id="login-form"> <div class="input-field"> <input type="email" id="login-email" required/> <label for="login-email">Email address</label> </div> <div class="input-field"> <input type="password" id="login-password" required/> <label for="login-password">Your password</label> </div> <button class="btn darken-2 z-depth-0">Login</button> </form> <p> New user? <a href="#" class="grey-text modal-trigger" data-target="modal-signup"> Sign up </a> </p> </div> </div> '},QfWi:function(e,t,i){"use strict";i.r(t);i("yjly"),i("JBxO"),i("FdtR"),i("wcNg");var n=function(){function e(){this.refs=this.getRefs()}var t=e.prototype;return t.getRefs=function(){return{linkHome:document.querySelector('[data-js="home-btn"]'),linkLib:document.querySelector('[data-js="lib-btn"]'),inputForm:document.querySelector('[data-js="search-form"]'),buttonWatch:document.querySelector('[data-js="button-watch"]'),buttonQueue:document.querySelector('[data-js="button-queue"]'),headerBackground:document.querySelector('[data-js="page-header"]')}},t.init=function(){this.refs.linkHome.addEventListener("click",this.onHomeLinkClick.bind(this)),this.refs.linkLib.addEventListener("click",this.onMyLibraryLinkClick.bind(this))},t.onMyLibraryLinkClick=function(e){this.refs.linkHome.classList.remove("current"),this.refs.linkLib.classList.add("current"),this.refs.inputForm.classList.add("is-hidden"),this.refs.buttonQueue.classList.remove("is-hidden"),this.refs.buttonWatch.classList.remove("is-hidden"),this.refs.headerBackground.classList.add("lib"),this.initLibraryButtons(),this.onWatchedClick()},t.onHomeLinkClick=function(e){this.refs.linkHome.classList.add("current"),this.refs.linkLib.classList.remove("current"),this.refs.inputForm.classList.remove("is-hidden"),this.refs.buttonQueue.classList.add("is-hidden"),this.refs.buttonWatch.classList.add("is-hidden"),this.refs.headerBackground.classList.remove("lib"),this.disabelLibraryButtons()},t.initLibraryButtons=function(){this.refs.buttonWatch.addEventListener("click",this.onWatchedClick.bind(this)),this.refs.buttonQueue.addEventListener("click",this.onQueueClick.bind(this))},t.onWatchedClick=function(){this.refs.buttonWatch.classList.add("is-active"),this.refs.buttonQueue.classList.remove("is-active")},t.onQueueClick=function(){this.refs.buttonQueue.classList.add("is-active"),this.refs.buttonWatch.classList.remove("is-active")},t.disabelLibraryButtons=function(){this.refs.buttonQueue.removeEventListener("click",this.onWatchedClick.bind(this)),this.refs.buttonWatch.removeEventListener("click",this.onQueueClick.bind(this))},e}(),a=function(){function e(){this.refs=this.getRefs()}var t=e.prototype;return t.getRefs=function(){return{teamLink:document.querySelector('[data-js="team-link"]')}},t.init=function(){this.refs.teamLink.addEventListener("click",this.onTeamLinkClick.bind(this))},t.onTeamLinkClick=function(e){console.log("Now team modal must be open")},e}(),s=(i("x3Br"),i("1OFI")),o=i.n(s),r=function(){function e(){this.galleryRef=document.querySelector('[data-js="movie-gallery"]')}return e.prototype.render=function(e){var t=e.reduce((function(e,t){return e+o()(t)}),"");this.galleryRef.insertAdjacentHTML("afterbegin",t)},e}(),l=(i("Muwe"),i("X5mX"),{key:"62af7111fb0063930df9c7b53547034d",baseUrl:"https://api.themoviedb.org/3",names:{tranding:"/trending/movie/week",search:"/search/movie",movie:"/movie/"}});function c(e,t,i,n,a,s,o){try{var r=e[s](o),l=r.value}catch(e){return void i(e)}r.done?t(l):Promise.resolve(l).then(n,a)}var u=new(function(){function e(){this.settings=l}var t=e.prototype;return t.fetchPopularFilms=function(e){void 0===e&&(e=1);var t=""+this.settings.baseUrl+this.settings.names.tranding+"?api_key="+this.settings.key+"&page="+e;return fetch(t).then((function(e){return e.json()})).then((function(e){return e}))},t.fetchFilmsOnSearch=function(e,t){void 0===t&&(t=1);var i=""+this.settings.baseUrl+this.settings.names.search+"?api_key="+this.settings.key+"&language=en-US&query="+e+"&include_adult=false&page="+t;return fetch(i).then((function(e){return e.json()})).then((function(e){return e}))},t.fetchFilmById=function(e){var t=""+this.settings.baseUrl+this.settings.names.movie+e+"?api_key="+this.settings.key+"&language=en-US";return fetch(t).then((function(e){return e.json()})).then((function(e){return e}))},e}()),d=function(){function e(){this.refs=this.getGefs()}var t=e.prototype;return t.getGefs=function(){return{pageHeader:document.querySelector('[data-js="page-header"]'),movieGallery:document.querySelector('[data-js="movie-gallery"]'),pageFooter:document.querySelector('[data-js="page-footer"]')}},t.init=function(){var e=new n,t=new a;e.init(),t.init(),this.showPopularFilms()},t.onSearchBtnClick=function(e){},t.onHomeBtnClick=function(e){},t.onMyLibraryBtnClick=function(e){},t.onWatchedBtnClick=function(e){},t.onQueueBtnClick=function(e){},t.showPopularFilms=function(){var e,t=(e=regeneratorRuntime.mark((function e(t){var i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===t&&(t=1),e.prev=1,e.next=4,u.fetchPopularFilms(t);case 4:i=e.sent,(new r).render(i.results),e.next=11;break;case 9:e.prev=9,e.t0=e.catch(1);case 11:case"end":return e.stop()}}),e,null,[[1,9]])})),function(){var t=this,i=arguments;return new Promise((function(n,a){var s=e.apply(t,i);function o(e){c(s,n,a,o,r,"next",e)}function r(e){c(s,n,a,o,r,"throw",e)}o(void 0)}))});return function(e){return t.apply(this,arguments)}}(),e}(),g=(i("awo+"),i("MJS0")),h=i.n(g),m=i("SzhR");i("VwVG"),i("ELjB");document.querySelector("BODY").insertAdjacentHTML("afterbegin",h.a),document.addEventListener("DOMContentLoaded",(function(){var e=document.querySelectorAll(".modal");M.Modal.init(e)}));m.a.initializeApp({apiKey:"AIzaSyDckuyQARNfaPXRs7Jiz4Xgr28aczvsv5w",authDomain:"crazy-filmoteka.firebaseapp.com",projectId:"crazy-filmoteka",storageBucket:"crazy-filmoteka.appspot.com",messagingSenderId:"827169246677",appId:"1:827169246677:web:2524211488e4048eb1c15c"});var p=m.a.auth(),f=(m.a.firestore(),document.querySelector("#signup-form"));f.addEventListener("submit",(function(e){e.preventDefault();var t=f["signup-email"].value,i=f["signup-password"].value;p.createUserWithEmailAndPassword(t,i).then((function(e){console.log(e.user);var t=document.querySelector("#modal-signup");M.Modal.getInstance(t).close(),f.reset()}))})),document.querySelector("#logout").addEventListener("click",(function(e){e.preventDefault(),p.signOut().then((function(){}))}));var v=document.querySelector("#login-form");v.addEventListener("submit",(function(e){e.preventDefault();var t=v["login-email"].value,i=v["login-password"].value;p.signInWithEmailAndPassword(t,i).then((function(){var e=document.querySelector("#modal-login");M.Modal.getInstance(e).close(),v.reset()}))})),document.querySelector('[data-target="modal-signup"]').addEventListener("click",(function(){var e=document.querySelector("#modal-login");M.Modal.getInstance(e).close()}));var b=document.querySelector(".logged-out"),y=document.querySelector(".logged-in"),I=function(e){e?(y.classList.add("is-hidden"),b.classList.remove("is-hidden")):(y.classList.remove("is-hidden"),b.classList.add("is-hidden"))};p.onAuthStateChanged((function(e){e?(console.log("user logged in: ",e),I(e)):(console.log("user logged out"),I())}));var L=i("4AnZ"),k=i.n(L),j=i("fc4V"),w=i.n(j),D=document.querySelector("BODY");D.insertAdjacentHTML("afterbegin",k.a),D.insertAdjacentHTML("beforeend",w.a),(new d).init()},fc4V:function(e,t,i){var n='<footer class="footer" data-js="page-footer"> <div class="container"> <p class="footer-description"> © 2021 | All Rights Reserved | <span>Developed with</span> <svg class="footer-description__icon" width="14px" height="14px" alt=""> <use href="'+i("vy/h")(i("4din"),{hash:"#love"})+'"></use> </svg> <span>by</span> <a class="footer-description__link" data-js="team-link"> <span>GoIT Students</span> </a> </p> </div> </footer> ';e.exports=n},yjly:function(e,t,i){}},[["QfWi",1,2]]]);
//# sourceMappingURL=main.bc65155b710356d864c3.js.map